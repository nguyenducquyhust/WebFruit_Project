if (self.CavalryLogger) { CavalryLogger.start_js(["k2b1V"]); }

__d("FBRTCMessageType",[],(function(a,b,c,d,e,f){e.exports={JOIN:0,SERVER_MEDIA_UPDATE:1,HANGUP:2,ICE_CANDIDATE:3,RING:4,DISMISS:5,CONFERENCE_STATE:6,ADD_PARTICIPANTS:7,SUBSCRIPTION:8,CLIENT_MEDIA_UPDATE:9,DATA_MESSAGE:10,REMOVE_PARTICIPANTS:11,PING:18,P2P_PROTOCOL:19}}),null);
__d("FundsAvailability",[],(function(a,b,c,d,e,f){e.exports={NONE:0,FUNDS_AVAILABILITY_NA:65,FUNDS_AVAILABILITY_IMMEDIATE:73,FUNDS_AVAILABILITY_SAME_DAY:83,FUNDS_AVAILABILITY_NEXT_DAY:78,FUNDS_AVAILABILITY_TWO_DAY:80,FUNDS_AVAILABILITY_FIVE_DAY:70,FUNDS_AVAILABILITY_UNKNOWN:85,FUNDS_AVAILABILITY_ONE_THREE_DAY:79,FUNDS_AVAILABILITY_CROSS_BORDER:66,FUNDS_AVAILABILITY_CROSS_BORDER_FAST_FUNDS:67,FUNDS_AVAILABILITY_DOMESTIC:68,FUNDS_AVAILABILITY_DOMESTIC_FAST_FUNDS:69}}),null);
__d("IrisProtocolMessageLifetime",[],(function(a,b,c,d,e,f){e.exports={TTL_OFF:0,TTL_ON_UNKNOWN:1,TTL_30SECONDS:3e4,TTL_1MINUTE:6e4,TTL_3MINUTES:18e4,TTL_5MINUTES:3e5,TTL_10MINUTES:6e5,TTL_15MINUTES:9e5,TTL_30MINUTES:18e5,TTL_1HOUR:36e5,TTL_2HOURS:72e5,TTL_4HOURS:144e5,TTL_8HOURS:288e5,TTL_12HOURS:432e5,TTL_24HOURS:864e5}}),null);
__d("MercuryAPIArgsSource",[],(function(a,b,c,d,e,f){e.exports={CHAT:"chat",JEWEL:"jewel",MERCURY:"mercury",MERCURYSYNC:"mercury_sync",WEBMESSENGER:"web_messenger",MESSENGER:"messenger"}}),null);
__d("MercuryAudioType",[],(function(a,b,c,d,e,f){e.exports={AudioClip:"fb_voice_message",VoiceMessageWithTranscript:"fb_voice_message_with_transcript"}}),null);
__d("MessageLiveLocationClientSyncProtocolStopReason",[],(function(a,b,c,d,e,f){e.exports={EXPIRED:1,CANCELED:2,ARRIVED:3}}),null);
__d("MessengerEmojiConfig",[],(function(a,b,c,d,e,f){e.exports={emoji_colors:[0,127995,127996,127997,127998,127999]}}),null);
__d("MessengerFormattingConfig",[],(function(a,b,c,d,e,f){e.exports={boldConfig:{pattern:"([\\s_~'\"(]|^)\\*(\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s_~'\"(]|^)\\*(?:\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)"},italicConfig:{pattern:"([\\s*~'\"(]|^)_(\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*~'\"(]|^)_(?:\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)"},strikethroughConfig:{pattern:"([\\s*_'\"(]|^)~(\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_'\"(]|^)~(?:\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)"},codeConfig:{pattern:"([\\s*_~'\"(]|^)`([^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_~'\"(]|^)`(?:[^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)"},codeBlockConfig:{pattern:"(```)([\\s\\S]+?)```",nonCapturingPattern:"(```)([\\s\\S]+?)```"},codeBlockV2Config:{pattern:"(`{3,})(?:(?:((.*?)(?:\\r\\n?|\\n))([\\s\\S]*?))|(.+?))\\1\\s*?(?:\\r\\n?|\\n|$)",nonCapturingPattern:"(`{3,})([\\s\\S]+?)\\1\\s*((\\r\\n)|\\r|\\n|$)"},blockQuoteConfig:{pattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*?((\\r\\n)|\\r|\\n|$)",nonCapturingPattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*((\\r\\n)|\\r|\\n|$)"},multipleInlineBlockQuoteConfig:{pattern:"((^> )(.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*",nonCapturingPattern:"(^> (.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*"},singleInlineBlockQuoteConfig:{pattern:"(^> ?)(.*?$)",nonCapturingPattern:"^> ?(.*?$)"}}}),null);
__d("MNCommercePageSetting",[],(function(a,b,c,d,e,f){e.exports={COMMERCE_FAQ_ENABLED:"COMMERCE_FAQ_ENABLED",IN_MESSENGER_SHOPPING_ENABLED:"IN_MESSENGER_SHOPPING_ENABLED",COMMERCE_NUX_ENABLED:"COMMERCE_NUX_ENABLED",NULL_STATE_CTA_BUTTON_ALWAYS_ENABLED:"NULL_STATE_CTA_BUTTON_ALWAYS_ENABLED",STRUCTURED_MENU_ENABLED:"STRUCTURED_MENU_ENABLED",USER_CONTROL_TOPIC_MANAGE_ENABLED:"USER_CONTROL_TOPIC_MANAGE_ENABLED",COMPOSER_INPUT_DISABLED:"COMPOSER_INPUT_DISABLED"}}),null);
__d("PageCommItemStatus",[],(function(a,b,c,d,e,f){e.exports={FOLLOW_UP:"FOLLOW_UP",DONE:"DONE",TODO:"TODO",SPAM:"SPAM",DELETED:"DELETED"}}),null);
__d("StickerConstants",[],(function(a,b,c,d,e,f){e.exports={MOBILE_LIKE_STICKER_PACK_ID:"227877430692340",GRAVEYARD_PACK_ID:"604597256247273",LIKE_STICKER_ID:"227878347358915",HOT_LIKE_SMALL_STICKER_ID:"369239263222822",HOT_LIKE_MEDIUM_STICKER_ID:"369239343222814",HOT_LIKE_LARGE_STICKER_ID:"369239383222810",MRU_STICKER_PACK:"599061016853145",SEARCH_PACK_ID:"680229632032514",FEED_PACK_ID:"2239834712900285",OZ_PACK_ID:"1456625217993235",AVATARS_PACK_ID:"2191329907595522",TRENDING_STICKER_PACK_ID:"924487421216423",SPRITE_PADDING:"24",PayloadSource:{VIEW_ACTION:"view-action"},DEFAULT_FRAME_RATE:83,TRAY_SIZE:64,THREAD_SIZE:120}}),null);
__d("URLMatcherConfig",[],(function(a,b,c,d,e,f){e.exports={tlds:"(?:\\.(com|\ud55c\uad6d|\uc0bc\uc131|\ub2f7\ucef4|\ub2f7\ub137|\u9999\u6e2f|\u9999\u683c\u91cc\u62c9|\u9910\u5385|\u98df\u54c1|\u98de\u5229\u6d66|\u96fb\u8a0a\u76c8\u79d1|\u96c6\u56e2|\u901a\u8ca9|\u8d2d\u7269|\u8c37\u6b4c|\u8bfa\u57fa\u4e9a|\u8054\u901a|\u7f51\u7edc|\u7f51\u7ad9|\u7f51\u5e97|\u7f51\u5740|\u7ec4\u7ec7\u673a\u6784|\u79fb\u52a8|\u73e0\u5b9d|\u70b9\u770b|\u6fb3\u9580|\u6e38\u620f|\u6de1\u9a6c\u9521|\u673a\u6784|\u66f8\u7c4d|\u65f6\u5c1a|\u65b0\u95fb|\u65b0\u52a0\u5761|\u653f\u5e9c|\u653f\u52a1|\u624b\u8868|\u624b\u673a|\u6211\u7231\u4f60|\u6148\u5584|\u5fae\u535a|\u5e7f\u4e1c|\u5de5\u884c|\u5bb6\u96fb|\u5a31\u4e50|\u5929\u4e3b\u6559|\u5927\u62ff|\u5927\u4f17\u6c7d\u8f66|\u5728\u7ebf|\u5609\u91cc\u5927\u9152\u5e97|\u5609\u91cc|\u5546\u6807|\u5546\u5e97|\u5546\u57ce|\u53f0\u7063|\u53f0\u6e7e|\u516c\u76ca|\u516c\u53f8|\u516b\u5366|\u5065\u5eb7|\u4fe1\u606f|\u4f5b\u5c71|\u4f01\u4e1a|\u4e2d\u6587\u7f51|\u4e2d\u570b|\u4e2d\u56fd|\u4e2d\u4fe1|\u4e16\u754c|\u30dd\u30a4\u30f3\u30c8|\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3|\u30bb\u30fc\u30eb|\u30b9\u30c8\u30a2|\u30b3\u30e0|\u30b0\u30fc\u30b0\u30eb|\u30af\u30e9\u30a6\u30c9|\u307f\u3093\u306a|\u10d2\u10d4|\u0e44\u0e17\u0e22|\u0e04\u0e2d\u0e21|\u0dbd\u0d82\u0d9a\u0dcf|\u0d2d\u0d3e\u0d30\u0d24\u0d02|\u0cad\u0cbe\u0cb0\u0ca4|\u0c2d\u0c3e\u0c30\u0c24\u0c4d|\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd|\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8|\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe|\u0b2d\u0b3e\u0b30\u0b24|\u0aad\u0abe\u0ab0\u0aa4|\u0a2d\u0a3e\u0a30\u0a24|\u09ad\u09be\u09f0\u09a4|\u09ad\u09be\u09b0\u09a4|\u09ac\u09be\u0982\u09b2\u09be|\u0938\u0902\u0917\u0920\u0928|\u092d\u093e\u0930\u094b\u0924|\u092d\u093e\u0930\u0924\u092e\u094d|\u092d\u093e\u0930\u0924|\u0928\u0947\u091f|\u0915\u0949\u092e|\u0680\u0627\u0631\u062a|\u067e\u0627\u06a9\u0633\u062a\u0627\u0646|\u0647\u0645\u0631\u0627\u0647|\u0645\u0648\u0642\u0639|\u0645\u0648\u0628\u0627\u064a\u0644\u064a|\u0645\u0644\u064a\u0633\u064a\u0627|\u0645\u0635\u0631|\u0643\u0648\u0645|\u0643\u0627\u062b\u0648\u0644\u064a\u0643|\u0642\u0637\u0631|\u0641\u0644\u0633\u0637\u064a\u0646|\u0639\u0645\u0627\u0646|\u0639\u0631\u0628|\u0639\u0631\u0627\u0642|\u0634\u0628\u0643\u0629|\u0633\u0648\u0631\u064a\u0629|\u0633\u0648\u062f\u0627\u0646|\u062a\u0648\u0646\u0633|\u0628\u06be\u0627\u0631\u062a|\u0628\u064a\u062a\u0643|\u0628\u0627\u0632\u0627\u0631|\u0628\u0627\u0631\u062a|\u0627\u06cc\u0631\u0627\u0646|\u0627\u0645\u0627\u0631\u0627\u062a|\u0627\u0644\u0645\u063a\u0631\u0628|\u0627\u0644\u0639\u0644\u064a\u0627\u0646|\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629|\u0627\u0644\u062c\u0632\u0627\u0626\u0631|\u0627\u0644\u0627\u0631\u062f\u0646|\u0627\u0631\u0627\u0645\u0643\u0648|\u0627\u062a\u0635\u0627\u0644\u0627\u062a|\u0627\u0628\u0648\u0638\u0628\u064a|\u05e7\u05d5\u05dd|\u0570\u0561\u0575|\u049b\u0430\u0437|\u0443\u043a\u0440|\u0441\u0440\u0431|\u0441\u0430\u0439\u0442|\u0440\u0444|\u0440\u0443\u0441|\u043e\u0440\u0433|\u043e\u043d\u043b\u0430\u0439\u043d|\u043c\u043e\u0441\u043a\u0432\u0430|\u043c\u043e\u043d|\u043c\u043a\u0434|\u043a\u043e\u043c|\u043a\u0430\u0442\u043e\u043b\u0438\u043a|\u0435\u044e|\u0434\u0435\u0442\u0438|\u0431\u0435\u043b|\u0431\u0433|\u03b5\u03bb|zw|zuerich|zone|zm|zippo|zip|zero|zara|zappos|za|yun|yt|youtube|you|yokohama|yoga|yodobashi|ye|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xn--zfr164b|xn--ygbi2ammx|xn--yfro4i67o|xn--y9a3aq|xn--xkc2dl3a5ee0h|xn--xkc2al3hye2a|xn--xhq521b|xn--wgbl6a|xn--wgbh1c|xn--w4rs40l|xn--w4r85el8fhu5dnra|xn--vuq861b|xn--vhquv|xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--unup4y|xn--tiq49xqyj|xn--tckwe|xn--t60b56a|xn--ses554g|xn--s9brj9c|xn--rvc1e0am3e|xn--rovu88b|xn--rhqv96g|xn--qxam|xn--qcka1pmc|xn--q9jyb4c|xn--pssy2u|xn--pgbs0dh|xn--pbt977c|xn--p1ai|xn--p1acf|xn--ogbpf8fl|xn--o3cw4h|xn--nyqy26a|xn--nqv7fs00ema|xn--nqv7f|xn--node|xn--ngbrx|xn--ngbe9e0a|xn--ngbc5azd|xn--mxtq1m|xn--mk1bu44c|xn--mix891f|xn--mgbx4cd0ab|xn--mgbtx2b|xn--mgbt3dhd|xn--mgbpl2fh|xn--mgbi4ecexp|xn--mgbgu82a|xn--mgberp4a5d4ar|xn--mgbca7dzdo|xn--mgbc0a9azcg|xn--mgbbh1a71e|xn--mgbbh1a|xn--mgbb9fbpob|xn--mgbayh7gpa|xn--mgbai9azgqp6j|xn--mgbab2bd|xn--mgbaam7a8h|xn--mgbaakc7dvf|xn--mgba7c0bbn0a|xn--mgba3a4f16a|xn--mgba3a3ejt|xn--mgb9awbf|xn--lgbbat1ad8j|xn--l1acc|xn--kput3i|xn--kpu716f|xn--kpry57d|xn--kprw13d|xn--kcrx77d1x4a|xn--jvr189m|xn--jlq61u9w7b|xn--j6w193g|xn--j1amh|xn--j1aef|xn--io0a7i|xn--imr513n|xn--i1b6b1a6a2e|xn--hxt814e|xn--h2brj9c8c|xn--h2brj9c|xn--h2breg3eve|xn--gk3at1e|xn--gecrj9c|xn--gckr3f0f|xn--g2xx48c|xn--fzys8d69uvgm|xn--fzc2c9e2c|xn--fpcrj9c3d|xn--flw351e|xn--fjq720a|xn--fiqz9s|xn--fiqs8s|xn--fiq64b|xn--fiq228c5hs|xn--fhbei|xn--fct429k|xn--estv75g|xn--efvy88h|xn--eckvdtc9d|xn--e1a4c|xn--d1alf|xn--d1acj3b|xn--czru2d|xn--czrs0t|xn--czr694b|xn--clchc0ea0b2g2a9gcd|xn--cg4bki|xn--cck2b3b|xn--c2br7g|xn--c1avg|xn--bck1b9a5dre4c|xn--b4w605ferd|xn--9krt00a|xn--9et52u|xn--9dbq2a|xn--90ais|xn--90ae|xn--90a3ac|xn--8y0a063a|xn--80aswg|xn--80asehdb|xn--80aqecdr1a|xn--80ao21a|xn--80adxhks|xn--6qq986b3xl|xn--6frz82g|xn--5tzm5g|xn--5su34j936bgsg|xn--55qx5d|xn--55qw42g|xn--54b7fta0cc|xn--4gbrim|xn--45q11c|xn--45brj9c|xn--45br5cyl|xn--42c2d9a|xn--3pxu8k|xn--3oq18vl8pn36a|xn--3hcrj9c|xn--3e0b707e|xn--3ds443g|xn--3bst00m|xn--30rr7y|xn--2scrj9c|xn--1qqw23a|xn--1ck2e1b|xn--11b4c3d|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|ws|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|wf|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|vu|voyage|voto|voting|vote|volvo|volkswagen|vodka|vn|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vi|vg|vet|versicherung|verm\xf6gensberatung|verm\xf6gensberater|verisign|ventures|vegas|ve|vc|vanguard|vana|vacations|va|uz|uy|us|ups|uol|uno|university|unicom|uk|ug|uconnect|ubs|ubank|ua|tz|tw|tvs|tv|tushu|tunes|tui|tube|tt|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|tr|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|to|tn|tmall|tm|tl|tkmaxx|tk|tjx|tjmaxx|tj|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|th|tg|tf|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|td|tci|tc|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|sz|systems|symantec|sydney|sy|sx|swiss|swiftcover|swatch|sv|suzuki|surgery|surf|support|supply|supplies|sucks|su|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|st|srt|srl|sr|spreadbetting|spot|sport|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|so|sncf|sn|smile|smart|sm|sling|sl|skype|sky|skin|ski|sk|sj|site|singles|sina|silk|si|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sh|sg|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|search|se|sd|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sc|sbs|sbi|sb|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|sa|ryukyu|rwe|rw|run|ruhr|rugby|ru|rsvp|rs|room|rogers|rodeo|rocks|rocher|ro|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|re|raid|radio|racing|qvc|quest|quebec|qpon|qa|py|pwc|pw|pub|pt|ps|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|pr|post|porn|politie|poker|pohl|pnc|pn|pm|plus|plumbing|playstation|play|place|pl|pk|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|phd|pharmacy|ph|pg|pfizer|pf|pet|pe|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|page|pa|ovh|ott|otsuka|osaka|origins|organic|org|orange|oracle|open|ooo|onyourside|online|onl|onion|ong|one|omega|om|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nz|nyc|nu|ntt|nrw|nra|nr|np|nowtv|nowruz|now|norton|northwesternmutual|nokia|no|nl|nissay|nissan|ninja|nikon|nike|nico|ni|nhk|ngo|ng|nfl|nf|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|ne|nc|nba|navy|natura|nationwide|name|nagoya|nadex|nab|na|mz|my|mx|mw|mv|mutual|museum|mu|mtr|mtn|mt|msd|ms|mr|mq|mp|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mo|mn|mma|mm|mls|mlb|ml|mk|mitsubishi|mit|mint|mini|mil|microsoft|miami|mh|mg|metlife|merckmsd|meo|menu|men|memorial|meme|melbourne|meet|media|med|me|md|mckinsey|mc|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|macys|ma|ly|lv|luxury|luxe|lupin|lundbeck|lu|ltda|ltd|lt|ls|lr|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|lk|llc|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|li|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lc|lb|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|la|kz|kyoto|ky|kw|kuokgroup|kred|krd|kr|kpn|kpmg|kp|kosher|komatsu|koeln|kn|km|kiwi|kitchen|kindle|kinder|kim|kia|ki|kh|kg|kfh|kerryproperties|kerrylogistics|kerryhotels|ke|kddi|kaufen|juniper|juegos|jprs|jpmorgan|jp|joy|jot|joburg|jobs|jo|jnj|jmp|jm|jll|jlc|jio|jewelry|jetzt|jeep|je|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|it|istanbul|ist|ismaili|iselect|is|irish|ir|iq|ipiranga|io|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|in|immobilien|immo|imdb|imamat|im|il|ikano|ifm|ieee|ie|id|icu|ice|icbc|ibm|hyundai|hyatt|hughes|hu|ht|hsbc|hr|how|house|hotmail|hotels|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hn|hm|hkt|hk|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|gy|gw|guru|guitars|guide|guge|gucci|guardian|gu|gt|gs|group|grocery|gripe|green|gratis|graphics|grainger|gr|gq|gp|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gn|gmx|gmo|gmbh|gmail|gm|globo|global|gle|glass|glade|gl|giving|gives|gifts|gift|gi|gh|ggee|gg|gf|george|genting|gent|gea|ge|gdn|gd|gbiz|gb|garden|gap|games|game|gallup|gallo|gallery|gal|ga|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fr|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fo|fm|fly|flowers|florist|flir|flights|flickr|fk|fj|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|fi|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|eu|etisalat|et|esurance|estate|esq|es|erni|ericsson|er|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|eg|ee|education|edu|edeka|eco|ec|eat|earth|dz|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|domains|doha|dog|dodge|doctor|docs|do|dnp|dm|dk|dj|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|de|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cz|cyou|cymru|cy|cx|cw|cv|cuisinella|cu|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|cr|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|co|cn|cm|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cl|ck|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|ci|church|chrysler|chrome|christmas|chintai|cheap|chat|chase|channel|chanel|ch|cg|cfd|cfa|cf|cern|ceo|center|ceb|cd|cc|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|ca|bzh|bz|by|bw|bv|buzz|buy|business|builders|build|bugatti|budapest|bt|bs|brussels|brother|broker|broadway|bridgestone|bradesco|br|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bo|bnpparibas|bnl|bn|bmw|bms|bm|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|bj|biz|bio|bingo|bing|bike|bid|bible|bi|bharti|bh|bg|bf|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|be|bd|bcn|bcg|bbva|bbt|bbc|bb|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|ba|azure|az|axa|ax|aws|aw|avianca|autos|auto|author|auspost|audio|audible|audi|auction|au|attorney|athleta|at|associates|asia|asda|as|arte|art|arpa|army|archi|aramco|arab|ar|aquarelle|aq|apple|app|apartments|aol|ao|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|am|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|al|akdn|airtel|airforce|airbus|aigo|aig|ai|agency|agakhan|ag|africa|afl|afamilycompany|af|aetna|aero|aeg|ae|adult|ads|adac|ad|actor|active|aco|accountants|accountant|accenture|academy|ac|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa))"}}),null);
__d("WorkOfficialGroupsFBTs",["fbt"],(function(a,b,c,d,e,f,g){e.exports={markGroupAsOfficialCTA:g._("\u0110\u00e1nh d\u1ea5u nh\u00f3m l\u00e0 ch\u00ednh th\u1ee9c"),markGroupAsOfficialDesc:g._("\u0110\u00e1nh d\u1ea5u nh\u00f3m b\u1eb1ng bi\u1ec3u t\u01b0\u1ee3ng ch\u00ednh th\u1ee9c \u0111\u1ec3 m\u1ecdi ng\u01b0\u1eddi d\u1ec5 t\u00ecm ra nh\u00f3m c\u00f3 x\u00e1c nh\u1eadn c\u1ee7a t\u1ed5 ch\u1ee9c b\u1ea1n h\u01a1n."),markGroupAsUnofficialCTA:g._("B\u1ecf \u0111\u00e1nh d\u1ea5u l\u00e0 nh\u00f3m ch\u00ednh th\u1ee9c"),markGroupAsUnofficialDesc:g._("B\u1ea1n s\u1ebd kh\u00f4ng \u0111\u00e1nh d\u1ea5u nh\u00f3m n\u00e0y l\u00e0 ch\u00ednh th\u1ee9c n\u1eefa v\u00e0 ch\u00fang t\u00f4i s\u1ebd g\u1ee1 bi\u1ec3u t\u01b0\u1ee3ng n\u00e0y kh\u1ecfi trang c\u1ee7a nh\u00f3m.")}}),null);
__d("ChatTabAddBackPreventedQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"thread_id",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"thread_id"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d={kind:"LinkedField",alias:null,name:"non_addable_recipients",storageKey:null,args:null,concreteType:"MessengerGroupNonAddableRecipientsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"MessagingParticipant",plural:!0,selections:[c]}]};return{kind:"Request",fragment:{kind:"Fragment",name:"ChatTabAddBackPreventedQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"message_thread",storageKey:null,args:b,concreteType:"MessageThread",plural:!1,selections:[d]}]},operation:{kind:"Operation",name:"ChatTabAddBackPreventedQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"message_thread",storageKey:null,args:b,concreteType:"MessageThread",plural:!1,selections:[d,c]}]},params:{operationKind:"query",name:"ChatTabAddBackPreventedQuery",id:"2780995325249921",text:null,metadata:{}}}}();e.exports=a}),null);
__d("useKeyboardFocus",["KeyStatus","React","RTLKeys","VirtualCursorStatus"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("KeyStatus").isKeyDown,h=b("React").useCallback,i=b("React").useState,j=b("VirtualCursorStatus").isVirtualCursorTriggered;function a(a){__p&&__p();var c=i(!1),d=c[0],e=c[1];c=h(function(b){(j()||g())&&e(!0);if(a&&a.onFocus)return a.onFocus(b)},[a==null?void 0:a.onFocus]);var f=h(function(b){e(!1);if(a&&a.onBlur)return a.onBlur(b)},[a==null?void 0:a.onBlur]),k=h(function(c){(c.keyCode===b("RTLKeys").RETURN||c.keyCode===b("RTLKeys").SPACE)&&e(!0);if(a&&a.onKeyDown)return a.onKeyDown(c)},[a==null?void 0:a.onKeyDown]);return{isKeyboardFocused:d,onFocus:c,onBlur:f,onKeyDown:k}}e.exports=a}),null);
__d("ChatOpenTab",["csx","Bootloader","ContextualThing","CurrentUser","Event","MercuryIDs","Parent","WorkGalahadSettings","requireWeak"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=null;b("requireWeak")("FantaTabsReactApp",function(a){return h=a});b("requireWeak")("FantaTabsSlimApp",function(a){return h=a});function i(a,c,d,e){b("Event").listen(a,"click",function(f){(b("WorkGalahadSettings").isGalahadEnabled||l.canOpenTab())&&(e(c,d),a.removeAttribute("ajaxify"),a.removeAttribute("rel"),f.preventDefault())})}function j(a,c,d,e){b("Event").listen(a,"click",function(a){l.canOpenTab()&&e(c,d)})}function k(a){a=b("ContextualThing").getContext(a);return a&&b("Parent").bySelector(a,"._3qw")!==null}var l={canOpenTab:function(){return h&&!h.isHidden()},listenOpenEmptyTabDEPRECATED:function(a,b){i(a,null,b,this._loadAndOpenEmptyFantaTab)},listenOpenThreadDEPRECATED:function(a,b,c){var d=this;i(a,b,c,function(a,b){return d.loadAndOpenFantaTab(a,b,c)})},listenOpenUserTabDEPRECATED:function(a,b,c){var d=this;k(a)||i(a,b,c,function(a){return d.loadAndOpenFantaTab(a,"user",c)})},listenOpenUserTabPersistentEventDEPRECATED:function(a,b,c){var d=this;k(a)||j(a,b,c,function(a){return d.loadAndOpenFantaTab(a,"user",c)})},listenOpenPageTabDEPRECATED:function(a,b,c,d){var e=this;k(a)||i(a,b,d,function(a){return e.loadAndOpenFantaTab(a,"page",d)})},listenOpenPageTabPersistentEventDEPRECATED:function(a,b,c,d){var e=this;k(a)||j(a,b,d,function(a){return e.loadAndOpenFantaTab(a,"page",d)})},loadAndOpenFantaTab:function(a,c,d){b("Bootloader").loadModules(["ChatOpenTabEventLogger","FantaTabActions"],function(e,f){if(c==="user"||c==="page"){var g=b("MercuryIDs").getThreadIDFromUserID(a);f.openTab(g,[d]);e.logUserClickOpen(d,a)}else f.openTab(a,[d]),e.logClickOpen(d,a)},"ChatOpenTab")},_loadAndOpenEmptyFantaTab:function(){b("Bootloader").loadModules(["ChatOpenTabEventLogger","FantaTabActions","MessengerState.bs"],function(a,c,d){d=d.createNewLocalThreadGenerateID(b("CurrentUser").getID());c.openNewMessageTab(d,"jewel_new_message");a.logClickOpen("EmptyTab")},"ChatOpenTab")}};e.exports=l}),null);
__d("ChatOpenTabEventLogger",["Banzai","Bootloader"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="messaging_tracking";a={_log:function(a,c,d,e){var f={referrer:a||"",message_thread_id:c,message_view:"chat",timestamp_send:Date.now(),message_target_ids:[]};d!==void 0&&(f.message_target_ids=[d]);b("Bootloader").loadModules(["ChatImpressionLogger"],function(c){c.logImpression(a,d,e),b("Banzai").post(g,f,{delay:0,retry:!0})},"ChatOpenTabEventLogger")},logClickOpen:function(a,c,d,e){var f=this;b("Bootloader").loadModules(["MercuryIDs","getPageIDFromThreadID","ChatImpressionLogger"],function(b,g){f._log(a,c,d,e);b=g(String(c));b&&f._logPageClick(a,b)},"ChatOpenTabEventLogger")},logUserClickOpen:function(a,c,d){var e=this;b("Bootloader").loadModules(["MercuryIDs","ChatImpressionLogger"],function(b){b=b.getThreadIDFromUserID(c);e.logClickOpen(a,b,c,d)},"ChatOpenTabEventLogger")},logAutoOpen:function(a,b,c,d){this._log(a,b,c,d)},logUserAutoOpen:function(a,c){var d=this;b("Bootloader").loadModules(["MercuryIDs","ChatImpressionLogger"],function(b){b=b.getThreadIDFromUserID(c);d._log(a,b,c)},"ChatOpenTabEventLogger")},_logPageClick:function(a,c){b("Banzai").post("page_message_button_click",{page_id:c,ref:a}),b("Bootloader").loadModules(["PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum"],function(b,d,e){b.log(c,d.CLICK,e.PAGE_MESSAGE,a)},"ChatOpenTabEventLogger")}};e.exports=a}),null);
__d("PresenceViewerCapabilities",["ArbiterMixin","Bootloader","CurrentUser","PresenceConfig","debounceAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null,h=Object.assign({},b("ArbiterMixin")),i=b("debounceAcrossTransitions")(function(){return h.inform("viewerChange")},0);function j(a){try{a=JSON.parse(a.payload);a=a.overlay[b("CurrentUser").getID()];a=a.c;a!==g&&i();a!=null&&(g=a)}catch(a){}}Object.assign(h,{get:function(){if(g!=null)return g;b("Bootloader").loadModules(["SkywalkerManager"],function(a){return a.subscribe("presence/fb/"+b("CurrentUser").getID(),j)},"PresenceViewerCapabilities");g=b("PresenceConfig").get("viewer_presence_capabilities");return g}});e.exports=h}),null);
__d("TypingDetectorController",["ActorURI","AsyncRequest","AvailableList","AvailableListConstants","ChatVisibility","Keys","MercuryServerRequestsConfig","MessageRequestUtils","TypingDetector","TypingStates","clearTimeout","emptyFunction","ifRequired","setTimeoutAcrossTransitions","shield"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="/ajax/messaging/typ.php";a=function(){__p&&__p();function a(a,c,d,e,f,g,h,i){__p&&__p();if(!d)return;this.thread=a;this.userID=c;this.input=d;this.source=e;this.threadID=g;this.pageID=i;this.remoteState=b("TypingStates").INACTIVE;this.notifyTimer=null;f=f||{};this.notifyDelay=f.notifyDelay||this.notifyDelay;this._typingDetector=new(b("TypingDetector"))(d,h);this._typingDetector.init(f);this._typingDetector.subscribe("change",this._stateChange.bind(this))}var c=a.prototype;c.setUserAndThread=function(a,b){(this.userID!==a||this.threadID!==b)&&(this.resetState(),this.userID=a,this.threadID=b)};c.setIgnoreEnter=function(a){a=a?[b("Keys").RETURN]:[];this._typingDetector.setIgnoreKeys(a)};c.resetState=function(){this._notifyState(b("TypingStates").INACTIVE),this.remoteState=b("TypingStates").INACTIVE,this._typingDetector.reset(),b("clearTimeout")(this.notifyTimer),this.notifyTimer=null};c.destroy=function(){this.resetState(),this._typingDetector.destroy()};c._stateChange=function(a,c){c!=b("TypingStates").QUITTING?(b("clearTimeout")(this.notifyTimer),this.notifyTimer=b("setTimeoutAcrossTransitions")(b("shield")(this._notifyState,this,c),this.notifyDelay)):this._notifyState(c,!0)};c._notifyState=function(a,c){if(!this.userID&&!this.threadID||this.thread&&!this.pageID&&!b("MessageRequestUtils").shouldSendTypingIndicators(this.thread)||!b("ChatVisibility").isOnline()||a===this.remoteState||b("ifRequired")("ChannelConnection",function(a){return a.disconnected()},function(){return!0}))return;this._sendRequest(a,this.userID,c)};c._sendRequest=function(a,c,d){this.remoteState=a;a={typ:a,to:c,source:this.source,thread:this.threadID};var e=this.pageID?b("ActorURI").create(g,this.pageID):g;c=new(b("AsyncRequest"))().setHandler(this._onTypResponse.bind(this,c)).setErrorHandler(b("emptyFunction")).setData(a).setURI(e).setAllowCrossPageTransition(!0).setOption("asynchronous_DEPRECATED",!d);b("MercuryServerRequestsConfig").msgrRegion&&c.setRequestHeader("X-MSGR-Region",b("MercuryServerRequestsConfig").msgrRegion);c.send()};c._onTypResponse=function(a,c){c=c.getPayload()||{};c.offline&&b("AvailableList").set(a,b("AvailableListConstants").OFFLINE,"typing_response")};return a}();Object.assign(a.prototype,{notifyDelay:1e3});e.exports=a}),null);
__d("HovercardLink",["URI"],(function(a,b,c,d,e,f){__p&&__p();var g={getBaseURI:function(){return new(b("URI"))("/ajax/hovercard/hovercard.php")},constructEndpoint:function(a,b){return g.constructEndpointWithGroupAndLocation(a,b,null)},constructEndpointWithLocation:function(a,b){return g.constructEndpointWithGroupAndLocation(a,null,b)},constructEndpointWithGroupAndLocation:function(a,b,c,d){return g.constructEndpointWithGroupLocationAndExtraParams(a,b,c,d)},constructEndpointWithGroupLocationAndExtraParams:function(a,c,d,e,f){__p&&__p();f===void 0&&(f=null);var h=new(b("URI"))(g.getBaseURI()).setQueryData({id:a.id}),i={};if(f!==null)for(var j in f)i[j]=f[j];(a.weakreference||e)&&c&&(i.group_id=c);d&&(i.hc_location=d);c&&(i.directed_target_id=c);h.addQueryData({extragetparams:JSON.stringify(i)});return h}};e.exports=g}),null);
__d("KeyboardFocus.react",["React","useKeyboardFocus"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);return c(b("useKeyboardFocus")(a))}e.exports=a}),null);
__d("createLayoutContext",["React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useCallback,h=b("React").useContext,i=b("React").useMemo,j=b("React").useReducer,k=b("React").useRef,l=b("React").useState;function a(a){__p&&__p();var c=b("React").createContext({getLayout:function(){return a},dispatch:b("emptyFunction"),nodes:new Map(),values:[]});function d(a){var d=a.value;a=a.children;var e=o(),f=e[0],g=e[1],h=e[2];e=i(function(){return{getLayout:d,dispatch:h,nodes:f,values:g}},[h,f,d,g]);return b("React").createElement(c.Provider,{value:e},a)}function e(b){var d=l(null),e=d[0],f=d[1],j=k(null);d=h(c);var m=d.getLayout,n=d.dispatch,o=d.nodes,p=d.values,q=e!=null?o.get(e):null,r=o.size;d=i(function(){return q!=null?m({isFirst:q===0,isLast:q>=0&&q===r-1,index:q,total:r,values:p}):a},[m,q,r,p]);e=g(function(a){f(a),n({add:a,remove:j.current,value:b}),j.current=a},[n,b]);return[d,e]}function f(a){var b=e(a.value),c=b[0];b=b[1];return a.children(c,b)}return{Provider:d,Consumer:f,useLayoutContext:e}}function m(a,b){a=a.node;b=b.node;return a.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1}function n(a,b){var c=b.add,d=b.remove;b=b.value;a=Array.from(a).filter(function(a){a=a.node;return a!==c&&a!==d});c&&a.push({node:c,value:b});return a.sort(m)}function o(){__p&&__p();var a=j(n,[]),b=a[0];a=a[1];var c=i(function(){var a=new Map(),c=[];b.forEach(function(b,d){var e=b.node;b=b.value;a.set(e,d);c.push(b)});return{nodes:a,values:c}},[b]),d=c.nodes;c=c.values;return[d,c,a]}e.exports=a}),null);
__d("EventReminderDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationDispatcher"))({strict:!1})}),null);
__d("EventReminderActions",["EventReminderDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({DELETE_EVENT_REMINDER:null,UPDATE_EVENT_REMINDER:null,CLEAR_ALL_REMINDERS:null});var g={Types:a,updateEventReminder:function(a,c,d,e){b("EventReminderDispatcher").dispatch({type:g.Types.UPDATE_EVENT_REMINDER,threadID:a,event:c,participantsEventStatus:e,eventID:d})},deleteEventReminder:function(a,c){b("EventReminderDispatcher").dispatch({type:g.Types.DELETE_EVENT_REMINDER,threadID:a,eventID:c})},clearAllReminders:function(a){b("EventReminderDispatcher").dispatch({type:g.Types.CLEAR_ALL_REMINDERS,threadID:a})}};e.exports=g}),null);
__d("EventReminderConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({INITIAL:"initial",GOING:"going",WATCHED:"watched",UNWATCHED:"unwatched"});b=Object.freeze({ASSOCIATED_EVENT:"ASSOCIATED_EVENT"});c=Object.freeze({GOING:"GOING",DECLINED:"DECLINED",INVITED:"INVITED"});d=Object.freeze({NO_ERROR:"NO_ERROR",PAST_TIME:"PAST_TIME",AFTER_ONE_YEAR:"AFTER_ONE_YEAR"});e.exports={EventGuestStates:a,EventPlanType:b,GuestStates:c,TimeErrorType:d}}),null);
__d("FBID.bs",["invariant","bs_js_exn","bs_string","bs_belt_Id","gkx","bs_js_types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();c=b("bs_string").compare;d=b("bs_belt_Id").MakeComparable([c]);e=d[0];function h(a){if(b("gkx")("678626")){b("bs_js_types").test(a,4)||g(0,3515,a);a!=="0"||g(0,3516,a);var c=/^[0-9]+$/;c.test(a)||g(0,3517,a)}return a}function a(a){try{return h(a)}catch(c){a=b("bs_js_exn").internalToOCamlException(c);if(a[0]===b("bs_js_exn").$$Error)return void 0;else throw a}}f.cmp=e;f.compare=c;f.ofString=a;f.ofStringExn=h}),null);
__d("MessengerWebGraphQLTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setErrorMessage=function(a){this.$1.error_message=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setQueryParams=function(a){this.$1.query_params=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={error_message:!0,event:!0,query_params:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("MercuryVanityIDMap.bs",["bs_string","bs_js_primitive","MercuryAssert","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h={};function a(a){return b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(g[b("bs_string").lowercase(a)]))}function c(a){return b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(h[a]))}function d(a){a=h[a];return a!==void 0}function e(a){a=g[b("bs_string").lowercase(a)];return a!==void 0}function i(a,c){b("MercuryAssert").isParticipantID(c);a=b("bs_string").lowercase(a);g[a]=c;h[c]=a;return 0}f.vanityToID=g;f.idToVanity=h;f.getID=a;f.getVanity=c;f.hasID=d;f.hasVanity=e;f.set=i}),null);
__d("MessageThreadUnsendabilityStatus.bs",["MessageThreadUnsendabilityStatus"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();if(a==null)return null;else switch(a){case"can_unsend":return b("MessageThreadUnsendabilityStatus").CAN_UNSEND;case"deny_for_specific_ids":return b("MessageThreadUnsendabilityStatus").DENY_FOR_SPECIFIC_IDS;case"deny_if_cannot_load_thread":return b("MessageThreadUnsendabilityStatus").DENY_IF_CANNOT_LOAD_THREAD;case"deny_if_marketplace_thread":return b("MessageThreadUnsendabilityStatus").DENY_IF_MARKETPLACE_THREAD;case"deny_if_page_thread":return b("MessageThreadUnsendabilityStatus").DENY_IF_PAGE_THREAD;case"deny_if_thread_contains_pau":return b("MessageThreadUnsendabilityStatus").DENY_IF_THREAD_CONTAINS_PAU;default:return null}}f.fromNullableString=a}),null);
__d("MessageSharedMediaIDStore.bs",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={};function a(a,b){g[a]=b;return 0}function b(a){a=g[a];if(a!==void 0)return a;else return null}f._store=g;f.setMessageIDForAttachmentID=a;f.getMessageIDForAttachmentID=b}),null);
__d("MessengerAttachmentTransformer.bs",["fbt","bs_caml_primitive","MercuryAttachmentType","MessageSharedMediaIDStore.bs","MercuryAttachmentContentType","MessengerStoryAttachmentTransformer.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){__p&&__p();if(a.is_malicious)return{app_attribution:null,icon_type:b("MercuryAttachmentContentType").UNKNOWN,mime_type:null,metadata:null,name:null,preview_height:null,preview_url:null,preview_width:null,rel:null,share:null,thumbnail_url:null,url:null,attach_type:b("MercuryAttachmentType").ERROR,error_msg:g._("T\u1ec7p \u0111\u00ednh k\u00e8m n\u00e0y \u0111\u00e3 b\u1ecb \u0111\u00e1nh d\u1ea5u l\u00e0 \u0111\u1ed9c h\u1ea1i."),message_file_fbid:null,url_shimhash:null,url_skipshim:null};else{var c=a.attribution_app,d;if(c==null)d=null;else{var e=c.square_logo;d={id:c.id,icon_url:e==null?null:e.uri,metadata:a.attribution_metadata,name:c.name}}e=a.url;return{app_attribution:d,icon_type:a.content_type,mime_type:a.mimetype,metadata:null,name:a.filename,preview_height:null,preview_url:a.preview_url,preview_width:null,rel:"ignore",share:null,thumbnail_url:null,url:e==null?null:e,attach_type:b("MercuryAttachmentType").FILE,error_msg:void 0,message_file_fbid:a.message_file_fbid,url_shimhash:a.url_shimhash,url_skipshim:a.url_skipshim}}}function i(a,c,d){__p&&__p();var e=a.chat_image;e=e==null?[null,null,null]:[e.uri,e.width,e.height];var f=e[0],g=a.chat_image;g=g==null?null:{width:g.width,height:g.height};var h=a.large_image;h=h==null?[null,null]:[h.uri,{width:h.width,height:h.height}];var i=a.inbox_image;i=i==null?[null,null]:[i.uri,{width:i.width,height:i.height}];var j=a.attribution_app,k;if(j==null)k=null;else{var l=j.square_logo;k={id:j.id,icon_url:l==null?null:l.uri,metadata:a.attribution_metadata,name:j.name}}return{app_attribution:k,attach_type:b("MercuryAttachmentType").VIDEO,name:a.filename,url:a.playable_url,rel:"async",preview_url:f,preview_width:e[1],preview_height:e[2],large_preview_url:null,large_preview_width:null,large_preview_height:null,icon_type:b("MercuryAttachmentContentType").VIDEO,metadata:{fbid:a.legacy_attachment_id,render_as_sticker:a.video_type==="SPEAKING_STICKER",dimensions:{width:a.original_dimensions.x,height:a.original_dimensions.y},duration:a.playable_duration_in_ms,large_size:h[1],large_preview:h[0],chat_size:g,chat_preview:f,inbox_size:i[1],inbox_preview:i[0],pageid:d?c:void 0},thumbnail_url:f,share:null}}function j(a){var c=a.attribution_app,d;if(c==null)d=null;else{var e=c.square_logo;d={id:c.id,icon_url:e==null?null:e.uri,metadata:a.attribution_metadata,name:c.name}}return{app_attribution:d,attach_type:b("MercuryAttachmentType").FILE,name:a.filename,url:a.playable_url,rel:"ignore",preview_url:null,preview_width:null,preview_height:null,large_preview_url:null,large_preview_width:null,large_preview_height:null,icon_type:b("MercuryAttachmentContentType").MUSIC,metadata:{duration:a.playable_duration_in_ms,isVoicemail:a.is_voicemail?"1":"0",type:a.audio_type==="VOICE_MESSAGE"?"fb_voice_message":a.audio_type==="VOICE_MESSAGE_WITH_TRANSCRIPT"?"fb_voice_message_with_transcript":"file_attachment"},thumbnail_url:null,share:null,url_shimhash:a.url_shimhash,url_skipshim:a.url_skipshim}}function k(a,c,d){__p&&__p();var e=a.preview_image;e=e==null?[null,null,null]:[e.uri,e.width,e.height];var f=a.animated_image;f=f==null?null:f.uri;var g=a.attribution_app,h;if(g==null)h=null;else{var i=g.square_logo;h={id:g.id,icon_url:i==null?null:i.uri,metadata:a.attribution_metadata,name:g.name}}return{app_attribution:h,attach_type:b("MercuryAttachmentType").ANIMATED_IMAGE,name:a.filename,url:f,rel:"async",preview_url:e[0],preview_width:e[1],preview_height:e[2],large_preview_url:null,large_preview_width:null,large_preview_height:null,icon_type:b("MercuryAttachmentContentType").PHOTO,metadata:{fbid:a.legacy_attachment_id,image:f,dimensions:String(a.original_dimensions.x)+(","+String(a.original_dimensions.y)),pageid:d?c:void 0},thumbnail_url:f,share:null}}function l(a){__p&&__p();var c=a.original_extension==="gif"?b("MercuryAttachmentType").ANIMATED_IMAGE:a.render_as_sticker?b("MercuryAttachmentType").THIRDPARTYSTICKER:b("MercuryAttachmentType").PHOTO,d=a.preview;d=d==null?[null,null,null]:[d.uri,d.width,d.height];if(c===b("MercuryAttachmentType").PHOTO){var e=a.large_preview;e=e==null?[null,null,null]:[e.uri,e.width,e.height]}else e=[null,null,null];var f=a.attribution_app,g;if(f==null)g=null;else{var h=f.square_logo;g={id:f.id,icon_url:h==null?null:h.uri,metadata:a.attribution_metadata,name:f.name}}h=a.thumbnail;return{app_attribution:g,attach_type:c,blurred_image_uri:a.blurred_image_uri,name:a.filename,url:null,rel:"async",preview_url:d[0],preview_width:d[1],preview_height:d[2],large_preview_url:e[0],large_preview_width:e[1],large_preview_height:e[2],icon_type:b("MercuryAttachmentContentType").PHOTO,metadata:{fbid:a.legacy_attachment_id,dimensions:String(a.original_dimensions.x)+(","+String(a.original_dimensions.y))},thumbnail_url:h==null?null:h.uri,share:null,photo_encodings:a.photo_encodings}}function m(a,c){__p&&__p();var d=a,e=c;if(a>=c){a=b("bs_caml_primitive").caml_float_min(120,d/2);c=a/(d/2);return[a|0,e/2*c|0]}else{a=b("bs_caml_primitive").caml_float_min(120,e/2);c=a/(e/2);return[d/2*c|0,a|0]}}function n(a){var c=m(a.width,a.height),d=a.pack,e=a.sprite_image,f=a.sprite_image_2x,g=a.padded_sprite_image,h=a.padded_sprite_image_2x;return{app_attribution:null,attach_type:b("MercuryAttachmentType").STICKER,name:null,url:a.url,rel:null,preview_url:null,preview_width:null,preview_height:null,large_preview_url:null,large_preview_width:null,large_preview_height:null,icon_type:b("MercuryAttachmentContentType").UNKNOWN,metadata:{accessibilityLabel:a.label,stickerID:a.id,packID:d==null?null:d.id,frameCount:a.frame_count,frameRate:a.frame_rate,framesPerRow:a.frame_count>1?a.frames_per_row:1,framesPerCol:a.frame_count>1?a.frames_per_column:1,height:c[1],width:c[0],spriteURI:e==null?null:e.uri,spriteURI2x:f==null?null:f.uri,paddedSpriteURI:g==null?null:g.uri,paddedSpriteURI2x:h==null?null:h.uri,thumbnail_url:null,share:null}}}function o(a,c){if(c==null)return 0;else return b("MessageSharedMediaIDStore.bs").setMessageIDForAttachmentID(a,c)}function a(a,c,d,e){__p&&__p();var f=[],g={id:"",pack:null,label:"",frame_count:0,frame_rate:0,frames_per_row:0,frames_per_column:0,height:0,padded_sprite_image:null,padded_sprite_image_2x:null,sprite_image_2x:null,sprite_image:null,url:null,width:0},m=c.extensible_attachment,p;if(m==null)p=g;else{m=m.story_attachment;if(m==null)p=g;else{m=m.media;p=m==null?g:{id:m.id,pack:m.pack,label:m.label,frame_count:m.frame_count,frame_rate:m.frame_rate,frames_per_row:m.frames_per_row,frames_per_column:m.frames_per_column,height:m.height,padded_sprite_image:m.padded_sprite_image,padded_sprite_image_2x:m.padded_sprite_image_2x,sprite_image_2x:m.sprite_image_2x,sprite_image:m.sprite_image,url:m.url,width:m.width}}}g=p.id;g==null||g!==""&&f.push(n(p));m=c.extensible_attachment;m==null||f.push(b("MessengerStoryAttachmentTransformer.bs").getExtensibleAttachmentPayload(a,m));g=c.sticker;g==null||f.push(n(g));p=c.blob_attachments;p==null||p.forEach(function(b){__p&&__p();switch(b.tag|0){case 0:var c=b[0];o(c.legacy_attachment_id,d);f.push(l(c));return 0;case 1:c=b[0];o(c.legacy_attachment_id,d);f.push(k(c,a,e));return 0;case 2:f.push(j(b[0]));return 0;case 3:c=b[0];o(c.legacy_attachment_id,d);f.push(i(c,a,e));return 0;case 4:f.push(h(b[0]));return 0}});return f}f._getFilePayload=h;f._getVideoPayload=i;f._getAudioPayload=j;f._getAnimatedImagePayload=k;f._getImagePayload=l;f._getStickerDimensions=m;f._getStickerPayload=n;f._storeAttachmentMapping=o;f.transformAttachment=a}),null);
__d("MessengerGroupAdminModelStatus.bs",["bs_string","MessengerGroupAdminModelStatus"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){if(a==null)return null;else{a=b("bs_string").uppercase(a);switch(a){case"NOT_SUPPORTED":return b("MessengerGroupAdminModelStatus").NOT_SUPPORTED;case"OPTIONAL":return b("MessengerGroupAdminModelStatus").OPTIONAL;case"REQUIRED":return b("MessengerGroupAdminModelStatus").REQUIRED;default:return null}}}f.fromNullableString=a}),null);
__d("MessengerGroupsSyncStatus.bs",["MessengerGroupsSyncStatus"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();if(a==null)return null;else switch(a){case"OPT_IN":return b("MessengerGroupsSyncStatus").OPT_IN;case"OPT_OUT":return b("MessengerGroupsSyncStatus").OPT_OUT;case"PENDING_OPT_IN":return b("MessengerGroupsSyncStatus").PENDING_OPT_IN;case"PENDING_OPT_OUT":return b("MessengerGroupsSyncStatus").PENDING_OPT_OUT;case"UNSET":return b("MessengerGroupsSyncStatus").UNSET;case"UNSUPPORTED":return b("MessengerGroupsSyncStatus").UNSUPPORTED;default:return null}}f.fromNullableString=a}),null);
__d("MessageUnsendabilityStatus.bs",["MessageUnsendabilityStatus"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();if(a==null)return null;else switch(a){case"can_unsend":return b("MessageUnsendabilityStatus").CAN_UNSEND;case"deny_blob_attachment":return b("MessageUnsendabilityStatus").DENY_BLOB_ATTACHMENT;case"deny_for_non_sender":return b("MessageUnsendabilityStatus").DENY_FOR_NON_SENDER;case"deny_log_message":return b("MessageUnsendabilityStatus").DENY_LOG_MESSAGE;case"deny_p2p_payment":return b("MessageUnsendabilityStatus").DENY_P2P_PAYMENT;case"deny_story_reaction":return b("MessageUnsendabilityStatus").DENY_STORY_REACTION;case"deny_tombstone_message":return b("MessageUnsendabilityStatus").DENY_TOMBSTONE_MESSAGE;default:return null}}f.fromNullableString=a}),null);
__d("MessengerObjectAssociationType",["keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")({REGULAR_CHAT:null,GENERAL_CHAT:null})}),null);
__d("EventReminderMembersMap",["CurrentUser","EventReminderConstants","MercuryIDs","MessengerParticipants.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("EventReminderConstants").EventGuestStates,h=b("EventReminderConstants").GuestStates;a=function(){__p&&__p();function a(a){this.$1=a,this.$2=new Map(),this.$3=new Map(),this.$4=new Map(),this.$5=new Map(),this.$6=new Map(),this.$7=new Map()}var c=a.prototype;c.setAllMembers=function(a,c){__p&&__p();if(!a)return;this.$2.set(c,h.INVITED);var d=[],e=[],f=[],g=[];for(var i in a){d.push(b("MercuryIDs").getParticipantIDFromUserID(i));var j=a[i];i===b("CurrentUser").getID()&&this.$2.set(c,j);var k={fbid:i,guestState:j,imageSrc:""};j===h.GOING?e.push(k):j===h.DECLINED?f.push(k):g.push(k)}j=e.concat(f,g);this.$3.set(c,j);this.$4.set(c,e);this.$7.set(c,!1);this.$8(c,d,j)};c.setAllMembersOfAssociatedEvent=function(a,c){__p&&__p();if(!a)return;this.$2.set(c,g.INITIAL);var d=[],e=[],f=[],h=[];a.map(function(a){d.push(b("MercuryIDs").getParticipantIDFromUserID(a.participant_id));var i=a.participant_id.toString();a=a.event_status||g.INITIAL;i===b("CurrentUser").getID()&&this.$2.set(c,a);i={fbid:i,guestState:a,imageSrc:""};a===g.GOING?e.push(i):a===g.WATCHED?f.push(i):h.push(i)},this);a=e.concat(f,h);this.$3.set(c,a);this.$4.set(c,e);this.$5.set(c,f);this.$6.set(c,h);this.$7.set(c,!1);this.$8(c,d,a)};c.clearMembers=function(a){this.$2["delete"](a),this.$3["delete"](a),this.$4["delete"](a),this.$5["delete"](a),this.$6["delete"](a)};c.getAllMembers=function(a){return this.$3.get(a)};c.getGoingMembers=function(a){return this.$4.get(a)};c.getInterestedMembers=function(a){return this.$5.get(a)};c.getSelfGuestState=function(a){return!this.$2.has(a)?h.INVITED:this.$2.get(a)};c.getProfileImagesLoaded=function(a){return!!this.$7.get(a)};c.$8=function(a,c,d){var e=this;b("MessengerParticipants.bs").getBigImageMulti(c,function(c){for(var f=0;f<d.length;f++)d[f].fbid&&(d[f].imageSrc=c[b("MercuryIDs").getParticipantIDFromUserID(d[f].fbid)]);e.$7.set(a,!0);e.$1.__emitChange()})};return a}();e.exports=a}),null);
__d("EventReminderStateStore",["EventReminderActions","EventReminderConstants","EventReminderDispatcher","EventReminderMembersMap","FluxStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("EventReminderConstants").EventPlanType;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("EventReminderDispatcher"))||this;c.$EventReminderStateStore1={};c.$EventReminderStateStore2={};c.$EventReminderStateStore3=new Map();c.$EventReminderStateStore4=new Map();return c}var d=c.prototype;d.getEvent=function(a,b){b=b||a;return this.$EventReminderStateStore1[a]?this.$EventReminderStateStore1[a][b]:void 0};d.getSingleEventByThreadID=function(a){return this.$EventReminderStateStore2[a]};d.getEventsByThreadID=function(a){return this.$EventReminderStateStore1[a]};d.getEventMembers=function(a,b){b=b||a;a=this.$EventReminderStateStore3.get(a);return a&&a.getAllMembers(b)};d.getSelfGuestState=function(a,b){b=b||a;a=this.$EventReminderStateStore3.get(a);return a&&a.getSelfGuestState(b)};d.getNumOfGoingMembers=function(a,b){b=b||a;a=this.$EventReminderStateStore3.get(a);a=a&&a.getGoingMembers(b);return a?a.length:0};d.getNumOfInterestedMembers=function(a,b){b=b||a;a=this.$EventReminderStateStore3.get(a);a=a&&a.getInterestedMembers(b);return a?a.length:0};d.getProfileImagesLoaded=function(a,b){b=b||a;a=this.$EventReminderStateStore3.get(a);return!a?!1:a.getProfileImagesLoaded(b)};d.shouldShowCTA=function(a,b,c){return!1};d.clearEventMembers=function(a,b){b=b||a;a=this.$EventReminderStateStore3.get(a);a&&a.clearMembers(b)};d.getTransformedEvent=function(a){if(a.room_type==="EVENT"){var b=a.event_place&&a.event_place.name,c=a.event_place&&a.event_place.address&&a.event_place.address.single_line_full_address;return{allowRSVP:!0,eventDate:a.start_timestamp,eventName:a.name,eventLocationName:b,eventLocationAddress:c,eventID:a.id.toString(),eventType:g.ASSOCIATED_EVENT,exists:!0}}return{allowRSVP:!!a.track_rsvp,eventDate:a.event_time,eventName:a.title,eventLocationName:a.location_name,eventLocationAddress:a.location_address,eventID:a.oid.toString(),eventType:a.event_type,exists:!0}};d.__onDispatch=function(a){__p&&__p();var c=b("EventReminderActions").Types,d=a.threadID,e=a.eventID||a.threadID;this.$EventReminderStateStore3.get(d)||this.$EventReminderStateStore3.set(d,new(b("EventReminderMembersMap"))(this));var f=this.$EventReminderStateStore3.get(d);this.$EventReminderStateStore1[d]===void 0&&(this.$EventReminderStateStore1[d]={});switch(a.type){case c.UPDATE_EVENT_REMINDER:var g=a.event;this.$EventReminderStateStore1[d][e]=this.getTransformedEvent(g);this.$EventReminderStateStore1[d][e].eventType!=="M_REMINDER"&&(this.$EventReminderStateStore2[d]=this.$EventReminderStateStore1[d][e]);this.$EventReminderStateStore1[d][e].allowRSVP&&(g.room_type==="EVENT"?f&&f.setAllMembersOfAssociatedEvent(a.participantsEventStatus,e):f&&f.setAllMembers(g.event_members,e));break;case c.DELETE_EVENT_REMINDER:this.$EventReminderStateStore1[d][e]&&(this.$EventReminderStateStore1[d][e].exists=!1,this.clearEventMembers(d,e));this.$EventReminderStateStore2[d]&&this.$EventReminderStateStore2[d].eventID===e&&(this.$EventReminderStateStore2[d].exists=!1);break;case c.CLEAR_ALL_REMINDERS:delete this.$EventReminderStateStore1[d];delete this.$EventReminderStateStore2[d];break}this.__emitChange()};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("MercuryMessageRenderLocations",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CHAT:"chat",MESSENGER:"messenger",PAGES:"pages"});e.exports=a}),null);
__d("MessengerFormattingUtils",["cx","CurrentUser","JSResource","MessengerFormattingConfig","Newline.react","React","UnicodeUtils","gkx","lazyLoadComponent","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("lazyLoadComponent")(b("JSResource")("MessengerCodeBlock.react").__setRef("MessengerFormattingUtils"));function a(a){return{offset:a[1].length,length:b("UnicodeUtils").strlen(a[2])+2,innerOffset:1,innerText:a[2]}}function c(a){return{offset:a[1].length,length:b("UnicodeUtils").strlen(a[2])+2,innerOffset:1,innerText:a[2].replace(/\s\s+/g," ").trim()}}function d(a){return{offset:0,length:b("UnicodeUtils").strlen(a[0]),innerOffset:b("UnicodeUtils").strlen(a[1]),innerText:a[2]}}g=b("MessengerFormattingConfig");var i={pattern:new RegExp(g.boldConfig.pattern,"g"),nonCapturingPattern:new RegExp(g.boldConfig.nonCapturingPattern),formatter:function(a){a=a.children;return b("React").createElement("b",null,a)},getRangeInMatch:a,recursivelyFormat:!0},j={pattern:new RegExp(g.italicConfig.pattern,"g"),nonCapturingPattern:new RegExp(g.italicConfig.nonCapturingPattern),formatter:function(a){a=a.children;return b("React").createElement("i",null,a)},getRangeInMatch:a,recursivelyFormat:!0};a={pattern:new RegExp(g.strikethroughConfig.pattern,"g"),nonCapturingPattern:new RegExp(g.strikethroughConfig.nonCapturingPattern),formatter:function(a){a=a.children;return b("React").createElement("s",null,a)},getRangeInMatch:a,recursivelyFormat:!0};c={pattern:new RegExp(g.codeConfig.pattern,"g"),nonCapturingPattern:new RegExp(g.codeConfig.nonCapturingPattern),formatter:function(a){a=a.children;return b("React").createElement("code",{className:b("CurrentUser").isWorkUser()?"_7ilw":""},a)},getRangeInMatch:c,recursivelyFormat:!1};var k=function(a){var c=a.children;a=a.range;return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",{className:"_7mv7"},c)},b("React").createElement(h,{range:a},c)),b("React").createElement(b("Newline.react"),null))},l={pattern:new RegExp(g.codeBlockConfig.pattern,"g"),nonCapturingPattern:new RegExp(g.codeBlockConfig.nonCapturingPattern),formatter:function(a){a=a.children;return b("React").createElement("code",null,a)},getRangeInMatch:d,recursivelyFormat:!1};k={pattern:new RegExp(g.codeBlockV2Config.pattern,"g"),nonCapturingPattern:new RegExp(g.codeBlockV2Config.nonCapturingPattern),formatter:k,getRangeInMatch:function(a){var c=a[3]||"",d=a[4]!==void 0?a[4]:a[5],e=a[1]||"",f=a[2]||"";return{offset:0,length:b("UnicodeUtils").strlen(a[0]),innerOffset:b("UnicodeUtils").strlen(e)+b("UnicodeUtils").strlen(f),innerText:d,codeBlockLanguage:c}},recursivelyFormat:!1};var m=function(a){a=a.children;return b("React").createElement(b("React").Fragment,null,b("React").createElement("blockquote",{className:"_pye"+(b("CurrentUser").isWorkUser()?" _7ilx":"")},b("React").createElement("div",{className:"_pyf"}),a),b("React").createElement(b("Newline.react"),null))};d={pattern:new RegExp(g.blockQuoteConfig.pattern,"gm"),nonCapturingPattern:new RegExp(g.blockQuoteConfig.nonCapturingPattern,"m"),formatter:m,getRangeInMatch:d,recursivelyFormat:!0};m={pattern:new RegExp(g.multipleInlineBlockQuoteConfig.pattern,"gm"),nonCapturingPattern:new RegExp(g.multipleInlineBlockQuoteConfig.nonCapturingPattern,"m"),formatter:m,getRangeInMatch:function(a){var c=a[0],d=b("UnicodeUtils").strlen(c);a=b("UnicodeUtils").strlen(a[2]);return{offset:0,length:d,innerOffset:a,innerText:b("UnicodeUtils").substring(c,a,d)}},recursivelyFormat:!0,getAdditionalInnerRanges:function(a){return p(a.innerText,[n]).map(function(b){return babelHelpers["extends"]({},b,{offset:b.offset+a.innerOffset,innerOffset:b.innerOffset+a.innerOffset})})}};var n={pattern:new RegExp(g.singleInlineBlockQuoteConfig.pattern,"gm"),nonCapturingPattern:new RegExp(g.singleInlineBlockQuoteConfig.nonCapturingPattern,"m"),formatter:function(a){a=a.children;return a},getRangeInMatch:function(a){return{offset:0,length:b("UnicodeUtils").strlen(a[0]),innerOffset:b("UnicodeUtils").strlen(a[1]),innerText:a[2]}},recursivelyFormat:!0},o=[d,i,j,a,c,m];o.push(b("CurrentUser").isWorkUser()?k:l);function f(a,b){b===void 0&&(b=o);for(var c=0;c<b.length;c++){var d=b[c].nonCapturingPattern;if(d.test(a))return!0}return!1}function p(a,c){__p&&__p();c===void 0&&(c=o);var d=[];for(var e=0;e<c.length;e++){var f=c[e];f.pattern.lastIndex=0;var g=void 0;while((g=f.pattern.exec(a))!=null){g=b("nullthrows")(g);var h=f.getRangeInMatch(g),i=a.substr(0,g.index+h.offset);i=b("UnicodeUtils").strlen(i);i={offset:i,length:h.length,innerText:h.innerText,innerOffset:i+h.innerOffset,formatter:f.formatter,recursivelyFormat:f.recursivelyFormat,codeBlockLanguage:h.codeBlockLanguage};h=f.getAdditionalInnerRanges?f.getAdditionalInnerRanges(i):[];d.push(i);d=d.concat(h)}}return d}e.exports={defaultFormatConfigs:o,hasMatch:f,getRanges:p,formatConfigs:{bold:i,italic:j,strikethrough:a,blockcode:l,codeblockV2:k,code:c,blockquote:d,multipleInlineBlockquote:m,singleInlineBlockquote:n}}}),null);
__d("MessengerMathUtils",["UnicodeUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=2,h=/^(?:\$\$|\\\[)[\s\S]*?\S[\s\S]*?(?:\$\$|\\\])$/,i=/\\\([\s\S]*?\S[\s\S]*?\\\)/g;function a(a){return h.test(a)}function c(a){return a.substring(g,a.length-g)}function d(a){i.lastIndex=0;return i.test(a)}function f(a,c){__p&&__p();c===void 0;c=[];i.lastIndex=0;var d;while((d=i.exec(a))!==null){d=b("nullthrows")(d);var e=a.substring(0,d.index);e=b("UnicodeUtils").strlen(e);c.push({offset:e,length:b("UnicodeUtils").strlen(d[0]),math:!0})}return c}function j(a){var b=a.length,c=0,d=0;for(var e=0;e<b;e++)a[e]==="\\"?a.slice(e,e+6)==="\\begin"?(c+=2,d=Math.max(d,c)):a.slice(e,e+4)==="\\end"?c-=2:e++:a[e]==="{"?(c++,d=Math.max(d,c)):a[e]==="}"&&c--;return d}e.exports={MATH_DELIMITER_LENGTH:g,isMathBlock:a,hasInlineMath:d,getInlineMathRanges:f,getMathBlockInner:c,getMaxBraceDepth:j}}),null);
__d("EmojiFormat.bs",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return a.split("_").map(function(a){return parseInt(a,16)})}function a(a){return a.map(function(a){return a.toString(16)}).join("_")}function h(a){return a.map(function(a){return String.fromCodePoint(a)}).join("")}function b(a){return h(g(a))}f.codeStringToCodeArray=g;f.codeArrayToCodeString=a;f.codeArrayToUnicode=h;f.codeStringToUnicode=b}),null);
__d("MessengerEmojiTransitionMapping.bs",["bs_caml_array","EmojiFormat.bs","SkinToneEmoji.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){switch(a){case"1f3c3":case"1f3c4":case"1f3ca":case"1f3cb":case"1f3cc":case"1f46e":case"1f46f":case"1f471":case"1f473":case"1f477":case"1f481":case"1f482":case"1f486":case"1f487":case"1f575":case"1f645":case"1f646":case"1f647":case"1f64b":case"1f64d":case"1f64e":case"1f6a3":case"1f6b4":case"1f6b5":case"1f6b6":case"26f9":return!0;default:return!1}}function h(a){var c=b("bs_caml_array").caml_array_get(a,a.length-1|0)===65039;if(c)return b("bs_caml_array").caml_array_get(a,a.length-1|0);else return 0}function i(a){if(b("bs_caml_array").caml_array_get(a,a.length-1|0)===65039)return a;else{a=a.slice(0);return a.concat([65039])}}function j(a){var b=h(a)===0;if(b)return a;else return a.slice(0,a.length-1|0)}function k(a){if(a===9792)return!0;else return a===9794}function l(a){a=j(a);if(a.length<=1||!k(b("bs_caml_array").caml_array_get(a,a.length-1|0)))return 0;else return b("bs_caml_array").caml_array_get(a,a.length-1|0)}function m(a){var b=h(a),c=b===0;c=c?l(a):l(a.slice(0,a.length-1|0));if(c!==0){c=b===0;if(c)return a.slice(0,a.length-2|0);else return i(a.slice(0,a.length-3|0))}else return a}function n(a,b){__p&&__p();if(b!==0){var c=h(a),d=c===0;d=d?a.slice(0):a.slice(0,a.length-1|0);var e=l(d);if(e!==0)return a;else{e=d.concat([8205,b]);d=c===0;if(d)return e;else return e.concat([c])}}else return a}function a(a){return n(a,9792)}function c(a){return m(b("SkinToneEmoji.bs").removeTone(a))}function d(a){return g(b("EmojiFormat.bs").codeArrayToCodeString(m(b("SkinToneEmoji.bs").removeTone(a))))}function e(a){a=b("EmojiFormat.bs").codeArrayToCodeString(m(b("SkinToneEmoji.bs").removeTone(a)));switch(a){case"1f46a":case"1f48f":case"1f491":return!0;default:return!1}}var o=65039,p=9792,q=9794,r=8205;f.emoji_modifier_code=o;f.gender_female=p;f.gender_male=q;f.zero_join=r;f.emoji=g;f.getEmojiModifier=h;f.addEmojiModifier=i;f.removeEmojiModifier=j;f.isGenderModifier=k;f.getGender=l;f.removeGender=m;f.applyGender=n;f.makeFemale=a;f.removeAllModifiers=c;f.hasGender=d;f.isBlacklisted=e}),null);
__d("MessengerHotlikeEmoji.bs",[],(function(a,b,c,d,e,f){"use strict";var g="f0000";function a(a){return a===g}f.hotlike_key=g;f.isMessengerHotlike=a}),null);
__d("MessengerHotlikeEmoji.re",["MessengerHotlikeEmoji.bs"],(function(a,b,c,d,e,f){a=b("MessengerHotlikeEmoji.bs").isMessengerHotlike;f.isMessengerHotlike=a}),null);
__d("MessengerTextWithEntities.react",["BaseTextWithEntities.react","Link.react","MessengerTextWithEmoticons.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return a.replace(/<3\b|&hearts;/g,"\u2665")}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){if(d.props.renderEmoticons||d.props.renderEmoji)return b("React").createElement(b("MessengerTextWithEmoticons.react"),{text:a,customSize:d.props.customSize,renderEmoticons:d.props.renderEmoticons,renderEmoji:d.props.renderEmoji});else return g(a)},d.$2=function(a,c){if(d.props.interpolator)return d.props.interpolator(a,c);else return b("React").createElement(b("Link.react"),{href:c.entity},a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").createElement(b("BaseTextWithEntities.react"),babelHelpers["extends"]({},this.props,{aggregatedRanges:this.props.aggregatedRanges,imageRanges:this.props.imageRanges,metaRanges:this.props.metaRanges,rangeRenderer:this.$2,ranges:this.props.ranges,text:this.props.text,textRenderer:this.$1}))};return c}(b("React").Component);e.exports=a}),null);
__d("MercuryMessageBody.react",["cx","fbt","BootloadedComponent.react","CurrentUser","DateConsts","EmojiRenderer","EmoticonEmojiList","EmoticonsList","EventRemindersGating","EventReminderStateStore","JSResource","Link.react","LinkRanges","MercuryIDs","MercuryMessageRenderLocations","MessengerFormattingUtils","MessengerMathUtils","MessengerSupportedEmojiUtils","MessengerTextWithEntities.react","P2PTriggersUtils","React","RedditLinkMatcher","RedditLinkRanges","TextWithEntities.react","TextWithEntitiesMetadataType","UnicodeUtils","URI","URLMatcher","emptyFunction","getURLRanges","gkx","ifRequired","requireWeak","shouldAddMRefParam"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("LinkRanges").module;a=b("React").PropTypes;var j=function(){j=b("emptyFunction"),b("ifRequired")("ChatAppActions",function(a){a.setInitialDisplayDone()})};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.interpolator=function(a,c){__p&&__p();if(c.className)return b("React").createElement("span",{className:c.className},a);if(c.math)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("MessengerMath.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:b("React").createElement("span",null,a),body:d.$4(a),fallbackBody:a,inline:!0,stripDelimiters:!0,className:"_1e4d _1e4e"});if(c.id){var e={};!b("CurrentUser").isWorkUser()&&!d.props.isFromViewer&&d.props.threadCustomColor&&(e.color=d.props.threadCustomColor);var f=d.props.onContactSelect,g=d.props.threadID?b("MercuryIDs").getThreadFBIDFromThreadID(d.props.threadID)===c.id:!1,h=new(b("URI"))("/ajax/hovercard/user.php").setQueryData({id:c.id}),i=b("gkx")("678279");h=b("React").createElement(b("Link.react"),{className:"_ih-"+(b("CurrentUser").isWorkUser()&&c.id===b("CurrentUser").getID()?" _1zle":""),href:g?"#":c.url,"data-hovercard":i?h:null,style:e,onClick:f&&!g?function(a){d.$3(f,c,a)}:b("emptyFunction")},a);!g&&f&&!i&&(typeof a==="string"&&(c.contactName=a&&a.replace("@","")),h=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("MessengerAvatarActions.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:h,avatar:h,contact:c,showSendMessageItem:!0,onAction:d.props.onContactSelect}));return h}if(c.formatter){e=c.formatter;g=c.recursivelyFormat?d.renderBody(c.innerText,!0,c.innerOffset):c.innerText;return b("React").createElement(e,{range:c},g)}if(c.entity&&c.entity.url){i=new(b("URI"))(c.entity.url.replace(/#+$/,""));b("shouldAddMRefParam")(i)&&i.addQueryData({__mref:"mb"});h=i.toString();if(b("URI").isValidURI(h))return b("React").createElement(b("Link.react"),{href:{url:h,shimhash:c.entity.shimhash},s:c.entity.s,target:"_blank"},a);else return a}if(!c.entity&&c.id===void 0){e=typeof c.type==="number"?c.type:b("TextWithEntitiesMetadataType")[c.type];switch(e){case 0:return b("React").createElement("span",{className:"_2y9",title:JSON.stringify(c.data)},a);case 1:return d.renderConceptMetadata(a,c.data);case 2:return d.renderIntentMetadata(a,c.data);default:return a}}return a};d.state=d.parseMessageBody(c);return d}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){(this.props.body!==a.body||this.props.metaRanges!==a.metaRanges||this.props.ranges!==a.ranges)&&this.setState(this.parseMessageBody(a))};d.parseMessageBody=function(a){__p&&__p();var c=(a.body||"").replace(/\s+$/,""),d=this.$1(a.metaRanges||[]);d={normalizedBody:c,isEncrypted:!1,isMathBlock:!1,isRichText:!1,ranges:[],filteredMetaRanges:d};if(c.length===0)return d;if(c.startsWith("?OTR")){d.isEncrypted=!0;return d}if(b("MessengerMathUtils").isMathBlock(c)){d.isMathBlock=!0;return d}var e=a.ranges,f=a.metaRanges;f=e&&e.length||f&&f.length||b("EmoticonsList").noncapturingRegexp.test(c)||b("EmojiRenderer").containsEmoji(c)||b("URLMatcher").match(c)||i&&i.hasMatch(c)||b("RedditLinkMatcher").isMatch(c)||this.$2(c,a)||b("MessengerSupportedEmojiUtils").containsEmoji(c)||b("EmoticonEmojiList").noncapturingRegexp.test(c)||b("MessengerFormattingUtils").hasMatch(c)||b("MessengerMathUtils").hasInlineMath(c);if(!f)return d;d.isRichText=!0;e&&e.length===1&&e[0].className==="__in"&&(e=b("getURLRanges")(c).concat(e));e=e||[];e.forEach(function(a){if(a.id){var d=c.substring(0,a.offset);a.offset=b("UnicodeUtils").strlen(d)}});e=e.concat(b("getURLRanges")(c));i&&(e=e.concat(i.get(c)));e=e.concat(b("RedditLinkRanges").get(c));e=e.concat(b("MessengerFormattingUtils").getRanges(c));e=e.concat(b("MessengerMathUtils").getInlineMathRanges(c));d.ranges=e.filter(function(a){return a!=void 0});return d};d.hasFormatting=function(){return this.state.isRichText||this.state.isMathBlock||this.state.isEncrypted};d.$3=function(a,b,c){c.preventDefault()};d.$4=function(a){if(this.props.isFromViewer)return"\\color{#fff}{"+b("MessengerMathUtils").getMathBlockInner(a)+"}";else return b("MessengerMathUtils").getMathBlockInner(a)};d.renderConceptMetadata=function(a,b){if(!b)return a;return b.intent_name||b.name?this.renderIntentMetadata(a,b):a};d.renderIntentMetadata=function(a,c){__p&&__p();if(!c)return a;var d=c.intent_name||c.name;switch(d){case"request_time":return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ServicesVerticalRequestTimeTriggers.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:b("React").createElement("span",null,a),data:c,text:a,threadID:this.props.threadID});case"timestamp":if(this.$5(c.value)&&b("EventRemindersGating").shouldShowTriggerWords)if(this.props.renderLocation===b("MercuryMessageRenderLocations").CHAT)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatEventPlanTriggers.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:b("React").createElement("span",null,a),data:c,text:a,threadID:this.props.threadID});else if(this.props.renderLocation===b("MercuryMessageRenderLocations").MESSENGER)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("MessengerEventPlanTriggers.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:b("React").createElement("span",null,a),data:c,text:a,threadID:this.props.threadID});return a;default:return a}};d.renderIntentCTA=function(a){__p&&__p();if(a){var c=a.intent_name||a.name;switch(c){case"create_event":b("requireWeak")("EventReminderActionsLogger",function(a){a.logTriggerOnTriggerCTA()});c=this.props.threadID;var d=c&&this.$5(a.timestamp)&&b("EventReminderStateStore").shouldShowCTA(c,a.confidence);if(!d)return null;if(this.props.renderLocation===b("MercuryMessageRenderLocations").CHAT)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatEventPlanCTA.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:b("React").createElement("span",null),data:a,threadID:c});else if(this.props.renderLocation===b("MercuryMessageRenderLocations").MESSENGER)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("MessengerEventPlanCTA.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:b("React").createElement("span",null),data:a,threadID:c})}}return null};d.renderCTAs=function(a){var c=null;if(a.length>0){a=a[0]||{};var d=typeof a.type==="number"?a.type:b("TextWithEntitiesMetadataType")[a.type];switch(d){case 1:case 2:c=this.renderIntentCTA(a.data);break}}return c};d.renderBody=function(a,c,d){__p&&__p();c===void 0&&(c=!1);d===void 0&&(d=0);var e=this.state,f=e.isRichText,g=e.ranges;e=e.filteredMetaRanges;var h=b("UnicodeUtils").strlen(a);if(!f)return b("React").createElement("span",{className:this.props.className},a);c&&(g=g.filter(function(a){return a.offset>=d&&a.offset+a.length<=d+h}).map(function(a){return babelHelpers["extends"]({},a,{offset:a.offset-d})}),e=e.filter(function(a){return a.offset>=d&&a.offset+a.length<=d+h}).map(function(a){return babelHelpers["extends"]({},a,{offset:a.offset-d})}));f={className:this.props.className,interpolator:this.interpolator,metaRanges:e,ranges:g,renderEmoji:!0,renderEmoticons:!0,text:a};if(this.$2(a)){e=b("React").createElement(b("TextWithEntities.react"),f);return b("React").createElement(b("BootloadedComponent.react"),babelHelpers["extends"]({bootloadPlaceholder:e,bootloadLoader:b("JSResource")("TextWithEntitiesAndP2P.react").__setRef("MercuryMessageBody.react")},f,{getMessengerEmote:this.$6,isSupportedEmoji:this.$7,threadID:this.props.threadID}))}g=b("React").createElement(b("MessengerTextWithEntities.react"),f);if(c)return g;a=this.renderCTAs(this.props.metaRanges||[]);return!a?g:b("React").createElement("span",null,g,a)};d.render=function(){__p&&__p();var a=this.state,c=a.normalizedBody,d=a.isEncrypted;a=a.isMathBlock;if(c.length===0)return null;j();if(this.props.plainText)return b("React").createElement("span",null,c);else if(d)return b("React").createElement("span",{className:"_89h"},h._("[tin nh\u1eafn \u0111\u00e3 m\u00e3 h\u00f3a]"));else if(a)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("MessengerMath.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:b("React").createElement("div",null,c),body:this.$4(c),fallbackBody:c,stripDelimiters:!0,className:"_1e4d"});else return this.renderBody(c)};d.$7=function(a){return b("MessengerSupportedEmojiUtils").isSupportedEmojiKey(a)};d.$6=function(a){a=b("EmoticonEmojiList").emote2emojis[a];return b("MessengerSupportedEmojiUtils").isSupportedEmojiKey(a)?a:null};d.$5=function(a){a=new Date(a*b("DateConsts").MS_PER_SEC);var c=new Date(Date.now()+5*b("DateConsts").MS_PER_MIN),d=new Date(new Date().setFullYear(new Date().getFullYear()+1));return a>c&&a<d};d.$1=function(a){var b=a.filter(function(a){return a.data&&(a.data.intent_name==="create_event"||a.data.name==="create_event")});return b.length!==0?b:a};d.$2=function(a,c){c===void 0&&(c=this.props);return!!(c.threadID&&b("P2PTriggersUtils").canSeeTriggers(c.threadID)&&b("P2PTriggersUtils").getMatches(a))};return c}(b("React").PureComponent);c.propTypes={body:a.string,customLike:a.object,isFromViewer:a.bool,metaRanges:a.array,ranges:a.array,threadCustomColor:a.string,threadID:a.string,onContactSelect:a.func,renderLocation:a.oneOf([b("MercuryMessageRenderLocations").CHAT,b("MercuryMessageRenderLocations").MESSENGER,b("MercuryMessageRenderLocations").PAGES])};e.exports=c}),null);
__d("MessengerMessage.bs",["URI","Utils.bs","bs_js_json","bs_caml_obj","bs_js_primitive","MercuryViewer","bs_caml_primitive","MercuryActionType","MercuryActionStatus","MercuryPayloadSource","isMessengerDotComURI","MercuryLogMessageType","MercuryMessageDeliveryState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c,d,e,f){b={thread_id:b,thread_fbid:null,other_user_fbid:null,action_type:d,message_id:a,threading_id:null,offline_threading_id:null,author:c,author_email:"",ephemeral_ttl_mode:null,timestamp:e,is_unread:null,is_filtered_content:!1,is_filtered_content_bh:!1,is_filtered_content_account:!1,is_filtered_content_quasar:!1,is_filtered_content_invalid_app:!1,is_sponsored:!1,is_one_way_sent:!1,ad_id:null,ad_client_token:null,commerce_message_type:null,customizations:[],source:"",source_tags:[],m_suggestions:null,tags:[],is_spoof_warning:!1,folder:"inbox",platform_xmd:null,message_source:null,montage_reply_data:null,replied_to_message:null,skip_bump_thread:!1,profile_ranges:null,reactions:null,attachments:null,ranges:null,meta_ranges:null,status:null,log_message_type:null,log_message_data:null,log_message_body:null,raw_attachments:null,body:null,subject:null,has_attachment:null,creator_info:null,error_data:null,removed_timestamp:null,unsender:null,verse_group_role_xmd:null,message_unsendability_status:null,is_forwarded:!1,preview_attachments:null,sticker_id:null};return Object.assign(b,f)}function c(a){var b=a.offline_threading_id;if(b==null)return!1;else return b===a.message_id}function d(a){if(b("bs_caml_obj").caml_equal(a.action_type,b("MercuryActionType").USER_GENERATED_MESSAGE))return!0;else{a=a.log_message_type;if(a==null)return!0;else return!(b("bs_caml_obj").caml_equal(a,b("MercuryLogMessageType").SUBSCRIBE)||b("bs_caml_obj").caml_equal(a,b("MercuryLogMessageType").UNSUBSCRIBE)||b("bs_caml_obj").caml_equal(a,b("MercuryLogMessageType").SERVER_ERROR)||b("bs_caml_obj").caml_equal(a,b("MercuryLogMessageType").LIVE_LISTEN))}}function e(a){__p&&__p();var c=a.ranges;if(c==null)return 0;else{c=c.map(function(c){__p&&__p();var a=c.entity;if(a==null)return c;else{var d=b("Utils.bs").isTruthy(a.external),e=a.url;if(d||e==null)return c;else{d=new(b("URI"))(e);e=b("isMessengerDotComURI")(b("URI").getRequestURI());var f=d.getDomain();if(e&&(f==null||f===""))e=1;else return c;if(e===1)return Object.assign(Object.assign({},c),{entity:Object.assign(Object.assign({},a),{url:d.setProtocol("https").setDomain("www.facebook.com").toString()})})}}});Object.assign(a,{ranges:c});return 0}}function g(a){if(b("bs_caml_obj").caml_equal(a,b("MercuryPayloadSource").UNKNOWN)||b("bs_caml_obj").caml_equal(a,b("MercuryPayloadSource").SERVER_INITIAL_DATA)||b("bs_caml_obj").caml_equal(a,b("MercuryPayloadSource").SERVER_FETCH_THREAD_INFO))return!0;else return b("bs_caml_obj").caml_equal(a,b("MercuryPayloadSource").SERVER_THREAD_SYNC)}function h(a){return b("bs_caml_obj").caml_equal(a.author,b("MercuryViewer").getID())}function i(a){return!h(a)}function j(a){a=a.status;if(a==null)return!1;else if(b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").UNSENT)||b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").UNCONFIRMED)||b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").UNABLE_TO_CONFIRM))return!0;else return b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").RESENDING)}function k(a){a=a.status;if(a==null)return!0;else return b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").SUCCESS)}function l(a,c){return b("bs_caml_primitive").caml_float_compare(a.timestamp,c.timestamp)}function m(a){a=a.status;if(a==null)return!1;else if(b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").FAILED_UNKNOWN_REASON)||b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").UNABLE_TO_CONFIRM))return!0;else return b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").ERROR)}function n(a){a=a.error_data;if(a==null)return void 0;else return b("bs_js_primitive").nullable_to_opt(a.description)}function o(a,c){__p&&__p();if(m(a))return b("MercuryMessageDeliveryState").ERROR;else if(j(a))return b("MercuryMessageDeliveryState").SENDING;else if(k(a)){a=a.is_one_way_sent||a.timestamp>c;if(a)return b("MercuryMessageDeliveryState").SENT;else return b("MercuryMessageDeliveryState").DELIVERED}else return b("MercuryMessageDeliveryState").UNKNOWN}function p(a,b){__p&&__p();if(m(a))return 4;else if(j(a))return 1;else if(k(a)){b=a.timestamp<=b&&!a.is_one_way_sent;if(b)return 3;else return 2}else return 0}function q(a){__p&&__p();try{a=b("bs_js_primitive").some(JSON.parse(a))}catch(b){a=void 0}if(a!==void 0){a=b("bs_js_json").classify(b("bs_js_primitive").valFromOption(a));if(typeof a==="number"||a.tag!==2)return void 0;else{a=a[0].persona;if(a!==void 0){a=b("bs_js_json").classify(a);if(typeof a==="number"||a.tag!==2)return void 0;else return b("bs_js_primitive").some(a[0])}else return void 0}}}function r(a){__p&&__p();if(a==null)return null;else{a=a.platform_xmd;if(a==null)return null;else{a=q(a);if(a!==void 0){a=b("bs_js_primitive").valFromOption(a);var c=a.id,d=a.name;a=a.profile_picture_url;if(c!==void 0&&d!==void 0&&a!==void 0)return{id:c,name:d,profile_picture_url:a};else return null}else return null}}}function s(a){var c=a.log_message_type;if(!(c==null)&&b("bs_caml_obj").caml_equal(c,b("MercuryLogMessageType").SERVER_ERROR))return b("bs_caml_obj").caml_equal(a.action_type,b("MercuryActionType").LOG_MESSAGE);else return!1}function t(a,b){var c=a.thread_fbid,d=a.other_user_fbid;a=a.is_from_iris;if(b==null||!b)b=1;else return!1;if(b===1)if(!(c==null)||!(d==null)||a)return!0;else return!1}f.makeFakeMessage=a;f.isLocalMessage=c;f.isTitanMessage=d;f.finalizeRanges=e;f.shouldSortForPayloadSource=g;f.isOutbound=h;f.isInbound=i;f.isSending=j;f.isSent=k;f.compare=l;f.hasError=m;f.getError=n;f.getDeliveryState=o;f.getGutterItemStatus=p;f.getPersonaData=q;f.getPersona=r;f.isErrorLogMessage=s;f.hasServerTimestamp=t}),null);
__d("MessengerGraphQLThreadFetcher.bs",["Promise","BanzaiODS","bs_caml_array","bs_pervasives","WebGraphQL","bs_caml_format","bs_js_primitive","bs_js_null_undefined","MercuryServerRequestsConfig","ChatReliabilityInstrumentation","MessengerThreadFetchLoggerUtil","MessengerThreadsWebGraphQLQuery","MessengerServerPayloadTransformer.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d,e,f){__p&&__p();if(a==null)if(e)return{actions:null,thread:void 0,end_of_history:{type:"user",fbid:c},roger:null,delivery_receipts:[]};else return{actions:null,thread:void 0,end_of_history:void 0,roger:null,delivery_receipts:[]};else{e=[];var g=b("MessengerServerPayloadTransformer.bs").getThreadFBID(a),h=b("MessengerServerPayloadTransformer.bs").getOtherUserID(a);g=h==null?g==null?b("bs_pervasives").failwith("No thread ID"):g:h;g!==c&&b("bs_pervasives").failwith("Thread ID mismatch");h=b("MessengerServerPayloadTransformer.bs").transformThread(d,a,f);g=b("bs_js_null_undefined").fromOption(b("MessengerServerPayloadTransformer.bs").transformMessages(d,a,f));f=b("MessengerServerPayloadTransformer.bs").transformReadReceipts(d,a);if(f!==void 0){d={};d[c]=b("bs_js_primitive").valFromOption(f);f=d}else f=null;d=b("MessengerServerPayloadTransformer.bs").transformDeliveryReceipts(a);if(d.length>=1){d=b("bs_caml_array").caml_array_get(d,0);h.is_canonical?e.push({other_user_fbid:c,thread_fbid:null,time:b("bs_caml_format").caml_float_of_string(d.timestamp_precise)}):e.push({other_user_fbid:null,thread_fbid:c,time:b("bs_caml_format").caml_float_of_string(d.timestamp_precise)})}d=b("MessengerServerPayloadTransformer.bs").getMessagePageInfo(a);if(d!==void 0)if(b("bs_js_primitive").valFromOption(d).has_previous_page)return{actions:g,thread:h,end_of_history:void 0,roger:f,delivery_receipts:e};else return{actions:g,thread:h,end_of_history:{type:"thread",fbid:c},roger:f,delivery_receipts:e};else return{actions:g,thread:h,end_of_history:void 0,roger:f,delivery_receipts:e}}}function h(a){b("MessengerThreadFetchLoggerUtil").markerPoint(a.id,"sendThreadInfoFetchRequest");return new(b("MessengerThreadsWebGraphQLQuery"))({id:a.id,message_limit:a.limit,load_messages:a.limit>0,load_read_receipts:a.loadReadReceipts,load_delivery_receipts:a.loadDeliveryReceipts,before:a.timestamp})}function a(a,c,d){__p&&__p();var e=c.map(h);return b("Promise").all(b("WebGraphQL").execAll(e,{actorID:d?a:null,batchName:"MessengerGraphQLThreadFetcher",msgrRegion:b("MercuryServerRequestsConfig").msgrRegion,allowCrossPageTransition:!0}))["catch"](function(a){b("BanzaiODS").bumpEntityKey(2966,"messenger_webgraphql","fetch_thread.failure");c.forEach(function(a){b("MessengerThreadFetchLoggerUtil").markerEnd(a.id,"FAIL");return 0});b("ChatReliabilityInstrumentation").logERROR("fetch_thread_fail");return b("Promise").reject(a)}).then(function(e){b("BanzaiODS").bumpEntityKey(2966,"messenger_webgraphql","fetch_thread.success");return e.map(function(e,f){e=e.message_thread;f=b("bs_caml_array").caml_array_get(c,f);b("MessengerThreadFetchLoggerUtil").markerPoint(f.id,"getThreadInfoFetchResponse");return g(e,f.id,a,f.isCanonical,d)})})}f._transformPayload=g;f._getQuery=h;f.fetchAll=a}),null);
__d("MessengerWebDeltasTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebDeltasLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebDeltasLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebDeltasLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setDeltaEvent=function(a){this.$1.delta_event=a;return this};c.setDeltaType=function(a){this.$1.delta_type=a;return this};c.setIgnoreReason=function(a){this.$1.ignore_reason=a;return this};c.setSyncSeqID=function(a){this.$1.sync_seq_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={delta_event:!0,delta_type:!0,ignore_reason:!0,sync_seq_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("Bootload.bs",["bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=function(c){return b("bs_curry")._1(a[0],function(a){return b("bs_curry")._1(c,a.bootloadable)})};return[c]}f.Create=a}),null);
__d("MercuryFilters.bs",["MessagingTag"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MessagingTag").UNREAD;d=b("MessagingTag").GROUPS;function a(){return[g]}function c(a){return a===g}e="all";f.all=e;f.unread=g;f.groups=d;f.getSupportedFilters=a;f.isSupportedFilter=c}),null);
__d("MercuryMessageIDs.bs",["bs_curry","KeyedCallbackManager"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("KeyedCallbackManager"))();function a(a,c){var d=a.filter(function(a){return a.indexOf("id")===-1}),e=function(d){return b("bs_curry")._1(c,a.map(function(a){var b=d[a];if(b!==void 0)return b;else return a}))};return g.executeOrEnqueue(d,e)}function c(a,b){g.setResource(a,b);return 0}f.getServerIDs=a;f.addServerID=c}),null);
__d("MessengerDesktopNotificationPermissions",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:"default",DENIED:"denied",GRANTED:"granted"});e.exports=a}),null);
__d("MessengerDesktopNotifications",["MessengerDesktopNotificationPermissions","Run","UserAgent","WorkplaceChatHelper"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=5e3,h=new Map();function a(){h.forEach(function(a,b,c){a.close&&a.close()})}c={_closeTimer:null,isSupported:function(){return!!window.Notification},checkPermission:function(){if(window.Notification)return window.Notification.permission},hasDefaultSound:function(){return b("UserAgent").isBrowser("FireFox")&&b("UserAgent").isPlatform("Mac OS X")},isDenied:function(){return this.checkPermission()===b("MessengerDesktopNotificationPermissions").DENIED},isGranted:function(){return this.checkPermission()===b("MessengerDesktopNotificationPermissions").GRANTED},requestPermission:function(a){window.Notification&&window.Notification.requestPermission(a)},showNotification:function(a){__p&&__p();if(this.isGranted()){var c=window.Notification?new window.Notification(a.title,{body:a.body,icon:a.icon,tag:a.tag,silent:a.silent}):{};h.set(a.tag,c);a.onShow&&a.onShow();c.onclick=function(){b("WorkplaceChatHelper").isDesktopChatApp()&&b("WorkplaceChatHelper").showWindow(),a.onClick()};c.onclose=function(){h["delete"](a.tag)};this._closeTimer=setTimeout(function(){c.close()},a.closeTime||g);return c}else return null},removeNotification:function(a){a=h.get(a);a&&a.close()}};b("Run").onUnload(a);e.exports=c}),null);
__d("MessengerFolders.bs",["gkx","qex","MessagingTag","MessagingThreadType","MercuryFoldersConfig","MessengerEnvironment"],(function(a,b,c,d,e,f){"use strict";__p&&__p();d=b("qex")._("998180")&&b("MessengerEnvironment").messengerdotcom?[b("MessagingTag").INBOX,b("MessagingTag").PENDING,b("MessagingTag").OTHER,b("MessagingTag").ACTION_ARCHIVED,b("MessagingTag").MARKETPLACE_FOLDER]:[b("MessagingTag").INBOX,b("MessagingTag").PENDING,b("MessagingTag").OTHER,b("MessagingTag").ACTION_ARCHIVED];var g=d.filter(function(a){if(a===b("MessagingTag").PENDING)return!b("MercuryFoldersConfig").hide_message_filtered;else if(a===b("MessagingTag").OTHER)return!b("MercuryFoldersConfig").hide_message_requests;else return!0});function a(){return[].concat(g)}function c(a){if(a.is_archived)return b("MessagingTag").ACTION_ARCHIVED;else{var c=a.thread_type;if(!(c==null)&&c===b("MessagingThreadType").MARKETPLACE&&b("gkx")("965951"))return b("MessagingTag").MARKETPLACE_FOLDER;else return a.folder}}f.getSupportedFolders=a;f.getFromMeta=c}),null);
__d("MessengerSharedMediaActionsLoader",["JSResource"],(function(a,b,c,d,e,f){"use strict";a={deletePhotos:function(a,c){b("JSResource").loadAll([b("JSResource")("MessengerSharedMediaActions").__setRef("MessengerSharedMediaActionsLoader")],function(b){b.deletePhotos(a,c)})}};e.exports=a}),null);
__d("MessengerAttachmentTransformerForSend.bs",["MercuryAttachmentType","MessengerMessageTransformer.bs","MessengerAttachmentTransformer.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d,e){__p&&__p();c=c.node;if(c==null)return{attach_type:b("MercuryAttachmentType").ERROR};else{if(c.__typename==="ExtensibleMessageAttachment"){var f=c.story_attachment,g=c.genie_attachment,h;if(g==null)h=null;else{g=g.genie_message;var i;if(g==null)i=null;else{g=g.story_attachment;i={story_attachment:g==null?null:b("MessengerMessageTransformer.bs").unsafeCastExtensibleAttachment(g)}}h={genie_message:i}}g={legacy_attachment_id:c.legacy_attachment_id,story_attachment:f==null?null:b("MessengerMessageTransformer.bs").unsafeCastExtensibleAttachment(f),genie_attachment:h}}else g=null;i=c.__typename==="Sticker"?c:null;f=c.__typename;var j;switch(f){case"MessageAnimatedImage":case"MessageAudio":case"MessageFile":case"MessageImage":case"MessageVideo":j=[c];break;default:j=null}h=b("MessengerMessageTransformer.bs").unsafeCastBlobAttachments({blob_attachments:j});f=b("MessengerAttachmentTransformer.bs").transformAttachment(a,{extensible_attachment:g,blob_attachments:h,sticker:i},d,e);if(f.length!==0)return f[0];else return{}}}function a(a,b,c,d){return b.map(function(b){return g(a,b,c,d)})}f._transform=g;f.transform=a}),null);
__d("MercurySyncHolesTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MercurySyncHolesLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MercurySyncHolesLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MercurySyncHolesLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setDifference=function(a){this.$1.difference=a;return this};c.setSeqID=function(a){this.$1.seq_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTopicType=function(a){this.$1.topic_type=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={difference:!0,seq_id:!0,time:!0,topic_type:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("MercuryMessageError.react",["cx","CurrentUser","Link.react","MercuryErrorInfo","MercuryMessageActions","React","ServerHTML.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.messageResend=function(a){a.stopPropagation();a=d.props.message;a=a.error_data;b("MercuryErrorInfo").isTransient(a)&&b("MercuryMessageActions").getForFBID(d.props.authorFBID).resend(d.props.message)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.message,c=a.error_data;return b("React").createElement(b("Link.react"),babelHelpers["extends"]({},this.props,{href:"#",className:b("joinClasses")(this.props.className,this.$1(a)),tabIndex:b("MercuryErrorInfo").isTransient(c)?0:null,onClick:this.messageResend}),b("React").createElement("i",{className:"_2fs1"}),b("React").createElement(b("ServerHTML.react"),{className:"_61ag",blob:this.$2(a)}))};d.$1=function(a){if(b("MercuryErrorInfo").hasErrorStatus(a))return"_2fs2 _2fs3"+(b("MercuryErrorInfo").isTransient(a.error_data)?" _2fs4":"")+(b("MercuryErrorInfo").isPermanent(a.error_data)?" _2fs5":"");else return"_2fs6 _2fs2"};d.$2=function(a){var c="",d=a.error_data;if(b("MercuryErrorInfo").hasErrorStatus(a)){a=b("MercuryErrorInfo").getMessage(d);a&&(c=a)}return c};return c}(b("React").Component);c.propTypes={authorFBID:a.string,message:a.object.isRequired};c.defaultProps={authorFBID:b("CurrentUser").getID()};e.exports=c}),null);
__d("TooltipMixinClass.react",["DOM","React","ReactDOM","TooltipData"],(function(a,b,c,d,e,f){__p&&__p();function g(a){a=a.tooltip;return a!=null&&b("React").isValidElement(a)}a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={tooltipContainer:g(d.props)?b("DOM").create("div"):null},c)||babelHelpers.assertThisInitialized(d)}c.getDerivedStateFromProps=function(a,c){a=g(a);c=c.tooltipContainer;if(c&&!a)return{tooltipContainer:null};else if(!c&&a)return{tooltipContainer:b("DOM").create("div")};return null};var d=c.prototype;d.componentDidMount=function(){this.$1()};d.componentDidUpdate=function(a,b){b.tooltipContainer&&!this.state.tooltipContainer&&this.$2(b.tooltipContainer),this.$1()};d.$1=function(){var a=this.state.tooltipContainer,c=this.props.tooltip;if(c!=null&&b("React").isValidElement(c)&&a!=null){var d=function(){return c};b("ReactDOM").render(b("React").createElement(d,null),a)}else a=this.props.tooltip;a!=null?b("TooltipData").set(b("ReactDOM").findDOMNode(this),a,this.props.position,this.props.alignH):b("TooltipData").remove(b("ReactDOM").findDOMNode(this))};d.componentWillUnmount=function(){this.state.tooltipContainer&&this.$2(this.state.tooltipContainer),b("TooltipData").remove(b("ReactDOM").findDOMNode(this))};d.$2=function(a){b("ReactDOM").unmountComponentAtNode(a)};return c}(b("React").Component);e.exports=a}),null);
__d("TooltipLink.react",["React","TooltipMixinClass.react"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("a",this.props,this.props.children)};return c}(b("TooltipMixinClass.react"));e.exports=a}),null);
__d("autoFlipStyleProps",["Locale"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){if(!a||!b("Locale").isRTL())return a;var c={};Object.keys(a).forEach(function(b){c[g(b)]=h(a[b])});return c}function g(a){switch(a){case"left":return"right";case"marginLeft":return"marginRight";case"paddingLeft":return"paddingRight";case"right":return"left";case"marginRight":return"marginLeft";case"paddingRight":return"paddingLeft";default:return a}}function h(a){switch(a){case"left":return"right";case"right":return"left";default:return a}}e.exports=a}),null);
__d("FDSSystemFonts",["FDSClientConfig","UserAgent","gkx"],(function(a,b,c,d,e,f){"use strict";function a(){if(b("gkx")("678766")&&b("FDSClientConfig").isAdsInterfaces)return"Roboto, Arial, sans-serif";var a="Arial, sans-serif";b("UserAgent").isPlatform("iOS >= 9")||b("UserAgent").isPlatform("Mac OS X >= 10.11")&&!b("UserAgent").isBrowser("Firefox < 55")?a="-apple-system, BlinkMacSystemFont, Arial, sans-serif":b("UserAgent").isPlatform("Chrome OS")&&(a="Roboto, Arial, sans-serif");return a}e.exports={FONT_FAMILY:a(),LETTER_SPACING:"normal"}}),null);
__d("createBUITypeStyle",["FDSSystemFonts","SUITypeStyle"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("FDSSystemFonts").FONT_FAMILY,d=b("FDSSystemFonts").LETTER_SPACING;return b("SUITypeStyle")(babelHelpers["extends"]({},a,{fontFamily:c,letterSpacing:d}))}e.exports=a}),null);
__d("SUISpinnerUniform.fds",["cssVar"],(function(a,b,c,d,e,f,g){"use strict";a={activeColor:"#1877F2",backgroundColor:"#CCD0D5",darkActiveColor:"#FFFFFF",darkBackgroundColor:"rgba(255, 255, 255, 0.3)",sizes:{large:{border:2,diameter:20},small:{border:1.5,diameter:13}}};e.exports=a}),null);
__d("FDSPrivateButtonLayoutContext",["createLayoutContext"],(function(a,b,c,d,e,f){"use strict";a=b("createLayoutContext")({});e.exports=a}),null);
__d("FDSPrivateFocusLevelType",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({hover:"hover",focus:"focus",pressed:"pressed"});b=Object.freeze({"default":"default",active:"active",disabled:"disabled"});e.exports={FDSFocusLevelType:a,FDSElementStateType:b}}),null);
__d("FDSPrivateSelectorFactory",["memoizeWithArgsWeak"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("memoizeWithArgsWeak")(a)}e.exports=a}),null);
__d("FDSPrivateAlphaTransformer",["FDSPrivateFocusLevelType","FDSPrivateSelectorFactory"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FDSPrivateFocusLevelType").FDSElementStateType,h={hover:.05,focus:.05,pressed:.2},i={"default":0,active:.1,disabled:0};a=function(a,c){var d=b("FDSPrivateSelectorFactory")(function(b,d){var e=a[0],f=a[1],j=a[2],k=b!=null?i[b]:0;b=b!==g.disabled&&d!=null?h[d]:0;d=c+k+b;return"rgba("+e+", "+f+", "+j+", "+d.toFixed(2)+")"});return d};e.exports={getAlphaTransformer:a}}),null);
__d("FDSPrivateThemeAtomsType",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({FDS_GEODESIC:"FDS_GEODESIC",FDS_CLASSIC:"FDS_CLASSIC"});e.exports=a}),null);
__d("FDSPrivateThemeAtomsClassic",["cssVar","FDSPrivateAlphaTransformer","FDSPrivateThemeAtomsType","FDSSystemFonts"],(function(a,b,c,d,e,f,g){"use strict";a=b("FDSPrivateAlphaTransformer").getAlphaTransformer;c={active:"#3578E5","default":"rgba(53, 120, 229, 0.2)",disabled:"rgba(53, 120, 229, 0.2)"};d={xsmall:2,small:4,medium:6,large:8,xlarge:12};f=[0,0,0,1];g=[245,246,247,1];var h=[236,243,255,1];b={id:b("FDSPrivateThemeAtomsType").FDS_CLASSIC,type:{fontFamily:b("FDSSystemFonts").FONT_FAMILY,letterSpacing:b("FDSSystemFonts").LETTER_SPACING,size:12,lineHeight:"16px",base:14,scale:{display:[2.857,1.2],header1:[1.714,1.166],header2:[1.428,1.2],header3:[1.142,1.25],header4:[1,1.286],body1:[1,1.286],body2:[.928,1.308],body3:[.857,1.333]}},colors:{text:{"default":"#444950",primary:"#1C1E21",secondary:"#606770",disabled:"#BEC3C9",header:"#444950",blueLink:"#385898",negative:"#FA383E",positive:"#00A400"},layers:{background:"#FFFFFF",border:"#CCD0D5"},flat:{transform:a(f,0)},"default":{transform:a(g,1)},active:{transform:a(h,1)}},baseUnit:1,gutters:{text:0,icon:0,iconInline:0},elevation:{depth0:"0 1px 2px 0 rgba(0, 0, 0, 0.1)",depth1:"0 1px 2px 0 rgba(0, 0, 0, 0.1)",depth2:"0 4px 8px 1px rgba(0, 0, 0, 0.1)",depth3:"0 4px 8px 1px rgba(0, 0, 0, 0.1)"},ratios:{square:1,circle:1,landscape:1.5,portrait:1.25},visualAlignment:"strict",borderRadius:{control:d.xsmall,container:d.small,layer:d.small},dropdown:{offsetY:4},list:{paddingVert:0,paddingHoriz:0,item:{marginVert:4,marginHoriz:4,paddingVert:4,paddingHoriz:4}},tab:{active:{background:c.active,color:"#1C1E21"},item:{color:"#606770",height:42,hover:"#CCD0D5"},subItem:{active:{backgroundColor:"#FFFFFF",color:"#444950"},hover:{backgroundColor:c.active,color:"#FFFFFF"},padding:8}},binaryControls:{slider:{checked:{marginLeft:13,size:{medium:12,large:16}},disabled:{backgroundColor:"#BEC3C9"},margin:null,size:{medium:10,large:12}},checked:{active:{backgroundColor:"#FFFFFF",opacity:1},disabled:{backgroundColor:"#EBEDF0",opacity:1},hover:{backgroundColor:c["default"],opacity:1},normal:{backgroundColor:c["default"],opacity:1}},unchecked:{active:{backgroundColor:"#FFFFFF",border:"1px solid #3578E5",boxShadow:"inset 0 0 0 3px rgba(53, 120, 229, 0.2)"},disabled:{backgroundColor:"#EBEDF0",border:"1px solid #CCD0D5",boxShadow:"none"},hover:{backgroundColor:"#EBEDF0",border:"1px solid #CCD0D5",boxShadow:"inset 0 0 0 3px #FFFFFF"},normal:{backgroundColor:"#EBEDF0",border:"1px solid #CCD0D5",boxShadow:"inset 0 0 0 3px #FFFFFF"}},borderRadius:30,height:{medium:20,large:24},width:{medium:30,large:34}},inputs:{active:{backgroundColor:"#FFFFFF"},borderRadius:4,"default":{border:"1px solid #CCD0D5",boxShadow:"none"},disabled:{border:"1px solid #CCD0D5",backgroundColor:"#F5F6F7",boxShadow:"none"},edited:{backgroundColor:"#FFFBF0"},error:{border:"1px solid #FA383E"},focused:{border:"1px solid #3578E5",boxShadow:"inset 0 0 0 3px rgba(53, 120, 229, 0.2)",error:{boxShadow:"inset 0 0 0 3px rgba(250, 56, 62, 0.3)"},valid:{boxShadow:"inset 0 0 0 3px rgba(0, 164, 0, 0.1)"},warning:{boxShadow:"inset 0 0 0 3px rgba(255, 186, 0, 0.3)"}},valid:{border:"1px solid #00A400"},warning:{border:" 1px solid #FFBA00"},size:{medium:20,large:24}},controls:{fontWeight:"bold",fontWeightAlt:"bold",height:{small:24,medium:28,large:36},"default":{active:{background:"#DADDE1",borderColor:"#DADDE1",color:"#444950"},disabled:{background:"#F5F6F7",borderColor:"#EBEDF0",color:"#BEC3C9"},hover:{background:"#EBEDF0",borderColor:"#DADDE1",color:"#444950"},normal:{background:"#F5F6F7",borderColor:"#DADDE1",color:"#444950"}},confirm:{active:{background:"#043B87",borderColor:"#043B87",color:"#FFFFFF"},disabled:{background:"#B0D5FF",borderColor:"#B0D5FF",color:"#FFFFFF"},hover:{background:"#0E52B0",borderColor:"#0E52B0",color:"#FFFFFF"},normal:{background:"#1877F2",borderColor:"#1877F2",color:"#FFFFFF"}},special:{active:{background:"#006900",borderColor:"#006900",color:"#FFFFFF"},disabled:{background:"#86DF81",borderColor:"#86DF81",color:"#FFFFFF"},hover:{background:"#008C00",borderColor:"#008C00",color:"#FFFFFF"},normal:{background:"#00A400",borderColor:"#00A400",color:"#FFFFFF"}},flat:{active:{background:"rgba(0, 0, 0, 0.1)",borderColor:"rgba(0, 0, 0, 0.1)",color:"#444950"},disabled:{background:"transparent",borderColor:"transparent",color:"#BEC3C9"},hover:{background:"rgba(0, 0, 0, 0.05)",borderColor:"rgba(0, 0, 0, 0.05)",color:"#444950"},normal:{background:"transparent",borderColor:"transparent",color:"#444950"}},flatWhite:{active:{background:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.1)",color:"#FFFFFF"},disabled:{background:"transparent",borderColor:"transparent",color:"rgba(255, 255, 255, 0.4)"},hover:{background:"rgba(255, 255, 255, 0.05)",borderColor:"rgba(255, 255, 255, 0.05)",color:"#FFFFFF"},normal:{background:"transparent",borderColor:"transparent",color:"#FFFFFF"}}},inputPrimitive:{size:{medium:28,large:36}},layout:{sidebar:{sparse:{width:{expanded:"300px",collapsed:"72px"},gutter:"12px",itemPaddingHorz:"12px",itemPaddingVert:"8px"},dense:{width:{expanded:"240px",collapsed:"52px"},gutter:"4px",itemPaddingHorz:"12px",itemPaddingVert:"4px"}},card:{boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(0, 0, 0, 0.1)"},modal:{boxShadow:"0 0 0 1px rgba(0, 0, 0, 0.1), 0 16px 32px 2px rgba(0, 0, 0, 0.15)"}}};e.exports=b}),null);
__d("FDSPrivateThemeContext.react",["FDSPrivateThemeAtomsClassic","React"],(function(a,b,c,d,e,f){"use strict";e.exports=b("React").createContext(b("FDSPrivateThemeAtomsClassic"))}),null);
__d("FDSTooltipContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext(!1);e.exports=a}),null);
__d("AlignmentEnum",["prop-types"],(function(a,b,c,d,e,f){"use strict";a={left:"left",center:"center",right:"right",propType:b("prop-types").oneOf(["left","center","right"]),values:["left","center","right"]};e.exports=a}),null);
__d("ContextualLayer.react",["ContextualLayer","React","ReactBrowserEventEmitter_DO_NOT_USE","ReactDOM","ReactLayer","Style","warning"],(function(a,b,c,d,e,f){__p&&__p();a=b("React").PropTypes;c=b("ReactLayer").createClass({propTypes:{contextRef:a.func,context:function(a,c,d){if(a.context==null==(a.contextRef==null))return new Error("Exactly one of `context` or `contextRef` must be set on `"+(d+"`."));a=a[c];if(a!=null){if(typeof a!=="object")return new Error("Invalid `"+c+"` supplied to `"+d+"`, expected a React component.");if(b("React").isValidElement(a))return new Error("Invalid `"+c+"` supplied to `"+d+"`, expected a React component instance. You're passing a React descriptor.")}}},immutableProps:{modal:null},createLayer:function(a){__p&&__p();var c=this,d=this._getContextNode(),e={context:d,contextBounds:this.props.contextBounds,"data-testid":this.props["data-testid"],position:this.props.position,alignment:this.props.alignment,offsetX:this.props.offsetX,offsetY:this.props.offsetY,addedBehaviors:this.enumerateBehaviors(this.props.behaviors),shouldSetARIAProperties:this.props.shouldSetARIAProperties,isStrictlyControlled:this.props.isStrictlyControlled};e=new(b("ContextualLayer"))(e,a);this._node=a;this._matchContextSize(this.props);this.props.contextBounds&&e.setContextWithBounds(d,this.props.contextBounds);this._resizeSubscription=e.subscribe("resize",function(a,d){a=b("ReactBrowserEventEmitter_DO_NOT_USE").isEnabled();a&&(c.props.onResize&&c.props.onResize(d))});e.conditionShow(this.props.shown);return e},componentWillUnmount:function(){this._resizeSubscription&&(this._resizeSubscription.unsubscribe(),this._resizeSubscription=null)},receiveProps:function(a,b){this.updateBehaviors(b.behaviors,a.behaviors);b=this._getContextNode();a.contextBounds?this.layer.setContextWithBounds(b,a.contextBounds):this.layer.setContext(b);this._matchContextSize(a);this.layer.setPosition(a.position);this.layer.setAlignment(a.alignment);this.layer.setOffsetX(a.offsetX);this.layer.setOffsetY(a.offsetY);this.layer.conditionShow(a.shown)},getDefaultEnabledBehaviors:function(){return b("ContextualLayer").getDefaultBehaviorsAsObject()},_getContextNode:function(){var a;this.props.context?a=b("ReactDOM").findDOMNode(this.props.context):this.props.contextRef&&(a=b("ReactDOM").findDOMNode(this.props.contextRef()));return a},_matchContextSize:function(a){var c=this._node,d=this._getContextNode();a.containerWidthMatchContext&&b("Style").set(c,"width",d.offsetWidth+"px");a.containerHeightMatchContext&&b("Style").set(c,"height",d.offsetHeight+"px")}});e.exports=c}),null);
__d("PositionEnum",["prop-types"],(function(a,b,c,d,e,f){"use strict";a={above:"above",below:"below",left:"left",right:"right",propType:b("prop-types").oneOf(["above","below","left","right"]),values:["above","below","left","right"]};e.exports=a}),null);
__d("getSUITooltipUniform.fds",["cssVar","FDSPrivateThemeAtomsType","createBUITypeStyle"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.id===b("FDSPrivateThemeAtomsType").FDS_GEODESIC;return{backgroundColor:c?a.colors.layers.background:"#1C1E21",borderRadius:a.borderRadius.container,boxShadow:c?a.elevation.depth2:"none",color:c?a.colors.text["default"]:"#FFFFFF",showArrow:!c,typeStyle:b("createBUITypeStyle")({color:c?a.colors.text["default"]:"#FFFFFF",fontSize:c?"14px":"12px",fontWeight:c?"normal":"bold"})}}e.exports=a}),null);
__d("makeFDSErrorHandlingComponent",["FDSClientConfig","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();var d=function(e){__p&&__p();babelHelpers.inheritsLoose(d,e);function d(){return e.apply(this,arguments)||this}var f=d.prototype;f.componentDidCatch=function(a){a.suiChildError!==!0&&a.fdsError!==!0&&(a.fdsError=!0,b("FDSClientConfig").logger!=null&&typeof b("FDSClientConfig").logger.logBIGComponentError==="function"&&b("FDSClientConfig").logger.logBIGComponentError(a,c));throw a};f.render=function(){var c=this.props,d=c.forwardedRef;c=babelHelpers.objectWithoutPropertiesLoose(c,["forwardedRef"]);return b("React").createElement(a,babelHelpers["extends"]({},c,{ref:d}))};return d}(b("React").Component),e=function(a,c){return b("React").createElement(d,babelHelpers["extends"]({},a,{forwardedRef:c}))};e.displayName=c;e=b("React").forwardRef(e);return e}e.exports=a}),null);
__d("makeFDSMountLoggingComponent",["FDSClientConfig","React","Run","gkx","guid","performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return a!==0&&Math.random()*a<1}var h=new Map();function i(a,b){h.set(a,b)}function j(a){h["delete"](a)}function a(){h.forEach(function(a){return a()})}b("Run").onBeforeUnload(a,b("gkx")("708253")?!1:void 0);function c(a,c,d){__p&&__p();d===void 0&&(d=!0);if(!g(b("FDSClientConfig").mountTimeSamplingRate)||!b("gkx")("678294"))return a;var e=function(e){__p&&__p();babelHelpers.inheritsLoose(d,e);function d(){var a,d;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(a=d=e.call.apply(e,[this].concat(g))||this,d.$1=null,d.$2=b("guid")(),d.$3=function(){var a=d.$1;if(a!==null){a=b("performanceNow")()-a;b("FDSClientConfig").logger&&typeof b("FDSClientConfig").logger.logFDSMountTime==="function"&&b("FDSClientConfig").logger.logFDSMountTime(c,a)}},a)||babelHelpers.assertThisInitialized(d)}var f=d.prototype;f.componentDidMount=function(){this.$1=b("performanceNow")(),i(this.$2,this.$3)};f.componentWillUnmount=function(){j(this.$2),this.$3()};f.render=function(){var c=this.props,d=c.forwardedRef;c=babelHelpers.objectWithoutPropertiesLoose(c,["forwardedRef"]);return b("React").createElement(a,babelHelpers["extends"]({},c,{ref:d}))};return d}(b("React").Component);if(!d)return e;d=function(a,c){return b("React").createElement(e,babelHelpers["extends"]({},a,{forwardedRef:c}))};d.displayName=c;return b("React").forwardRef(d)}e.exports=c}),null);
__d("makeFDSStandardComponent",["requireCond","cr:939148","React","cr:845147","hoist-non-react-statics","makeFDSErrorHandlingComponent","makeFDSMountLoggingComponent"],(function(a,b,c,d,e,f){"use strict";b("cr:939148")!=null&&b("cr:939148").inject();function a(a,c){c.displayName==null&&(c.displayName=a);return b("hoist-non-react-statics")(b("makeFDSMountLoggingComponent")(b("makeFDSErrorHandlingComponent")(c,a),a),c)}e.exports=a}),null);
__d("makeSUIThemeGetter",["SUITheme","memoizeWithArgs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){function c(c){var d={};Object.keys(a).forEach(function(b){var e=a[b];e!==void 0&&(d[b]=e(c))});return new(b("SUITheme"))({id:c.id,components:d})}return b("memoizeWithArgs")(c,function(a){return a.id})}e.exports=a}),null);
__d("FDSTooltip.react",["FDSPrivateThemeContext.react","FDSTooltipContext","React","SUITooltip.react","getSUITooltipUniform.fds","makeFDSStandardComponent","makeSUIThemeGetter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("makeSUIThemeGetter")({SUITooltip:b("getSUITooltipUniform.fds")}),h=!0;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props;return b("React").createElement(b("FDSPrivateThemeContext.react").Consumer,null,function(c){return b("React").createElement(b("FDSTooltipContext").Provider,{value:h},b("React").createElement(b("SUITooltip.react"),{alignment:a.alignment,display:a.display,maxWidth:a.maxWidth,offset:a.offset,overflowWrap:a.overflowWrap,position:a.position,preserveThemeFromContext:!0,theme:g(c),tooltip:a.tooltip,tooltipDelay:a.tooltipDelay,tooltipWidth:a.tooltipWidth},a.children))})};return c}(b("React").PureComponent);a.defaultProps={alignment:"left",display:"inline",offset:4,position:"above",tooltipDelay:0,tooltipWidth:"auto"};e.exports=b("makeFDSStandardComponent")("FDSTooltip",a)}),null);
__d("FDSPrivateDisabledMessageWrapper.react",["FDSTooltip.react","React","makeFDSStandardComponent"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.alignment;c=c===void 0?"left":c;var d=a.children,e=a.disabledMessage,f=a.isDisabled;a=a.offset;a=a===void 0?8:a;return f!=null&&f&&e!=null?b("React").createElement(b("FDSTooltip.react"),{alignment:c,offset:a,tooltip:e},d):d}e.exports=b("makeFDSStandardComponent")("FDSPrivateDisabledMessageWrapper",a)}),null);
__d("CornerEnum",[],(function(a,b,c,d,e,f){"use strict";a={topLeft:"topLeft",topRight:"topRight",bottomRight:"bottomRight",bottomLeft:"bottomLeft",values:["topLeft","topRight","bottomRight","bottomLeft"]};e.exports=a}),null);
__d("SideEnum",["prop-types"],(function(a,b,c,d,e,f){"use strict";a={top:"top",right:"right",bottom:"bottom",left:"left",propType:b("prop-types").oneOf(["top","right","bottom","left"]),values:["top","right","bottom","left"]};e.exports=a}),null);
__d("FDSPrivateGutterSelector",["FDSPrivateSelectorFactory"],(function(a,b,c,d,e,f){"use strict";a=b("FDSPrivateSelectorFactory")(function(a,b){return a.baseUnit*a.gutters[b]});e.exports=a}),null);
__d("getSUIButtonUniform.fds",["FDSPrivateGutterSelector","FDSPrivateThemeAtomsType"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.borderRadius,d=a.controls,e=a.colors,f=a.type,g=d.height,h=a.id===b("FDSPrivateThemeAtomsType").FDS_GEODESIC;a={button:b("FDSPrivateGutterSelector")(a,"text"),icon:b("FDSPrivateGutterSelector")(a,"iconInline"),onlyIcon:b("FDSPrivateGutterSelector")(a,"icon")};return{borderRadius:c.control,height:{"short":g.small,normal:g.medium,tall:g.large},padding:h?{normal:a,"short":a,tall:a}:{normal:{button:"11px",icon:"7px",onlyIcon:"7px"},"short":{button:"7px",icon:"3px",onlyIcon:"3px"},tall:{button:"19px",icon:"7px",onlyIcon:"11px"}},typeStyle:{letterSpacing:f.letterSpacing,color:e.text["default"],fontSize:f.size+"px",fontWeight:d.fontWeight,fontFamily:f.fontFamily,lineHeight:f.lineHeight},use:{"default":d["default"],confirm:babelHelpers["extends"]({},d.confirm,{fontWeight:d.fontWeightAlt}),special:babelHelpers["extends"]({},d.special,{fontWeight:d.fontWeightAlt}),flat:d.flat,flatWhite:d.flatWhite}}}e.exports=a}),null);
__d("FDSButton.react",["cx","FDSPrivateButtonLayoutContext","FDSPrivateDisabledMessageWrapper.react","FDSPrivateThemeAtomsType","FDSPrivateThemeContext.react","KeyboardFocus.react","Locale","React","SUIBorderUtils","SUIButton.react","SUIButtonContext","autoFlipStyleProps","getSUIButtonUniform.fds","makeFDSStandardComponent","makeSUIThemeGetter"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FDSPrivateButtonLayoutContext").Consumer,i=b("makeSUIThemeGetter")({SUIButton:b("getSUIButtonUniform.fds")});a={borderedSides:b("SUIBorderUtils").ALL_SIDES,isDisabled:!1,labelIsHidden:!1,roundedCorners:b("SUIBorderUtils").ALL_CORNERS,size:"medium",type:"button",use:"default"};var j={isFixedWidthPadded:!0};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){return this.context.id===b("FDSPrivateThemeAtomsType").FDS_GEODESIC};d.$2=function(){return i(this.context)};d.$3=function(a,c,d){if(this.context.visualAlignment!=="optical"||a==null||d)return a;d=this.$2().SUIButton.padding[l(this.props.size)];d=parseInt(d.button,10)-parseInt(d.onlyIcon,10);c=c==="before"?"marginLeft":"marginRight";return b("React").cloneElement(a,{style:(c=b("autoFlipStyleProps")((a={},a[c]=-d,a)))!=null?c:void 0})};d.$4=function(a){var b=this.$1(),c=this.props.style;b=b?n(a,this.$2().SUIButton.borderRadius):void 0;a=(a=a.marginLeft)!=null?a:c==null?void 0:c.marginLeft;return babelHelpers["extends"]({},c,b,a!=null?{marginLeft:a}:null,{backgroundClip:null})};d.$5=function(a){var b=[a.borderTopLeftRadius===0&&"topLeft",a.borderBottomLeftRadius===0&&"bottomLeft",a.borderTopRightRadius===0&&"topRight",a.borderBottomRightRadius===0&&"bottomRight"].filter(Boolean);return this.props.roundedCorners.filter(function(a){return!b.includes(a)})};d.$6=function(a){if(this.$1())return[];var b=[a.borderLeftWidth===0&&"left",a.borderRightWidth===0&&"right"].filter(Boolean);return this.props.borderedSides.filter(function(a){return!b.includes(a)})};d.$7=function(a){return a.flexGrow===1?"flex":this.props.density};d.render=function(){var a=this,c=this.props,d=this.$1(),e=this.$2(),f=m(c.use),g=c.busyIndicator==null||d?c.iconAfter:void 0,i=c.icon!=null,n=g!=null,o=!c.labelIsHidden,p=o||i||n,q=c.busyIndicator!=null,r=(i||n)&&!(i&&n)&&!o;i=b("React").createElement(h,{value:c.use},function(h,i){return b("React").createElement(b("KeyboardFocus.react"),{onBlur:c.onBlur,onFocus:c.onFocus,onKeyDown:c.onKeyDown},function(j){var m,n=j.isKeyboardFocused,o=j.onBlur,s=j.onFocus;j=j.onKeyDown;return b("React").createElement(b("FDSPrivateDisabledMessageWrapper.react"),{disabledMessage:c.disabledMessage,isDisabled:c.isDisabled,offset:18},b("React").createElement(b("SUIButton.react"),{"aria-busy":c.busyIndicator!=null?!0:void 0,"aria-haspopup":c["aria-haspopup"],"aria-label":c["aria-label"],"aria-labelledby":c["aria-labelledby"],"aria-pressed":c["aria-pressed"],autoFocus:c.autoFocus,borderedSides:a.$6(h),buttonRef:i,className_DEPRECATED:"_7tvm"+(d?"":" _7tv2")+(d?" _7tv3":"")+(p?" _7tv4":"")+(q?" _7tvn":""),"data-testid":c["data-testid"],"data-tooltip-position":c.tooltipPosition,density:a.$7(h),disabled:c.isDisabled,height:l(c.size),href:c.href,icon:a.$3(c.icon,"before",r),iconAfter:a.$3(g,"after",r),id:c.id,isDepressed:c.isDepressed,label:c.label,labelIsHidden:c.labelIsHidden,layerAction:c.layerAction,margin:c.margin,maxWidth:(m=c.maxWidth)!=null?m:d?"100%":void 0,minWidth:c.minWidth,onBlur:o,onClick:c.onClick,onFocus:s,onKeyDown:j,onKeyUp:c.onKeyUp,onMouseDown:c.onMouseDown,onMouseEnter:c.onMouseEnter,onMouseLeave:c.onMouseLeave,onMouseUp:c.onMouseUp,rel:c.rel,rightContent:b("React").createElement(b("React").Fragment,null,q?b("React").createElement("div",{className:"_7tvo"},c.busyIndicator):null,d&&n?b("React").createElement(k,{isDisabled:c.isDisabled,layout:h,uniform:e.SUIButton,use:f}):null),roundedCorners:a.$5(h),style:a.$4(h),target:c.target,textAlign:c.textAlign,theme:e,tooltip:c.tooltip,tooltipDelay:c.tooltipDelay,type:c.type,use:f,value:c.value,width:c.width}))})});return d?b("React").createElement(b("SUIButtonContext").Provider,{value:j},i):i};return c}(b("React").PureComponent);c.defaultProps=a;c.contextType=b("FDSPrivateThemeContext.react");function k(a){var c=a.isDisabled,d=a.layout,e=a.uniform;a=e.use[a.use];c=c?"disabled":"hover";return b("React").createElement("div",{className:"_7tvp",style:babelHelpers["extends"]({},n(d,e.borderRadius),{color:a[c].borderColor})})}function l(a){if(a==="small")return"short";return a==="large"?"tall":"normal"}function m(a){return a==="primary"?"confirm":a}function n(a,c){var d,e,f=b("Locale").isRTL(),g=f?"Right":"Left";f=f?"Left":"Right";return e={},e["borderTop"+g+"Radius"]=(d=a.borderTopLeftRadius)!=null?d:c,e["borderBottom"+g+"Radius"]=(d=a.borderBottomLeftRadius)!=null?d:c,e["borderTop"+f+"Radius"]=(g=a.borderTopRightRadius)!=null?g:c,e["borderBottom"+f+"Radius"]=(d=a.borderBottomRightRadius)!=null?d:c,e}d=b("makeFDSStandardComponent")("FDSButton",c);d.defaultProps=a;e.exports=d}),null);
__d("getSUICloseButtonUniform.fds",["ix","React","SUIGlyphIcon.react","asset"],(function(a,b,c,d,e,f,g){"use strict";function a(){return{dark:{large:function(a){return b("React").createElement(b("SUIGlyphIcon.react"),babelHelpers["extends"]({},a,{srcDefault:g("499680"),srcDisabled:g("490191"),srcHover:g("499681")}))},small:function(a){return b("React").createElement(b("SUIGlyphIcon.react"),babelHelpers["extends"]({},a,{srcDefault:g("499672"),srcDisabled:g("490190"),srcHover:g("499673")}))}},light:{large:function(a){return b("React").createElement(b("SUIGlyphIcon.react"),babelHelpers["extends"]({},a,{srcDefault:g("489948"),srcDisabled:g("499675"),srcHover:g("499674")}))},small:function(a){return b("React").createElement(b("SUIGlyphIcon.react"),babelHelpers["extends"]({},a,{srcDefault:g("489947"),srcDisabled:g("499667"),srcHover:g("499666")}))}},iconSize:{large:16,small:12}}}e.exports=a}),null);
__d("getSUIModalCardUniform.fds",["cssVar","createBUITypeStyle"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{backgroundColor:"#FFFFFF",bodyHorizontalMargin:12,bodyVerticalMargin:20,cardBoxShadow:a.layout.card.boxShadow,closeButtonPosition:14,modalBoxShadow:a.layout.modal.boxShadow,typeStyle:b("createBUITypeStyle")({color:"#1C1E21",fontSize:"12px"}),borderRadius:a.borderRadius.layer}}e.exports=a}),null);
__d("FDSModal.react",["FDSPrivateThemeContext.react","React","SUIModal.react","SUIModalFillViewportHeight","getSUICloseButtonUniform.fds","getSUIModalCardUniform.fds","makeFDSStandardComponent","makeSUIThemeGetter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("makeSUIThemeGetter")({SUICloseButton:b("getSUICloseButtonUniform.fds"),SUIModalCard:b("getSUIModalCardUniform.fds")});a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props;return b("React").createElement(b("FDSPrivateThemeContext.react").Consumer,null,function(c){return b("React").createElement(b("SUIModal.react"),{behaviors:babelHelpers["extends"]({SUIModalFillViewportHeight:b("SUIModalFillViewportHeight")},a.behaviors),causalElementRef:a.getCausalElementRef,children:a.children,"data-testid":a["data-testid"],fixedTopPosition:a.fixedTopPosition,footer:a.footer,header:a.header,height:a.height,interactionArea:a.interactionArea,isFullBleed:!0,isShown:a.isShown,label:a.label,labelledBy:a.labelledBy,onHide:a.onHide,shade:a.shade,theme:g(c),titleID:a.labelledBy,width:a.width})})};return c}(b("React").Component);a.defaultProps={behaviors:{},getCausalElementRef:function(){return null},shade:"dark",width:600};e.exports=b("makeFDSStandardComponent")("FDSModal",a)}),null);
__d("getSUIHorizontalLayoutUniform.fds",[],(function(a,b,c,d,e,f){"use strict";function a(){return{margin:8}}e.exports=a}),null);
__d("getSUILayerFooterUniform.fds",["cssVar"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{isFullBleed:!0,topBorderColor:"#DADDE1"}}e.exports=a}),null);
__d("FDSPrivateLayerFooter.react",["FDSPrivateThemeContext.react","React","SUILayerFooter.react","getSUIHorizontalLayoutUniform.fds","getSUILayerFooterUniform.fds","makeFDSStandardComponent","makeSUIThemeGetter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PureComponent;var g=b("makeSUIThemeGetter")({SUIHorizontalLayout:b("getSUIHorizontalLayoutUniform.fds"),SUILayerFooter:b("getSUILayerFooterUniform.fds")});c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=g(this.context);return b("React").createElement(b("SUILayerFooter.react"),{leftContent:a.leftContent,primaryButton:a.primaryButton,secondaryButton:a.secondaryButton,theme:c})};return c}(a);c.contextType=b("FDSPrivateThemeContext.react");e.exports=b("makeFDSStandardComponent")("FDSPrivateLayerFooter",c)}),null);
__d("FDSModalFooter.react",["FDSPrivateLayerFooter.react"],(function(a,b,c,d,e,f){"use strict";e.exports=b("FDSPrivateLayerFooter.react")}),null);
__d("WhiteSpaceEnum",["prop-types"],(function(a,b,c,d,e,f){"use strict";a={inherit:"inherit",initial:"initial",normal:"normal",nowrap:"nowrap",pre:"pre","pre-line":"pre-line","pre-wrap":"pre-wrap",propType:b("prop-types").oneOf(["inherit","initial","normal","nowrap","pre","pre-line","pre-wrap"]),values:["inherit","initial","normal","nowrap","pre","pre-line","pre-wrap"]};e.exports=a}),null);
__d("SUITextUniform.fds",["cssVar","FDSSystemFonts"],(function(a,b,c,d,e,f,g){"use strict";a=b("FDSSystemFonts").FONT_FAMILY;c={header1:{fontFamily:a,fontSize:24,lineHeight:28},header2:{fontFamily:a,fontSize:20,lineHeight:24},header3:{fontFamily:a,fontSize:16,lineHeight:20},header4:{fontFamily:a,fontSize:14,lineHeight:18},body1:{fontFamily:a,fontSize:14,lineHeight:18},body1_DEPRECATED:{fontFamily:a,fontSize:16,lineHeight:20},body2:{fontFamily:a,fontSize:13,lineHeight:17},body2_DEPRECATED:{fontFamily:a,fontSize:14,lineHeight:18},body3:{fontFamily:a,fontSize:12,lineHeight:16},body3_DEPRECATED:{fontFamily:a,fontSize:13,lineHeight:17},meta1:{fontFamily:a,fontSize:12,lineHeight:16},display:{fontFamily:a,fontSize:40,lineHeight:48},heading:{fontFamily:a,fontSize:24,lineHeight:32},subheading:{fontFamily:a,fontSize:20,lineHeight:24},headline:{fontFamily:a,fontSize:16,lineHeight:24},regular:{fontFamily:a,fontSize:14,lineHeight:20},regularUI:{fontFamily:a,fontSize:14,lineHeight:16},large:{fontFamily:a,fontSize:16,lineHeight:20},letterSpacing:"normal",medium:{fontFamily:a,fontSize:14,lineHeight:18},shade:{dark:"#1d2129",light:"#90949c",link:"#365899",medium:"#4b4f56",white:"#FFFFFF"},small:{fontFamily:a,fontSize:12,lineHeight:16},color:{blueLink:"#385898",disabled:"#BEC3C9",disabledDark:"#373737",interactive:"#1877F2",negative:"#FA383E",placeholder:"#8D949E",positive:"#00A400",primary:"#1C1E21",primaryDark:"#cccccc",secondary:"#606770",secondaryDark:"#4A4A4A",white:"#FFFFFF"},xlarge:{fontFamily:a,fontSize:18,lineHeight:24},xsmall:{fontFamily:a,fontSize:11,lineHeight:14},xxlarge:{fontFamily:a,fontSize:24,lineHeight:30}};e.exports=c}),null);
__d("getSUIErrorUniform.fds",["ix","cssVar","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";function a(){return{error:{borderColor:"#FA383E",icon:b("React").createElement(b("Image.react"),{src:g("480267")})},warning:{borderColor:"#FFBA00",icon:b("React").createElement(b("Image.react"),{src:g("480789")})}}}e.exports=a}),null);
__d("getSUILayerHeaderUniform.fds",["cssVar","createBUITypeStyle"],(function(a,b,c,d,e,f,g){"use strict";var h=4;function a(a){a=a.borderRadius;return{backgroundColor:"#FFFFFF",bottomBorderColor:"#DADDE1",errorIconMarginLeft:"8px",horizontalPadding:16,typeStyle:b("createBUITypeStyle")({color:"#1C1E21",fontSize:"16px",fontWeight:"bold"}),borderRadius:a.layer===h?void 0:a.layer}}e.exports=a}),null);
__d("getSUILinkUniform.fds",["cssVar"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{normalColor:a.colors.text.blueLink,hoverColor:a.colors.text.blueLink,inverseColor:"#FFFFFF",inverseHoverColor:"#FFFFFF"}}e.exports=a}),null);
__d("FDSPrivateLayerHeader.react",["FDSPrivateThemeContext.react","React","SUIErrorComponentUtil","SUILayerHeader.react","SUITextUniform.fds","getSUICloseButtonUniform.fds","getSUIErrorUniform.fds","getSUILayerHeaderUniform.fds","getSUILinkUniform.fds","makeSUIThemeGetter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("makeSUIThemeGetter")({SUICloseButton:b("getSUICloseButtonUniform.fds"),SUIError:b("getSUIErrorUniform.fds"),SUILayerHeader:b("getSUILayerHeaderUniform.fds"),SUILink:b("getSUILinkUniform.fds"),SUIText:function(){return b("SUITextUniform.fds")}});a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=g(this.context);c={errorMessage:a.errorMessage,errorTooltipPosition:a.errorTooltipPosition,hasCloseButton:a.hasCloseButton,subtitle:a.subtitle,theme:c,title:a.title,warningMessage:a.warningMessage};if(a["switch"])return b("React").createElement(b("SUILayerHeader.react"),babelHelpers["extends"]({},c,{"switch":a["switch"]}));if(a.button)return b("React").createElement(b("SUILayerHeader.react"),babelHelpers["extends"]({},c,{button:a.button}));return a.menu?b("React").createElement(b("SUILayerHeader.react"),babelHelpers["extends"]({},c,{menu:a.menu})):b("React").createElement(b("SUILayerHeader.react"),babelHelpers["extends"]({},c,{link:a.link?a.link:void 0}))};return c}(b("React").PureComponent);a.contextType=b("FDSPrivateThemeContext.react");a.defaultProps=b("SUIErrorComponentUtil").defaultProps;e.exports=a}),null);
__d("FDSModalHeader.react",["FDSPrivateLayerHeader.react","React","SUIErrorComponentUtil"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("FDSPrivateLayerHeader.react"),babelHelpers["extends"]({},this.props,{hasCloseButton:!0}))};return c}(b("React").PureComponent);a.defaultProps=b("SUIErrorComponentUtil").defaultProps;e.exports=a}),null);
__d("FDSPrivateThemeTypeSelectors",[],(function(a,b,c,d,e,f){"use strict";function a(a){return Object.keys(a.type.scale).reduce(function(b,c){var d=Math.round(a.type.scale[c][0]*a.type.base);b[c]={fontSize:d,lineHeight:Math.round(d*a.type.scale[c][1])};return b},{})}e.exports={fontTypeSelector:a}}),null);
__d("getSUITextUniform.fds",["cssVar","FDSPrivateThemeAtomsType","FDSPrivateThemeTypeSelectors"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FDSPrivateThemeTypeSelectors").fontTypeSelector;function a(a,c){var d=a.type.fontFamily,e=a.id===b("FDSPrivateThemeAtomsType").FDS_GEODESIC,f=e?"700":void 0;a=h(a);var g=a.dataDisplay,i=a.display,j=a.title,k=a.header1,l=a.header2,m=a.header3,n=a.header4,o=a.body,p=a.body1,q=a.body2,r=a.body3;a=a.small;var s=e?o:p;return{display:babelHelpers["extends"]({fontFamily:d},(g=(g=g)!=null?g:i)!=null?g:s),header1:babelHelpers["extends"]({fontWeight:f,fontFamily:d},k),header2:babelHelpers["extends"]({fontWeight:f,fontFamily:d},l),header3:babelHelpers["extends"]({fontWeight:f,fontFamily:d},m),header4:babelHelpers["extends"]({fontWeight:f,fontFamily:d},n),body1:babelHelpers["extends"]({fontFamily:d},(g=(i=o)!=null?i:p)!=null?g:s),body1_DEPRECATED:{fontFamily:d,fontSize:16,lineHeight:20},body2:babelHelpers["extends"]({fontFamily:d},(l=(k=o)!=null?k:q)!=null?l:s),body2_DEPRECATED:{fontFamily:d,fontSize:14,lineHeight:18},body3:babelHelpers["extends"]({fontFamily:d},(f=(m=o)!=null?m:r)!=null?f:s),body3_DEPRECATED:{fontFamily:d,fontSize:13,lineHeight:17},meta1:{fontFamily:d,fontSize:12,lineHeight:16},heading:{fontFamily:d,fontSize:24,lineHeight:32},subheading:{fontFamily:d,fontSize:20,lineHeight:24},headline:babelHelpers["extends"]({fontFamily:d},(n=j)!=null?n:s),regular:babelHelpers["extends"]({fontFamily:d},(i=o)!=null?i:s),regularUI:{fontFamily:d,fontSize:14,lineHeight:16},large:{fontFamily:d,fontSize:16,lineHeight:20},letterSpacing:"normal",medium:{fontFamily:d,fontSize:14,lineHeight:18},shade:{dark:"#1d2129",light:"#90949c",link:"#365899",medium:"#4b4f56",white:"#FFFFFF"},small:babelHelpers["extends"]({fontFamily:d},(p=a)!=null?p:s),color:{primary:c,secondary:c,blueLink:c,negative:c,positive:c,disabled:"#BEC3C9",disabledDark:"#373737",interactive:"#1877F2",placeholder:"#8D949E",primaryDark:"#cccccc",secondaryDark:"#4A4A4A",white:"#FFFFFF"},units:e?"relative":"absolute",xlarge:{fontFamily:d,fontSize:18,lineHeight:24},xsmall:{fontFamily:d,fontSize:11,lineHeight:14},xxlarge:{fontFamily:d,fontSize:24,lineHeight:30}}}e.exports=a}),null);
__d("FDSText.react",["FDSPrivateThemeContext.react","React","SUIText.react","SUITheme","getSUITextUniform.fds","gkx","makeFDSStandardComponent","memoizeWithArgs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("memoizeWithArgs")(function(a,c){return new(b("SUITheme"))({id:"FDSText",components:{SUIText:b("getSUITextUniform.fds")(a,c)}})},function(a,b){return a.id+"."+b});a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=this.context;c=g(c,(c=c.colors.text[a.color])!=null?c:"UNSUPPORTED");return b("React").createElement(b("SUIText.react"),{children:a.children,color:k(a.color,a.palette),"data-testid":h(a["data-testid"]),display:a.display,headingLevel:i(a.size),id:h(a.id),margin:h(a.margin),overflowWrap:a.overflowWrap,palette:a.palette,preserveThemeFromContext:!0,role:a.role,size:j(a.size),textAlign:a.textAlign,theme:c,tooltipPosition:h(a.tooltipPosition),weight:h(a.weight),whiteSpace:h(a.whiteSpace),width:h(a.width)})};return c}(b("React").Component);a.contextType=b("FDSPrivateThemeContext.react");a.defaultProps={color:"primary",display:"inline",overflowWrap:"normal",size:"body2",textAlign:"left"};function h(a){return a===null?void 0:a}function i(a){if(!b("gkx")("1004256"))return;switch(a){case"header1":return 1;case"header2":return 2;case"header3":return 3;case"header4":return 4;default:return null}}function j(a){switch(a){case"title":return"headline";case"body":return"regular";case"dataDisplay":return"display";default:return a}}function k(a,b){switch(a){case"highlight":return"interactive";case"white":case"disabled":case"placeholder":return a;case"secondary":return b==="dark"?a:"primary";default:return"primary"}}e.exports=b("makeFDSStandardComponent")("FDSText",a)}),null);
__d("makeSUIFDSPrivateTheme",["SUITheme"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return new(b("SUITheme"))({id:a,components:c})}e.exports=a}),null);
__d("FDSSpinner.react",["cx","FDSText.react","React","SUISpinner.react","SUISpinnerUniform.fds","cxMargin","joinClasses","makeFDSStandardComponent","makeSUIFDSPrivateTheme"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={maxWidth:"100%"},i=1.25,j=b("makeSUIFDSPrivateTheme")("FDSSpinner",{SUISpinner:b("SUISpinnerUniform.fds")});a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){return this.props.center===void 0?Boolean(this.props.title):this.props.center};d.render=function(){__p&&__p();var a=this.props,c=a.shade==="light"?"dark":"light",d=Boolean(a.title),e=this.$1();if(!d&&!e)return b("React").createElement(b("SUISpinner.react"),{animationDuration:750,arcSpread:i,background:c,"data-testid":a["data-testid"],margin:a.margin,size:a.size,style:a.style,theme:j});var f=null;if(d){d=c==="dark"?["white","primary"]:["primary","secondary"];var g=d[0];d=d[1];f=b("React").createElement("div",{style:h},b("React").createElement(b("FDSText.react"),{color:g,display:"truncate",margin:"_3-8y",palette:c,size:"header4",textAlign:"center",weight:"bold",whiteSpace:"nowrap"},a.title),a.subtitle!==null&&a.subtitle!==void 0&&b("React").createElement(b("FDSText.react"),{color:d,display:"truncate",margin:"_3-8w",palette:c,size:"body2",textAlign:"center",whiteSpace:"nowrap"},a.subtitle))}return b("React").createElement("div",{className:b("joinClasses")("_15v0"+(a.shade==="light"?" _316b":"")+(e?" _15v1":""),a.margin),"data-testid":a["data-testid"],style:a.style},b("React").createElement(b("SUISpinner.react"),{animationDuration:750,arcSpread:i,background:c,size:a.size,theme:j}),f)};return c}(b("React").PureComponent);a.defaultProps={shade:"dark",size:"large"};e.exports=b("makeFDSStandardComponent")("FDSSpinner",a)}),null);
__d("FDSSection.react",["cx","React","SUIErrorBoundary.react","makeFDSStandardComponent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_2xaj"+(this.props.hasPadding?" _2xak":""),"data-testid":this.props["data-testid"]},b("React").createElement(b("SUIErrorBoundary.react"),{componentName:"FDSSection"},this.props.children))};return c}(b("React").Component);a.defaultProps={hasPadding:!0};e.exports=b("makeFDSStandardComponent")("FDSSection",a)}),null);
__d("ReactAbstractContextualDialog",["ContextualDialog","ContextualDialogArrow","ContextualDialogKeepInViewport","LayerAutoFocus","LayerHideOnBlur","LayerHideOnEscape","LayerRefocusOnHide","React","ReactDOM"],(function(a,b,c,d,e,f){__p&&__p();var g=b("React").PropTypes;a={createSpec:function(a){__p&&__p();return{displayName:a.displayName,propTypes:{position:g.oneOf(["above","below","left","right"]),alignment:g.oneOf(["left","center","right"]),offsetX:g.number,offsetY:g.number,width:g.number,autoFocus:g.bool,focusContextOnHide:g.bool,arrowBehavior:g.func,behaviors:g.object,shown:g.bool,context:g.object,contextRef:g.func,dialogRole:g.oneOf(["dialog","region","alert"]),hoverContext:g.object,hoverContextRef:g.func,hoverShowDelay:g.number,hoverHideDelay:g.number,hideOnBlur:g.bool,hideOnEscape:g.bool,insertParent:g.object,keepInViewport:g.bool,label:g.node,labelledBy:g.string,onBeforeHide:g.func,onToggle:g.func,hasActionableContext:g.bool,"data-testid":g.string},immutableProps:{modal:null},createLayer:function(c){__p&&__p();var d=this.props.context||b("ReactDOM").findDOMNode(this.props.contextRef()),e=this.props.hoverContext||this.props.hoverContextRef&&b("ReactDOM").findDOMNode(this.props.hoverContextRef());this.isHoverContextSet=e!=null;e=babelHelpers["extends"]({context:d,hoverContext:e,hoverShowDelay:this.props.hoverShowDelay,hoverHideDelay:this.props.hoverHideDelay,position:this.props.position,alignment:this.props.alignment,offsetX:this.props.offsetX,offsetY:this.props.offsetY,width:this.props.width,dialogRole:this.props.dialogRole,label:this.props.label,labelledBy:this.props.labelledBy,shouldSetARIAProperties:!this.props.hasActionableContext,arrowBehavior:this.props.arrowBehavior||b("ContextualDialogArrow"),addedBehaviors:this.enumerateBehaviors(this.props.behaviors),"data-testid":this.props["data-testid"]},a||{});e=new(b("ContextualDialog"))(e,c);this.props.contextBounds&&e.setContextWithBounds(d,this.props.contextBounds);this.props.autoFocus!==!1&&e.enableBehavior(b("LayerAutoFocus"));this.props.hideOnBlur===!0&&e.enableBehavior(b("LayerHideOnBlur"));this.props.hideOnEscape===!0&&e.enableBehavior(b("LayerHideOnEscape"));this.props.focusContextOnHide===!1&&e.disableBehavior(b("LayerRefocusOnHide"));this.props.keepInViewport===!1&&e.disableBehavior(b("ContextualDialogKeepInViewport"));this.props.onBeforeHide&&e.subscribe("beforehide",this.props.onBeforeHide);this.props.insertParent&&e.setInsertParent(this.props.insertParent);e.conditionShow(this.props.shown);return e},receiveProps:function(a,c){this.updateBehaviors(c.behaviors,a.behaviors);var d=a.context||a.contextRef&&b("ReactDOM").findDOMNode(a.contextRef());d&&(a.contextBounds?this.layer.setContextWithBounds(d,a.contextBounds):this.layer.setContext(d));c.hideOnEscape!==a.hideOnEscape&&(a.hideOnEscape?this.layer.enableBehavior(b("LayerHideOnEscape")):this.layer.disableBehavior(b("LayerHideOnEscape")));this.layer.setPosition(a.position).setAlignment(a.alignment).setOffsetX(a.offsetX).setOffsetY(a.offsetY).setWidth(a.width);(!this.isHoverContextSet||a.shown!==void 0)&&this.layer.conditionShow(a.shown)}}}};e.exports=a}),null);
__d("AbstractBadge.react",["cx","invariant","React","formatNumber","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").PropTypes;function i(a){return parseInt(a,10)===a}c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.count,d=a.maxcount,e=a.label;a=babelHelpers.objectWithoutPropertiesLoose(a,["count","maxcount","label"]);i(c)||h(0,186);i(d)||h(0,187);var f="_51lp"+(c>d?" _51lr":"")+(!this.props.allowZero&&c===0?" hidden_elem":"");e=e?b("React").createElement("span",{className:"accessible_elem","aria-hidden":c?"false":"true"},"\xa0",e):null;c=b("formatNumber").withMaxLimit(c,d);e!==null&&(c=b("React").createElement("span",{"aria-hidden":"true"},c));return b("React").createElement("span",babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.className,f)}),c,e)};return c}(b("React").PureComponent);c.propTypes={className:a.string,count:a.number.isRequired,maxcount:a.number,label:a.string};c.defaultProps={maxcount:20};e.exports=c}),null);
__d("XUIBadge.react",["cx","AbstractBadge.react","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.type;a="_5ugh"+(a==="regular"?" _5ugf":"")+(a==="special"?" _5ugg":"");return b("React").createElement(b("AbstractBadge.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,a),type:null}))};return c}(b("React").Component);c.propTypes={type:a.oneOf(["regular","special"]),allowZero:a.bool};c.defaultProps={type:"regular"};e.exports=c}),null);
__d("XUIAmbientNUXBody.react",["cx","React","XUICloseButton.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("joinClasses")("_21es",this.props.className,this.props.noCloseButton?"_izg":null),c=this.props.noCloseButton?null:b("React").createElement(b("XUICloseButton.react"),{"data-testid":"remove_NUX",shade:"light",className:"layer_close_elem _36gl",onClick:this.props.onCloseButtonClick,onFocus:this.props.onFocus});return b("React").createElement("div",{className:a},c,b("React").createElement("div",{className:"__xn"},this.props.children))};return c}(b("React").Component);a.defaultProps={noCloseButton:!1};e.exports=a}),null);
__d("XUIAmbientNUX.react",["fbt","React","ReactAbstractContextualDialog","ReactLayer","XUIAmbientNUXBody.react","XUIAmbientNUXDarkTheme","XUIAmbientNUXTheme","uniqueID"],(function(a,b,c,d,e,f,g){__p&&__p();var h=300,i=380,j=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({displayName:"XUIAmbientNUX",theme:b("XUIAmbientNUXTheme")})),k=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({displayName:"XUIAmbientNUX",theme:b("XUIAmbientNUXDarkTheme")}));a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=b("uniqueID")(),d.$2=b("uniqueID")(),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(){switch(this.props.width){case"wide":return i;case"custom":return this.props.customwidth;case"auto":return null;default:return h}};d.$4=function(){return g._("T\u00ecm hi\u1ec3u v\u1ec1 t\u00ednh n\u0103ng m\u1edbi n\u00e0y")};d.render=function(){var a=this.props.labelledBy,c=null,d=null;a||(c=b("React").createElement("div",{"aria-label":this.props.label||this.$4(),id:this.$2,key:this.$2}),a=this.$2);var e=g._("\u0110\u00f3ng");d=b("React").createElement("a",{className:"layer_close_elem accessible_elem",href:"#",id:this.$1,key:this.$1,"aria-label":e,"aria-labelledby":this.$1+" "+a,role:"button"});e=this.props.useDarkMode?k:j;return b("React").createElement(e,{alignment:this.props.alignment,autoFocus:!1,behaviors:this.props.behaviors,context:this.props.context,contextRef:this.props.contextRef,dialogRole:"region",focusContextOnHide:!1,hasActionableContext:this.props.hasActionableContext,hideOnBlur:this.props.hideOnBlur,insertParent:this.props.insertParent,labelledBy:a,offsetX:this.props.offsetX,offsetY:this.props.offsetY,onBeforeHide:this.props.onBeforeHide,position:this.props.position,shown:this.props.shown,width:this.$3()},b("React").createElement(b("XUIAmbientNUXBody.react"),{className:this.props.className,noCloseButton:this.props.noCloseButton,onCloseButtonClick:this.props.onCloseButtonClick,onFocus:this.props.onFocus},this.props.children,c,this.props.noCloseButton?d:null))};return c}(b("React").Component);a.defaultProps={hasActionableContext:!1,hideOnBlur:!1,noCloseButton:!1,shown:!1,useDarkMode:!1,width:"normal"};e.exports=a}),null);
__d("XUIContextualDialogBody.react",["React"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:this.props.className},this.props.children)};return c}(b("React").Component);e.exports=a}),null);
__d("XUIContextualDialogFooter.react",["cx","React","XUIOverlayFooter.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("XUIOverlayFooter.react"),{className:b("joinClasses")(this.props.className,"_572u")},this.props.children)};return c}(b("React").Component);e.exports=a}),null);
__d("XUIContextualDialogTitle.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.use;a=b("joinClasses")("_47lu"+(a==="primary"?" _47lv":"")+(a==="secondary"?" _47mc":""),this.props.className);return b("React").createElement("h3",{className:a,id:this.props.id},this.props.children)};return c}(b("React").Component);a.defaultProps={use:"primary"};e.exports=a}),null);
__d("XUIContextualDialog.react",["cx","fbt","ContextualDialogXUITheme","React","ReactAbstractContextualDialog","ReactLayer","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIContextualDialogTitle.react","joinClasses","uniqueID"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({displayName:"ReactXUIContextualDialog",theme:b("ContextualDialogXUITheme")}));a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.updatePosition=function(){var a=c.refs.dialog;a&&a.layer.updatePosition()};c.$1=c.$1||b("uniqueID")();return c}var d=c.prototype;d.$2=function(){return this.$3(b("XUIContextualDialogBody.react"))};d.$4=function(){return this.$3(b("XUIContextualDialogTitle.react"))};d.$5=function(){return this.$3(b("XUIContextualDialogFooter.react"))};d.$3=function(a){var c=null;b("React").Children.forEach(this.props.children,function(b){!c&&b&&b.type===a&&(c=b)});return c};d.$6=function(){return h._("N\u1ed9i dung h\u1ed9p tho\u1ea1i")};d.render=function(){var a=this.props.children,c=this.$2(),d=this.$4(),e={};this.props.labelledBy?e.labelledBy=this.props.labelledBy:this.props.label?e.label=this.props.label:d?(d=b("React").cloneElement(d,{id:this.$1}),e.labelledBy=this.$1):e.label=this.$6();c&&(a=b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_53iv")},d,c));return b("React").createElement(i,babelHelpers["extends"]({},this.props,e,{ref:"dialog"}),a,c?this.$5():null)};return c}(b("React").Component);a.WIDTH={NORMAL:312,WIDE:400};a.defaultProps={dialogRole:"dialog",hasActionableContext:!1,hideOnEscape:!0};e.exports=a}),null);
__d("XUIDialogCancelButton.react",["fbt","React","XUIDialogButton.react"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("XUIDialogButton.react"),babelHelpers["extends"]({},this.props,{action:"cancel",label:g._("H\u1ee7y")}))};return c}(b("React").Component);e.exports=a}),null);
__d("SimpleXUIDialog",["cx","DialogX","LayerAutoFocusReact","LayerDestroyOnHide","LayerFadeOnHide","LayerFadeOnShow","LayerHideOnBlur","LayerHideOnEscape","LayerRefocusOnHide","React","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","joinClasses","uniqueID"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=445;a={show:function(a,c,d,e){var f=b("React").createElement(b("XUIDialogOkayButton.react"),{action:"cancel",use:"confirm"});return this.showEx(a,c,f,d,e)},showConfirm:function(a,c,d,e){var f=!1,g=b("React").createElement(b("XUIDialogOkayButton.react"),{action:"cancel",className:e&&e.autofocusConfirm?"autofocus":"",use:"confirm",onClick:function(){f=!0}});e&&e.confirmBtnTxt&&(g=b("React").createElement(b("XUIDialogButton.react"),{className:b("joinClasses")(e&&e.autofocusConfirm?"autofocus":"","_2z1w"),action:"cancel",use:"confirm",label:e.confirmBtnTxt,onClick:function(){f=!0}}));g=b("React").createElement("div",null,b("React").createElement(b("XUIDialogCancelButton.react"),{onClick:function(){f=!1}}),g);function h(){d&&d(f)}return this.showEx(a,c,g,h,e)},showEx:function(a,c,d,e,f){__p&&__p();f=f||{};var g=[b("LayerDestroyOnHide"),b("LayerFadeOnShow"),b("LayerFadeOnHide"),b("LayerHideOnEscape"),b("LayerRefocusOnHide")];f.hideOnBlur!==!1&&g.push(b("LayerHideOnBlur"));f.useReactFocusBehavior&&g.push(b("LayerAutoFocusReact"));g={width:f.width||h,xui:!0,addedBehaviors:g,causalElement:f.causalElement};if(c){var i=b("uniqueID")();g.titleID=i;c=b("React").createElement(b("XUIDialogTitle.react"),{showCloseButton:f.showCloseButton!==!1,id:i},c)}d&&(d=b("React").createElement(b("XUIDialogFooter.react"),{"data-testid":"simple_xui_dialog_footer",leftContent:f.leftContent},d));i=b("React").createElement("div",null,c,b("React").createElement(b("XUIDialogBody.react"),null,a),d);f=new(b("DialogX"))(g,i);e&&f.subscribe("hide",e);f.show();return f}};e.exports=a}),null);
__d("Dock",["csx","ArbiterMixin","BlueBar","ChatQuietLinks","CSS","DataStore","DOM","Event","Parent","Scroll","Style","Toggler","Vector","emptyFunction","gkx","isKeyActivation","shield"],(function(a,b,c,d,e,f,g){__p&&__p();function c(){}Object.assign(c,b("ArbiterMixin"),{MIN_HEIGHT:140,INITIAL_FLYOUT_HEIGHT_OFFSET:10,init:function(a){__p&&__p();this.init=b("emptyFunction");this.rootEl=a;this.calculateViewportDimensions();b("ChatQuietLinks").removeEmptyHrefs(this.rootEl);b("Event").listen(a,"click",this._onClick.bind(this));var c=a.querySelector(".fbNubButton");c&&b("Event").listen(c,"keypress",this._onKeyPress.bind(this));b("Event").listen(window,"resize",this._onWindowResize.bind(this));b("Toggler").subscribe(["show","hide"],function(c,d){d=d.getActive();if(!b("DOM").contains(a,d))return;if(b("CSS").hasClass(d,"fbNub"))this.notifyNub(d,c),c==="show"&&this._resizeNubFlyout(d);else{d=b("Parent").byClass(d,"fbNubFlyout");d&&b("CSS").conditionClass(d,"menuOpened",c==="show")}}.bind(this));this.inform("init",{},"persistent")},calculateViewportDimensions:function(){return this.viewportDimensions=b("Vector").getViewportDimensions()},getFlyoutHeightOffset:function(){if(this.flyoutHeightOffset)return this.flyoutHeightOffset;this.flyoutHeightOffset=this.INITIAL_FLYOUT_HEIGHT_OFFSET+b("Vector").getElementDimensions(this.rootEl).y;var a=b("BlueBar").getBar();if(a){var c=b("Style").isFixed(a)?"viewport":"document";this.flyoutHeightOffset+=b("Vector").getElementPosition(a,c).y+b("Vector").getElementDimensions(a).y}return this.flyoutHeightOffset},toggle:function(a){var c=this._findFlyout(a);if(!c)return;this.subscribe("init",function(){b("Toggler").toggle(a)})},show:function(a){this.subscribe("init",function(){b("Toggler").show(a)})},showNub:function(a){b("CSS").show(a)},hide:function(a){this.subscribe("init",function(){var c=b("Toggler").getInstance(a);b("DOM").contains(a,c.getActive())&&c.hide()})},hideNub:function(a){b("CSS").hide(a),this.hide(a)},setUseMaxHeight:function(a,c){b("CSS").conditionClass(a,"maxHeight",c!==!1),this._resizeNubFlyout(a)},_resizeNubFlyout:function(a){__p&&__p();var c=this._findFlyout(a);if(!c||b("CSS").hasClass(a,"placeholder")||!(b("CSS").hasClass(a,"openToggler")||b("CSS").hasClass(a,"opened")))return;var d=b("DOM").find(c,"div.fbNubFlyoutOuter"),e=b("DOM").find(d,"div.fbNubFlyoutInner"),f=b("DOM").find(e,"div.fbNubFlyoutBody"),g=b("CSS").hasClass(a,"canBeCompactTab"),h=b("Scroll").getTop(f),i=f.offsetHeight;b("Style").set(f,"height","auto");var j=b("Vector").getElementDimensions(c),k=b("Vector").getElementDimensions(f),l=this.getMaxFlyoutHeight(a);b("Style").set(c,"max-height",l+"px");b("Style").set(d,"max-height",l+"px");j=b("Vector").getElementDimensions(c);d=b("Vector").getElementDimensions(e);l=d.y-k.y;e=j.y-l;d=parseInt(f.style.height||f.clientHeight,10);d=e!==d;j.y>l&&d&&!g&&b("Style").set(f,"height",e+"px");b("CSS").removeClass(c,"swapDirection");var m=b("Vector").getElementPosition(c).x;b("CSS").conditionClass(c,"swapDirection",function(){if(m<0)return!0;return!j||!this.viewportDimensions?!1:m+j.x>this.viewportDimensions.x}.bind(this)());d&&h+i>=k.y?b("Scroll").setTop(f,f.scrollHeight):b("Scroll").setTop(f,h);this.notifyNub(a,"resize")},getMaxFlyoutHeight:function(a){a=this._findFlyout(a);var c=b("Vector").getElementPosition(a,"viewport");a=b("Vector").getElementDimensions(a);if(!this.viewportDimensions||!c)return 0;c=Math.max(this.MIN_HEIGHT,this.viewportDimensions.y-this.getFlyoutHeightOffset())-(this.viewportDimensions.y-c.y-a.y);return Math.max(c,0)},resizeAllFlyouts:function(){var a=this._getAllNubs(),b=a.length;while(b--)this._resizeNubFlyout(a[b])},_getAllNubs:function(){if(!this.rootEl)return[];var a=b("DOM").scry(this.rootEl,"div._50-v.openToggler:not(._s0f)");return a.concat(b("DOM").scry(this.rootEl,"div._50-v.opened:not(._s0f)"))},_onKeyPress:function(a){var c=a.getTarget();c=b("Parent").byClass(c,"fbNub");b("isKeyActivation")(a)&&c&&this.toggle(c)},_onClick:function(a){__p&&__p();a=a.getTarget();var c=b("Parent").byClass(a,"fbNub");if(c){if(b("Parent").byClass(a,"fbNubFlyoutTitlebar")){var d=b("Parent").byTag(a,"a");a=a.nodeName=="INPUT"&&a.getAttribute("type")=="submit";if(!d&&!a){this.hide(c);return!1}}this.notifyNub(c,"click")}},_onWindowResize:function(a){this.calculateViewportDimensions(),this.resizeAllFlyouts()},_findFlyout:function(a){return b("CSS").hasClass(a,"fbNubFlyout")?a:b("DOM").scry(a,"div.fbNubFlyout")[0]||null},registerNubController:function(a,c){b("DataStore").set(a,"dock:nub:controller",c),c.subscribe("nub/button/content-changed",b("shield")(this.inform,this,"resize",a)),c.subscribe("nub/flyout/content-changed",b("shield")(this._resizeNubFlyout,this,a))},unregisterNubController:function(a){b("DataStore").remove(a,"dock:nub:controller")},notifyNub:function(a,c,d){a=b("DataStore").get(a,"dock:nub:controller");a&&a.inform(c,d)}});e.exports=a.Dock||c}),null);
__d("DockTabsViewportFantaTabUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();f=9;var g=284,h=g+f;function a(){return h+1}function b(a){return Math.floor(a/h)}function c(a){if(!a)return null;a=a.fantaTabModelStateGetter;return a?a():null}function d(a){return a?a.size:0}e.exports={getTabCountToFitWidth:b,getMinRequiredWidthForFirstFantaTab:a,getFantaTabModelFromCallbacks:c,getNumFantaTabsFromModel:d}}),null);
__d("DockTabsViewportPinnedConversationTabUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=496+9+2,h=210+9+2,i=52;function j(){return g}function k(){return h}function a(){return i}function b(a){return a.getIsRaised()?j():k()}function c(){return j()+i}function d(a){a=a||{};a=a.pinnedConvoTabStateGetter;return a?a():null}function f(a){return a?a.getTotalTabCount():0}e.exports={getRaisedPinnedConvoTabWidth:j,getLoweredPinnedConvoTabWidth:k,getPinnedConvoSelectorWidth:a,getPinnedConvoTabWidth:b,getMinRequiredWidthForFirstConvoTab:c,getPinnedConvoTabsStateFromCallbacks:d,getNumPinnedConvoTabsFromModel:f}}),null);
__d("DockTabsViewportCalculator",["csx","Arbiter","DataStore","Dock","DockTabsViewportFantaTabUtils","DockTabsViewportPinnedConversationTabUtils","DOM","Event","FullScreen","SubscriptionsHandler","Vector","ViewportBounds","ge","getViewportDimensions","setImmediate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=50;a=35;var i=a,j="dock-tab-viewport-inst",k=b("DockTabsViewportFantaTabUtils").getMinRequiredWidthForFirstFantaTab,l=b("DockTabsViewportFantaTabUtils").getFantaTabModelFromCallbacks,m=b("DockTabsViewportFantaTabUtils").getNumFantaTabsFromModel,n=b("DockTabsViewportPinnedConversationTabUtils").getMinRequiredWidthForFirstConvoTab,o=b("DockTabsViewportPinnedConversationTabUtils").getNumPinnedConvoTabsFromModel,p=b("DockTabsViewportPinnedConversationTabUtils").getPinnedConvoTabsStateFromCallbacks;function q(a){return a?b("Vector").getElementDimensions(a).x:0}var r=function(){__p&&__p();function a(a){this.$1=a,this.$3=0,this.$4=0,this.$5=null,this.$6=null,this.$7=!1,this.$8=!1,this.$9=!1,this.$2=new(b("SubscriptionsHandler"))(),this.$10(),this.$11()}var c=a.prototype;c.$10=function(){var a=this,c=this.$12.bind(this);this.$2.addSubscriptions(b("Event").listen(window,"resize",c),b("Dock").subscribe("resize",c),b("Arbiter").subscribeOnce("sidebar/initialized",c,"new"),b("FullScreen").subscribe("changed",function(){b("FullScreen").isFullScreen()?(a.$7=!0,a.$8=!1):(a.$7=!1,a.$8&&(b("setImmediate")(function(){c()}),a.$8=!1))}))};c.registerFantaTabCallbacks=function(a){this.$5=a};c.registerPinnedConvoTabCallbacks=function(a){this.$6=a};c.forceRecalculateFBDockWidth=function(){this.$11(),this.$13({forceRecalculateChatTabs:!1,pinnedConvoUpdateData:null})};c.forceRecalculateChatTabs=function(){this.$13({forceRecalculateChatTabs:!0,pinnedConvoUpdateData:null})};c.forceRecalculatePinnedConvoTabs=function(a){this.$13({forceRecalculateChatTabs:!0,pinnedConvoUpdateData:a})};c.$12=function(){if(b("FullScreen").isFullScreen()||this.$7){this.$8=!0;return}this.forceRecalculateFBDockWidth()};c.$13=function(a){var b=a.forceRecalculateChatTabs;a=a.pinnedConvoUpdateData;var c=this.$14(),d=c.chatTabAvailableWidth;c=c.pinnedConvoTabAvailableWidth;this.$15(d,!!b);this.$16(c,a)};c.$16=function(a,b){var c=this.$6||{};c=c.onAvailableWidthChanged;c&&c(a,b)};c.$15=function(a,b){b=this.$5||{};b=b.onAvailableWidthChanged;b&&b(a)};c.$17=function(){var a=l(this.$5);return m(a)};c.$18=function(){return k()};c.$14=function(){__p&&__p();var a=this.$3,b={chatTabAvailableWidth:a,pinnedConvoTabAvailableWidth:0},c={chatTabAvailableWidth:0,pinnedConvoTabAvailableWidth:a},d=this.$17(),e=p(this.$6),f=o(e);if(!e||f===0)return b;else if(d===0)return c;e=this.$18();if(a<=e)return b;f=n();d=a-e;if(d<f)return b;else c=f;d=c;b=Math.max(e,a-c);return{chatTabAvailableWidth:b,pinnedConvoTabAvailableWidth:d}};c.$11=function(){this.$3=this.$19(),this.$20("DockTabsViewportCalculator/recalcTotalDock_FOR_TEST_ONLY")};c.$21=function(){var a=this.$1;if(!a)return{buddyListNubWidth:0,employeeNubsWidth:0};var c=q(a),d=q(b("DOM").find(a,"._56ox")),e=q(b("DOM").scry(a,"._56oy")[0]);a=q(b("DOM").scry(a,"._ph1")[0]);c=Math.max(c-d-e-a,0);return{buddyListNubWidth:d,employeeNubsWidth:c}};c.$19=function(){__p&&__p();var a=b("getViewportDimensions").withoutScrollbars().width;a-=b("ViewportBounds").getLeft()+b("ViewportBounds").getRight();a-=h;var c=this.$21(),d=c.buddyListNubWidth;c=c.employeeNubsWidth;a-=d;this.$4=Math.max(this.$4,c);a-=this.$4;a-=i;return Math.max(a,0)};c.enableTestInforms_FOR_TEST_ONLY=function(){this.$9=!0};c.$20=function(a){this.$9&&b("Arbiter").inform(a)};c.getChatTabAvailableDockWidth_FOR_TEST_ONLY=function(){return this.$14().chatTabAvailableWidth};c.getPinnedConvoTabAvailableDockWidth_FOR_TEST_ONLY=function(){return this.$14().pinnedConvoTabAvailableWidth};c.getAvailableTotalWidth_FOR_TEST_ONLY=function(){return this.$3};return a}();e.exports={getInstance:function(a){__p&&__p();var c=b("ge")("pagelet_dock");if(!c||!b("DOM").contains(c,a))return null;a=b("DataStore").get(c,j);if(a instanceof r)return a;var d=b("DOM").scry(c,".fbDockWrapperRight .fbDock")[0];a=new r(d);b("DataStore").set(c,j,a);return a}}}),null);
__d("DraftEffectsPerSite",["fbt","Bootloader"],(function(a,b,c,d,e,f,g){"use strict";a={handleExtensionCausedError:function(){b("Bootloader").loadModules(["SimpleXUIDialog"],function(a){a.show(g._("T\u00ednh n\u0103ng nh\u1eadp v\u0103n b\u1ea3n kh\u00f4ng th\u1ec3 ho\u1ea1t \u0111\u1ed9ng \u0111\u00fang c\u00e1ch do b\u1ea1n \u0111\u00e3 c\u00e0i \u0111\u1eb7t m\u1ed9t ti\u1ec7n \u00edch t\u00edch h\u1ee3p tr\u00ean tr\u00ecnh duy\u1ec7t web c\u1ee7a m\u00ecnh. Vui l\u00f2ng v\u00f4 hi\u1ec7u h\u00f3a m\u1ecdi ti\u1ec7n \u00edch t\u00edch h\u1ee3p v\u00e0 t\u1ea3i l\u1ea1i trang."),g._("Gi\u1edbi h\u1ea1n ch\u1ec9nh s\u1eeda v\u0103n b\u1ea3n"),null,{width:600})},"DraftEffectsPerSite")}};e.exports=a}),null);
__d("DragDropFileUpload",[],(function(a,b,c,d,e,f){f.isSupported=function(){return typeof FileList!=="undefined"}}),null);
__d("DocumentDragDrop",["Arbiter","CSS","DOMQuery","DragDropFileUpload","Event","emptyFunction","getObjectValues","getOrCreateDOMID"],(function(a,b,c,d,e,f){__p&&__p();var g={},h=0;function i(){h=0,b("getObjectValues")(g).forEach(function(a){b("CSS").removeClass(a.element,a.className),b("Arbiter").inform("dragleave",{element:a.element})})}var j=null;function k(){j&&clearTimeout(j),j=setTimeout(function(){i()},500)}var l=function(){__p&&__p();if(!b("DragDropFileUpload").isSupported())return;b("Event").listen(document,"dragenter",function(a){h===0&&b("getObjectValues")(g).forEach(function(c){b("CSS").addClass(c.element,c.className),b("Arbiter").inform("dragenter",{element:c.element,event:a})}),h++,k()});b("Event").listen(document,"dragleave",function(a){h--,h===0&&i(),k()});b("Event").listen(document,"drop",function(a){i();var c=a.getTarget();if(b("DOMQuery").isNodeOfType(a.getTarget(),"input")&&c.type==="file")return;a.prevent()});b("Event").listen(document,"dragover",b("Event").prevent);document.addEventListener("dragover",k,!0);l=b("emptyFunction")};a={init:function(){l()},registerStatusElement:function(a,c){l(),g[b("getOrCreateDOMID")(a)]={element:a,className:c},h>0&&b("CSS").addClass(a,c)},removeStatusElement:function(a){a=b("getOrCreateDOMID")(a);var c=g[a];c&&(b("CSS").removeClass(c.element,c.className),delete g[a])}};e.exports=a}),null);
__d("DragDropTarget",["Arbiter","CSS","DataTransfer","DocumentDragDrop","DragDropFileUpload","Event","SubscriptionsHandler","emptyFunction"],(function(a,b,c,d,e,f){__p&&__p();function a(a){this._element=a,this._listeners=new(b("SubscriptionsHandler"))(),this._statusElem=a,this._dragEnterCount=0,this._enabled=!1}Object.assign(a.prototype,{_onFilesDropCallback:b("emptyFunction"),_onURLDropCallback:b("emptyFunction"),_onPlainTextDropCallback:b("emptyFunction"),_onDropCallback:b("emptyFunction"),_fileFilterFn:b("emptyFunction").thatReturnsArgument,setOnDocumentDragEnterCallback:function(a){this._onDocumentDragEnterCallback=a;return this},setOnDocumentDragLeaveCallback:function(a){this._onDocumentDragLeaveCallback=a;return this},setOnDragEnterCallback:function(a){this._onDragEnterCallback=a;return this},setOnDragLeaveCallback:function(a){this._onDragLeaveCallback=a;return this},setOnFilesDropCallback:function(a){this._onFilesDropCallback=a;return this},setOnURLDropCallback:function(a){this._onURLDropCallback=a;return this},setOnPlainTextDropCallback:function(a){this._onPlainTextDropCallback=a;return this},setOnDropCallback:function(a){this._onDropCallback=a;return this},enable:function(){__p&&__p();if(!b("DragDropFileUpload").isSupported())return this;this._listeners.engage();b("DocumentDragDrop").registerStatusElement(this._statusElem,"fbWantsDragDrop");this._listeners.addSubscriptions(b("Event").listen(this._element,"dragenter",this._onDragEnter.bind(this)),b("Event").listen(this._element,"dragleave",this._onDragLeave.bind(this)),b("Event").listen(this._element,"dragover",this._onDragOver.bind(this)),b("Event").listen(this._element,"drop",function(a){__p&&__p();this._dragEnterCount=0;b("CSS").removeClass(this._statusElem,"fbDropReady");b("CSS").removeClass(this._statusElem,"fbDropReadyPhoto");b("CSS").removeClass(this._statusElem,"fbDropReadyPhotos");b("CSS").removeClass(this._statusElem,"fbDropReadyLink");var c=new(b("DataTransfer"))(a.dataTransfer),d={},e=!1,f=this._fileFilterFn(a.dataTransfer.files);f.length&&(this._onFilesDropCallback(f,a),d.files=f,e=!0);f=c.getLink();f&&(this._onURLDropCallback(f,a),d.url=f,e=!0);f=c.getText();f&&(this._onPlainTextDropCallback(f,a),d.plainText=f,e=!0);e&&this._onDropCallback(d,a);a.kill()}.bind(this)));this._listeners.addSubscriptions(b("Arbiter").subscribe("dragenter",this._onDocumentDragEnter.bind(this)),b("Arbiter").subscribe("dragleave",this._onDocumentDragLeave.bind(this)));this._enabled=!0;return this},disable:function(){__p&&__p();if(!this._enabled)return this;b("DocumentDragDrop").removeStatusElement(this._statusElem,"fbWantsDragDrop");b("CSS").removeClass(this._statusElem,"fbDropReady");b("CSS").removeClass(this._statusElem,"fbDropReadyPhoto");b("CSS").removeClass(this._statusElem,"fbDropReadyPhotos");b("CSS").removeClass(this._statusElem,"fbDropReadyLink");this._listeners.release();this._enabled=!1;return this},setFileFilter:function(a){this._fileFilterFn=a;return this},setStatusElement:function(a){this._statusElem=a;return this},_onDragEnter:function(a){if(this._dragEnterCount===0){var c=new(b("DataTransfer"))(a.dataTransfer);b("CSS").addClass(this._statusElem,"fbDropReady");c.isLink()||!c.isImage()?b("CSS").addClass(this._statusElem,"fbDropReadyLink"):c.getCount()>1?b("CSS").addClass(this._statusElem,"fbDropReadyPhotos"):b("CSS").addClass(this._statusElem,"fbDropReadyPhoto");this._onDragEnterCallback&&this._onDragEnterCallback()}this._dragEnterCount++;a.preventDefault()},_onDragLeave:function(a){this._dragEnterCount=Math.max(this._dragEnterCount-1,0),this._dragEnterCount===0&&(b("CSS").removeClass(this._statusElem,"fbDropReady"),b("CSS").removeClass(this._statusElem,"fbDropReadyPhoto"),b("CSS").removeClass(this._statusElem,"fbDropReadyPhotos"),b("CSS").removeClass(this._statusElem,"fbDropReadyLink"),this._onDragLeaveCallback&&this._onDragLeaveCallback())},_onDragOver:function(a){if(!a.dataTransfer){b("Event").kill(a);return}try{var c=a.dataTransfer.effectAllowed;a.dataTransfer.dropEffect=c=="move"||c=="linkMove"?"move":"copy"}catch(a){}b("Event").kill(a)},_onDocumentDragEnter:function(a,b){this._onDocumentDragEnterCallback&&b.element==this._element&&this._onDocumentDragEnterCallback()},_onDocumentDragLeave:function(a,b){this._dragEnterCount=0,this._onDragLeave(a),this._onDocumentDragLeaveCallback&&b.element==this._element&&this._onDocumentDragLeaveCallback()}});e.exports=a}),null);
__d("EventPlanExperiment",["EventRemindersGating","QE2Logger"],(function(a,b,c,d,e,f){"use strict";var g="event_plan_entry_point_nux";a={shouldShowEntryPointNuxWithExposure:function(){b("QE2Logger").logExposureForUser(g);return b("EventRemindersGating").shouldShowEntryPointNux},shouldShowReminderExtension:function(){b("QE2Logger").logExposureForUser("omni_m_experiments_reminders");return b("EventRemindersGating").omniMAlwaysShowReminderExtension}};e.exports=a}),null);
__d("EventReminderRequestHelper",["AsyncRequest","EventReminderActions","XEventReminderController"],(function(a,b,c,d,e,f){"use strict";a={fetchEventReminder:function(a,c,d){var e=b("XEventReminderController").getURIBuilder().setInt("event_reminder_id",c);new(b("AsyncRequest"))(e.getURI()).setHandler(function(e){e.payload&&(b("EventReminderActions").updateEventReminder(a,e.payload,c),d())}).send()}};e.exports=a}),null);
__d("BootloadFBMqttChannel",["Bootloader","MqttChannel"],(function(a,b,c,d,e,f){"use strict";a={init:function(a){b("Bootloader").loadModules(["FBMqttChannel"],function(b){a(b)},"BootloadFBMqttChannel")}};e.exports=a}),null);
__d("FBRTCConstants",["keyMirror"],(function(a,b,c,d,e,f){__p&&__p();a=Object.freeze({OFFER:"offer",ANSWER:"answer",ICE_CANDIDATE:"ice_candidate",OK:"ok",PING:"ping",PING_ACK:"ping_ack",HANGUP:"hang_up",OTHER_DISMISS:"other_dismiss",MSG_ACK:"msg_ack",PRANSWER:"pranswer",ICERESTART_OFFER:"icerestart_offer",ICERESTART_ANSWER:"icerestart_answer",PCRESTART_OFFER:"pcrestart_offer",PCRESTART_ANSWER:"pcrestart_answer",SDP_UPDATE:"sdp_update",OFFER_ACK:"offer_ack",OFFER_NACK:"offer_nack",ANSWER_ACK:"answer_ack",SET_VIDEO:"set_video",VIDEO_REQUEST:"video_request",ACK:"ack",SWITCH_TO_MULTIWAY:"switch_to_multiway",CLIENT_REPORTED_EVENT:"client_reported_event"});c=Object.freeze({CHILD_WINDOW_READY:"rtc_child_window_ready",CHILD_WINDOW_START_CALL:"rtc_child_window_start_call",CHILD_WINDOW_MESSAGE:"rtc_child_window_message"});d=Object.freeze({DIRECT_VIDEO:"direct_video",ESCALATED:"escalated",ESCALATION_DECLINED:"escalation_declined",VOIP:"voip"});f=b("keyMirror")({SCREEN:null,CAMERA:null});var g=Object.freeze({LL_NONE:0,LL_BASIC:1,LL_DEBUG:2,LL_WARNING:3,LL_INFO:4,LL_VERBOSE:5}),h=Object.freeze({AUDIO_ONLY:"audio_only",AUDIO_VIDEO:"audio_video",SCREEN_CONTENT:"screen"}),i=Object.freeze({CUSTOM_VIDEO_STREAM_SIZE:"CUSTOM_VIDEO_STREAM_SIZE",CUSTOM_VIDEO:"CUSTOM_VIDEO",FHD_VIDEO:"FHD_VIDEO",HD_VIDEO:"HD_VIDEO",LQ_VIDEO:"LQ_VIDEO",SD_VIDEO:"SD_VIDEO",HD_IDEAL_LQ_REQUIRED_VIDEO:"HD_IDEAL_LQ_REQUIRED_VIDEO",FHD_IDEAL_LQ_REQUIRED_VIDEO:"FHD_IDEAL_LQ_REQUIRED_VIDEO"}),j=Object.freeze({FHD_HEIGHT:1080,HD_HEIGHT:720,LQ_HEIGHT:180,SD_HEIGHT:480,FHD_WIDTH:1920,HD_WIDTH:1280,LQ_WIDTH:320,SD_WIDTH:848,VLQ_FRAME_RATE:5,LQ_FRAME_RATE:15,FRAME_RATE:30}),k=Object.freeze({UNKNOWN:-1,IGNORE_CALL:0,HANGUP_CALL:1,IN_ANOTHER_CALL:2,ACCEPT_AFTER_HANGUP:3,NO_ANSWER_TIMEOUT:4,INCOMING_TIMEOUT:5,OTHER_INSTANCE_HANDLED:6,SIGNALING_MESSAGE_FAILED:7,CONNECTION_DROPPED:8,CLIENT_INTERRUPTED:9,WEBRTC_ERROR:10,CLIENT_ERROR:11,NO_PERMISSION:12,OTHER_NOT_CAPABLE:13,NO_UI_ERROR:14,UNSUPPORTED_VERSION:15,CALLER_NOT_VISIBLE:16,CARRIER_BLOCKED:17,OTHER_CARRIER_BLOCKED:18,CLIENT_ENCRYPTION_ERROR:19,INACTIVE_TIMEOUT:20}),l=["IgnoreCall","HangupCall","InAnotherCall","CallEndAcceptAfterHangUp","NoAnswerTimeout","IncomingTimeout","OtherInstanceHandled","SignalingMessageFailed","ConnectionDropped","ClientInterrupted","WebRTCError","ClientError","NoPermission","OtherNotCapable","NoUIShown","VersionUnsupported","CallerNotVisible","CarrierBlocked","OtherCarrierBlocked","ClientEncryptionError","InactiveTimeout"],m=Object.freeze({CALL_INITIALIZATION_FAILED:"CollabCallInitializationFailed",CLOSED_AS_STALE:"CollabClosedAsStale",CLOSED_BY_MCU:"CollabClosedByMcu",INVALID_MEETING_ID:"CollabInvalidMeetingId",LOST_MCU_CONNECTION:"CollabLostMcuConnection",LOST_MCU_THRIFT_CONNECTION:"CollabLostMcuThriftConnection",LOST_SIP_ADAPTER_CONNECTION:"CollabLostSipAdapterConnection",MCU_INVALID_STREAM_CONFIGURATION:"CollabMcuInvalidStreamConfiguration",MCU_NO_AUDIO_STREAM:"CollabMcuNoAudioStream",REMOTE_PEER_HANGUP:"CollabRemotePeerHangup",REMOTE_PEER_REJECT:"CollabRemotePeerReject",SIP_CONNECTION_INITIALIZATION_FAILED:"CollabSipConnectionInitializationFailed",AUDIO_ONLY_DISALLOWED:"CollabAudioOnlyDisallowed",UNKNOWN:"CollabUnknown"}),n=Object.freeze({TOGGLE_SELF_VIEW:5,SUBMIT_STAR_RATING:6,SUBMIT_FEEDBACK:7,START_CALL:9,OPEN_SCREEN_IN_NEW:10}),o=Object.freeze({ONE_HOUR:"1hour",UNTIL_EIGHT_AM:"8am",ALWAYS:"always"});b=b("keyMirror")({AUDIO:null,VIDEO:null});var p=Object.freeze({CUSTOM:"custom",MULTIWAY:"multiway",P2P:"p2p"}),q=Object.freeze({DOMINANT_SPEAKER:"DOMINANT_SPEAKER",GRID:"GRID"}),r=Object.freeze({LANDSCAPE:"LANDSCAPE",PORTRAIT:"PORTRAIT"}),s=Object.freeze({UNKNOWN:0,MEDIA_CONNECTED:1});o={CallBlockingConstants:o,CallEndReason:k,CallType:d,ChildWindowMessageType:c,CollabCallEndSubreason:m,GroupVideoViewLayout:q,IncomingCallDialogTypes:b,Orientation:r,PayloadType:a,RTCConstraints:j,SignalingProtocol:p,StreamType:h,UIEventType:n,UploadLogLevel:g,VideoQuality:i,MediaContentTypes:f,ClientReportedEventType:s,convertFromUploadLogLevel:function(a){switch(a){case g.LL_DEBUG:return"d";case g.LL_BASIC:return"b";case g.LL_WARNING:return"w";case g.LL_INFO:return"i";case g.LL_VERBOSE:return"v";case g.LL_NONE:default:return null}},convertToUploadLogLevel:function(a){switch(a){case"d":return g.LL_DEBUG;case"b":return g.LL_BASIC;case"w":return g.LL_WARNING;case"i":return g.LL_INFO;case"v":return g.LL_VERBOSE;default:return g.LL_NONE}},uploadLogLevelString:function(a){switch(a){case g.LL_BASIC:return"basic";case g.LL_DEBUG:return"debug";case g.LL_WARNING:return"warning";case g.LL_INFO:return"info";case g.LL_VERBOSE:return"verbose";default:return""}},endCallReasonFromString:function(a){return l.indexOf(a)},callEndReasonString:function(a){a=l[a];return!a?"Unknown":a},fullCallEndReasonString:function(a,b){return this.callEndReasonString(a)+"_"+(b?"remote":"local")}};e.exports=o}),null);
__d("FBRTCExperiment",["FBRTCExperimentsConfig","QE2Logger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();a.gen=function(c){var d={params:{},auto_exposure:!1,in_experiment:!1};d=b("FBRTCExperimentsConfig")[c]||d;c=new a(c,d);return c};a.getIncomingCallExperiments=function(){return a.gen("rtweb_incoming_call_experiments")};a.getMediaQualityExperiments=function(){return a.gen("rtc_www_media_quality_h2_2018")};a.getScotchExperiment=function(){return a.gen("rtc_www_scotch")};a.getMWSignalingExperiment=function(){return a.gen("rtweb_mw_mqtt")};function a(a,b){this.$1=a,this.$2=b}var c=a.prototype;c.$3=function(){this.$2.auto_exposure&&this.logExposure()};c.logExposure=function(){this.$2.in_experiment&&b("QE2Logger").logExposureForUser(this.$1)};c.getParam=function(a,b){if(this.$2.in_experiment){this.$3();a=this.$2.params[a];if(a!==void 0)return String(a)}return b};c.getInt=function(a,b){if(this.$2.in_experiment){this.$3();if(this.$2.params[a]!==void 0)return parseInt(this.$2.params[a],10)}return b};c.getBool=function(a,b,c){c===void 0&&(c=!0);var d=this.$2.params;if(this.$2.in_experiment){c&&this.$3();if(d[a]!==void 0)return d[a]==="1"||d[a]===1||d[a]==="true"||d[a]===!0}return b};return a}();e.exports=a}),null);
__d("FBRTCIceStatsParser",[],(function(a,b,c,d,e,f){__p&&__p();var g=null;a=function(){"use strict";__p&&__p();function a(){}a.getInstance=function(){g||(g=new a());return g};var b=a.prototype;b.extractIceInfo=function(a){var b=[];a=a.split("\r\n");for(var c=0;c<a.length;c++){var d=a[c];this.$1(d)&&b.push({gen:this.$2(d),type:this.$3(d)})}return b};b.$1=function(a){return a.indexOf("candidate:")>-1};b.$2=function(a){var b=0;a=a.match(/generation (\d+)/);a&&(b=parseInt(a[1],10));return b};b.$3=function(a){a=a.match(/typ (host|relay|srflx|prflx)/);if(a)return a[1];else return"unknown"};return a}();e.exports=a}),null);
__d("FBRTCLocalUploadLogLevel",["CurrentUser","FBRTCConstants"],(function(a,b,c,d,e,f){"use strict";var g=b("FBRTCConstants").UploadLogLevel,h={getUploadLogLevel:function(a){return Math.max(h.getLocalUploadLogLevel(),a)},getLocalUploadLogLevel:function(){return b("CurrentUser").isEmployee()?g.LL_DEBUG:g.LL_NONE}};e.exports=h}),null);
__d("FBRTCConsoleLogger",["nullthrows","requireCond","Log","LogHistory","cr:1112656"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null;a=function(){__p&&__p();a.getInstance=function(){g||(g=new a());return g};function a(){this.$1=b("LogHistory").getInstance(a.MODULE_NAME)}var c=a.prototype;c.getLogHistory=function(){return this.$1};c.log=function(a,b,c,d,e){d===void 0&&(d="Console");e===void 0&&(e="DEBUG");e=" "+JSON.stringify({conferenceName:b,callID:c});this.$1.log(d||"Console",a+e);return this};return a}();a.MODULE_NAME="webrtc";e.exports=a}),null);
__d("P2PReliabilityTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:P2PReliabilityLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:P2PReliabilityLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:P2PReliabilityLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppBuildNumber=function(a){this.$1.app_build_number=a;return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setAppVersion=function(a){this.$1.app_version=a;return this};c.setCallID=function(a){this.$1.call_id=a;return this};c.setClientStackInfo=function(a){this.$1.client_stack_info=a;return this};c.setDeviceID=function(a){this.$1.device_id=a;return this};c.setEventName=function(a){this.$1.event_name=a;return this};c.setExtra=function(a){this.$1.extra=a;return this};c.setMsgID=function(a){this.$1.msg_id=a;return this};c.setMsgType=function(a){this.$1.msg_type=a;return this};c.setProcessingTimeSinceRecvOnWww=function(a){this.$1.processing_time_since_recv_on_www=a;return this};c.setRawTime=function(a){this.$1.raw_time=a;return this};c.setReceiverID=function(a){this.$1.receiver_id=a;return this};c.setResultCode=function(a){this.$1.result_code=a;return this};c.setSenderID=function(a){this.$1.sender_id=a;return this};c.setServiceName=function(a){this.$1.service_name=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setUserCountry=function(a){this.$1.user_country=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={app_build_number:!0,app_id:!0,app_version:!0,call_id:!0,client_stack_info:!0,device_id:!0,event_name:!0,extra:!0,msg_id:!0,msg_type:!0,processing_time_since_recv_on_www:!0,raw_time:!0,receiver_id:!0,result_code:!0,sender_id:!0,service_name:!0,time:!0,user_country:!0,weight:!0};e.exports=a}),null);
__d("RTWebLoggingSharedInstance",["CurrentUser","UserAgentData"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null;a=function(){a.getInstance=function(){g==null&&(g=new a());return g};function a(){this.$1=b("UserAgentData").browserName+b("CurrentUser").getID().substr(-4)+"_"+Date.now().toString().substr(-5)}var c=a.prototype;c.getDeviceID=function(){return this.$1};return a}();e.exports=a}),null);
__d("FBRTCLogger",["ChannelClientID","FBLogger","FBRTCConsoleLogger","FBRTCMessageType","MarauderLogger","P2PReliabilityTypedLogger","RTWebLoggingSharedInstance","UserAgentData","CurrentUser","pageID"],(function(a,b,c,d,e,f){__p&&__p();var g=b("CurrentUser").getID(),h="call_action",i="rtc_client_call_summary",j="client_error",k="client_event",l="info",m="received_message",n="send_failed",o="send_succeeded",p="sent_message",q="rtc_tslog",r=null;a=function(){"use strict";__p&&__p();a.getInstance=function(){r==null&&(r=new a());return r};a.multiwayMessageTypeName=function(a){__p&&__p();switch(a){case b("FBRTCMessageType").JOIN:return"JOIN";case b("FBRTCMessageType").SERVER_MEDIA_UPDATE:return"SERVER_MEDIA_UPDATE";case b("FBRTCMessageType").HANGUP:return"HANGUP";case b("FBRTCMessageType").ICE_CANDIDATE:return"ICE_CANDIDATE";case b("FBRTCMessageType").RING:return"RING";case b("FBRTCMessageType").DISMISS:return"DISMISS";case b("FBRTCMessageType").CONFERENCE_STATE:return"CONFERENCE_STATE";case b("FBRTCMessageType").ADD_PARTICIPANTS:return"ADD_PARTICIPANTS";case b("FBRTCMessageType").SUBSCRIPTION:return"SUBSCRIPTION";case b("FBRTCMessageType").CLIENT_MEDIA_UPDATE:return"CLIENT_MEDIA_UPDATE";case b("FBRTCMessageType").DATA_MESSAGE:return"DATA_MESSAGE";case b("FBRTCMessageType").REMOVE_PARTICIPANTS:return"REMOVE_PARTICIPANTS";case b("FBRTCMessageType").EXPERIMENT:return"EXPERIMENT";case b("FBRTCMessageType").CONNECT:return"CONNECT";case b("FBRTCMessageType").APPROVAL:return"APPROVAL"}return a.toString()};function a(){this.$2=JSON.stringify({version:2,device:b("UserAgentData").deviceName,os:b("UserAgentData").platformName,os_version:b("UserAgentData").platformFullVersion,browser:b("UserAgentData").browserName,browser_version:b("UserAgentData").browserFullVersion}),this.$3=JSON.stringify({version:2,device:b("UserAgentData").deviceName,os:b("UserAgentData").platformName,os_version:b("UserAgentData").platformFullVersion,browser:b("UserAgentData").browserName,browser_version:b("UserAgentData").browserFullVersion,msg_source:"web"}),this.$1=b("RTWebLoggingSharedInstance").getInstance().getDeviceID()}var c=a.prototype;c.logToConsole=function(a){this.$4(null,null,"Console",a)};c.$5=function(a){return new(b("P2PReliabilityTypedLogger"))().setExtra(this.$2).setDeviceID(this.$1).setRawTime(Date.now()).setServiceName("WEB_CLIENT").setMsgType(a.toUpperCase())};c.logMultiwayMessageReceived=function(b,c){var d=a.multiwayMessageTypeName(b.type());this.$4(b.conferenceName(),c,"Received MW",d+", "+b.transactionId(),d==="EXPERIMENT"?"DEBUG":"INFO")};c.logReceivedMessage=function(a,b,c){var d=b?b.toString():null,e={call_id:b,from:a,msg_id:c.msg_id,type:c.type};c.sdp&&(e.content=c.sdp);c.ack_id&&(e.ack_msg_id=c.ack_id);var f=c.type||c.msgType;this.$5(f).setEventName("CLIENT_RECEIVED_MESSAGE").setCallID(d).setMsgID(c.msg_id).setSenderID(a).setReceiverID(g).setExtra(this.$3).log();this.$6(m,e);this.$4(a,b,"Received P2P",c.type+", "+c.msg_id)};c.logSentMessage=function(a,b,c){var d=b?b.toString():null,e={call_id:b,msg_id:c.msg_id,to:a,type:c.type};c.sdp&&(e.content=c.sdp);c.ack_id&&(e.ack_msg_id=c.ack_id);this.$5(c.type).setEventName("CLIENT_SENDING_MESSAGE").setCallID(d).setMsgID(c.msg_id).setSenderID(g).setReceiverID(a).log();this.$6(p,e);this.$4(a,b,"Sent",c.type+", "+c.msg_id)};c.logSentMessageSuccess=function(a,b,c,d){var e={call_id:b,msg_id:d,peer_id:a,type:c};b=b?b.toString():null;this.$5(c).setEventName("CLIENT_TRANSPORT_SUCCESS").setCallID(b).setMsgID(d.toString()).setSenderID(g).setReceiverID(a).log();this.$6(o,e)};c.logSentMessageFailure=function(a,b,c,d,e){var f={call_id:b,error_code:e,msg_id:d,peer_id:a,type:c},h=b?b.toString():null;this.$5(c).setEventName("CLIENT_TRANSPORT_ERROR").setCallID(h).setMsgID(d.toString()).setSenderID(a).setSenderID(g).setReceiverID(a).setResultCode(e).log();this.$6(n,f);this.$4(a,b,"Send Failed",c+", "+e)};c.logCallAction=function(a,b,c,d,e){var f={call_action:c,call_id:b,content:d,peer_id:a};e&&(f.trigger=e);this.$6(h,f);this.$4(a,b,"CallAction",c+", "+JSON.stringify(d))};c.logEvent=function(a,b,c){var d={call_id:b,content:c,peer_id:a};this.$6(k,d);this.$4(a,b,"Event",JSON.stringify(c))};c.logInfo=function(a,b,c){var d={call_id:b,content:c,peer_id:a};this.$6(l,d);this.$4(a,b,"Info",JSON.stringify(c))};c.logError=function(a,c,d){var e,f={call_id:c,content:d,peer_id:a};e=b("FBLogger")("rtweb").addMetadata("RT_WEB","CALL_ID",""+((e=c)!=null?e:"null")).addMetadata("RT_WEB","PEER_ID",""+((e=a)!=null?e:"null"));if(typeof d==="string")e.warn(d);else{var g=JSON.stringify(d);e.warn((e=g)!=null?e:"Unknown error")}this.$6(j,f);this.$4(a,c,"Error",JSON.stringify(d))};c.logErrorWithoutID=function(a){this.logError(null,null,a)};c.logEndCallSummary=function(a){if(!a)return;var c={call_id:a.callID,channel_session_id:b("ChannelClientID").getID(),content:a.toString(),peer_id:a.peerID,tag:"endcallstats"},d=babelHelpers["extends"]({},c,a.getExtraInfo());this.$6(i,d);this.$4(a.peerID,a.callID,"Call Summary",JSON.stringify(c))};c.logTsLogData=function(a,b,c,d){if(!b||!c)return;this.$6(q,{call_id:c,conf_name:d,time_series1:JSON.stringify(a)});this.$4(b,c,"TSLog Data",JSON.stringify(a))};c.doesContainSensitiveData=function(a){return String(a).indexOf("crypto")>-1};c.redactSensitiveData=function(a,b){if(a!==i){a=JSON.stringify(b);if(this.doesContainSensitiveData(a))return{redacted:!0}}return b};c.$6=function(a,c){c.page_id=b("pageID");c=this.redactSensitiveData(a,c);b("FBRTCConsoleLogger").getInstance().getLogHistory().log(a,c);b("MarauderLogger").log(a,b("FBRTCConsoleLogger").MODULE_NAME,c)};c.$4=function(a,c,d,e,f){f===void 0&&(f="DEBUG"),b("FBRTCConsoleLogger").getInstance().log(this.doesContainSensitiveData(e)?"redacted":e,a,c,d,f)};return a}();a.CallAction=Object.freeze({ANSWER_CALL:"answer_call",AUTO_DISABLE_VIDEO:"auto_disable_video",DENIED_PERMISSION:"denied_permission",END_CALL:"end_call",FAILED_GETTING_URI:"failed_getting_uri",OLD_URI:"old_uri",OPEN_POPUP:"open_popup",POPUP_OPENED:"popup_opened",RECEIVED_CALL:"received_call",SET_FULLSCREEN_ON:"set_fullscreen_on",SET_MUTE:"set_mute",SET_SELF_VIEW_ON:"set_self_view_on",SET_VIDEO_ON:"set_video_on",START_CALL:"start_call",START_SKYPE:"start_skype",TRY_NEW:"try_new",USER_SETTINGS_CHANGED:"user_settings_changed"});a.Trigger=Object.freeze({ADMIN_MESSAGE:"admin_message",CHAT_TAB_ICON_TOUR:"chat_tab_icon_tour",CHAT_TAB_ICON:"chat_tab_icon",CHAT_TAB_VOICE_ICON:"chat_tab_voice_icon",MULTIWAY_ADMIN_MESSAGE_JOIN_AUDIO_CALL_BUTTON:"multiway_admin_message_join_audio_call_button",MULTIWAY_ADMIN_MESSAGE_JOIN_VIDEO_CALL_BUTTON:"multiway_admin_message_join_video_call_button",MULTIWAY_ADMIN_MESSAGE_START_AUDIO_CALL_BUTTON:"multiway_admin_message_start_audio_call_button",MULTIWAY_ADMIN_MESSAGE_START_VIDEO_CALL_BUTTON:"multiway_admin_message_start_video_call_button",MULTIWAY_CHAT_TAB_SHEET_JOIN_CALL_BUTTON:"multiway_chat_tab_sheet_join_call_button",MULTIWAY_POPUP_START_CALL_BUTTON:"multiway_popup_start_call_button",MULTIWAY_THREAD_HEADER_AUDIO_BUTTON:"multiway_thread_header_audio_button",MULTIWAY_THREAD_HEADER_JOIN_AUDIO_CALL_AUDIO_BUTTON:"multiway_thread_header_join_audio_call_audio_button",MULTIWAY_THREAD_HEADER_JOIN_AUDIO_CALL_VIDEO_BUTTON:"multiway_thread_header_join_audio_call_video_button",MULTIWAY_THREAD_HEADER_JOIN_VIDEO_CALL_AUDIO_BUTTON:"multiway_thread_header_join_video_call_audio_button",MULTIWAY_THREAD_HEADER_JOIN_VIDEO_CALL_VIDEO_BUTTON:"multiway_thread_header_join_video_call_video_button",MULTIWAY_THREAD_HEADER_VIDEO_BUTTON:"multiway_thread_header_video_button",MULTIWAY_THREAD_LIST_JOIN_CALL_BUTTON:"multiway_thread_list_join_call_button",POPUP_CALL_START_BUTTON:"popup_start_call_button",REDIAL_BUTTON:"redial_button",RESET_CALL:"install_screen_sharing_ext_dialog",RETURN_CALL:"return_call",SKYPE_DEPRECATION_DIALOG:"skype_deprecation_dialog",TIMELINE_PROFILE:"timeline_profile",VC_PRECALL_SETUP:"vc_precall_setup",UNKNOWN:"unknown",WEB_MESSENGER:"web_messenger"});a.Key=Object.freeze({BATTERY_START:"battery_start",BATTERY_END:"battery_end",CALL_TYPE:"call_type",CONNECTION_EFFECTIVE_TYPE:"conn_effective_type",CPU_CORES:"cpu_cores",DEVICE_INFO:"device_info",DEVICE_MEMORY:"device_memory",DEVICE_PIXEL_RATIO:"device_pixel_ratio",INITIATED_BY_PAGE_ID:"initiated_by_page_id",PEER_IS_MOBILE:"peer_is_mobile",RATING_SHOWN:"rating_shown",RATING:"rating5",EFFECT_COUNT:"rtc_effect_count",EFFECT_TOTAL_DURATION:"rtc_effect_total_duration",VIDEO_DURATION_WITH_FILTER:"rtc_video_duration_with_filter_enabled",SCREEN_DURATION:"screen_duration",SURVEY_CHOICE:"survey_choice",SURVEY_DETAILS:"survey_details",SURVEY_SHOWN:"survey_shown",MEDIA_INPUTS:"media_inputs",VIDEO_CAPABILITIES:"video_capabilities"});e.exports=a}),null);
__d("FBRTCMediaMetricTracker",["performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={count:0,current:-1,first:-1,min:-1,max:-1,mean:-1,median:-1,startedTime:-1,total:-1,updatedTime:-1};a=function(){__p&&__p();function a(){this.$1={},this.$2={},this.$3={}}var c=a.prototype;c.getVideoStreamReportKeys=function(){return Object.keys(this.$3)};c.getJitterStreamReportKey=function(){return Object.keys(this.$1)};c.getAudioStreamReportKeys=function(){return Object.keys(this.$2)};c.addJitterBufferDelay=function(a,b){b!==null&&b!==void 0&&(this.$1[a]||(this.$1[a]=[]),this.$1[a].push(b))};c.setVideoMetric=function(a,b,c){c!==null&&c!==void 0&&(this.$3[a]||(this.$3[a]={}),this.$3[a][b]=this.$4(this.$3[a][b],c))};c.$4=function(a,c){__p&&__p();if(a!==null&&a!==void 0){a.current=c;a.updatedTime=b("performanceNow")();a.total+=c;a.count+=1;a.min=Math.min(a.min,c);a.max=Math.max(a.max,c);a.mean=a.total/a.count;return a}else return{min:c,max:c,total:c,count:1,mean:c,first:c,startedTime:b("performanceNow")(),current:c,updatedTime:b("performanceNow")()}};c.getVideoMetric=function(a,b){return this.$3[a]?this.$3[a][b]:null};c.addMetricStat=function(a,b,c){c!==null&&c!==void 0&&(this.$2[a]||(this.$2[a]={}),this.$2[a][b]=this.$4(this.$2[a][b],c))};c.getMetricStats=function(a,b){return!this.$2[a]?null:this.$2[a][b]};c.getJitterBufferStats=function(a){__p&&__p();if(!this.$1[a])return g;var b=this.$1[a].length;if(b===0)return g;this.$1[a].sort(function(a,b){return a-b});var c=this.$1[a].reduce(function(a,b){return a+b});if(b%2===0){var d=Math.floor((b-1)/2),e=Math.ceil((b-1)/2);d=(this.$1[a][d]+this.$1[a][e])/2}else d=this.$1[a][(b-1)/2];return{max:this.$1[a][b-1],min:this.$1[a][0],mean:c/b,median:d,total:c,count:b,first:-1,startedTime:-1,current:-1,updatedTime:-1}};c.toJsonString=function(){return JSON.stringify({stats:this.$2,jitterBufferDelays:this.$1,videoMetric:this.$3})};a.fromJsonString=function(b){var c=new a();try{b=JSON.parse(b),b=b}catch(a){return c}b.stats&&(c.$2=b.stats);b.jitterBufferDelays&&(c.$1=b.jitterBufferDelays);b.videoMetric&&(c.$3=b.videoMetric);return c};return a}();e.exports=a}),null);
__d("FBRTCMediaMetricsConst",[],(function(a,b,c,d,e,f){"use strict";a={JITTER:"jitter",ACCELERATE_RATE:"accelerate_rate",DECODING_CNG:"decoding_cng",DECODING_NORMAL:"decoding_normal",DECODING_PLC:"decoding_plc",DECODING_PLC_CNG:"decoding_plc_cng",DISCARD_RATE:"discard_rate",EXPAND_RATE:"expand_rate",PREEMPTIVE_RATE:"preemptive_rate",AUDIO_PACKETS_RECEIVED:"audio_packets_received",AUDIO_PACKETS_RECEIVED_LOST:"audio_packets_received_lost",AUDIO_PACKETS_SENT:"audio_packets_sent",AUDIO_PACKETS_SENT_LOST:"audio_packets_sent_lost",VIDEO_BYTES_RECEIVED:"video_bytes_received",VIDEO_BYTES_SENT:"video_bytes_sent",INBOUND_QP:"inbound_qp",OUTBOUND_QP:"outbound_qp",FRAMES_ENCODED:"frames_encoded",FRAMES_DECODED:"frames_decoded",VIDEOBWE_SEND_BANDWIDTH:"videobwe_send_bandwidth",VIDEOBWE_TRANSMIT_BITRATE:"videobwe_transmit_bitrate",VIDEOBWE_RETRANSMIT_BITRATE:"videobwe_retransmit_bitrate",AUDIO_BYTES_SENT:"audio_bytes_sent",AUDIO_BYTES_RECEIVED:"audio_bytes_received",VIDEO_PKTS_SENT:"video_pkts_sent",VIDEO_PKTS_SEND_LOST:"video_pkts_send_lost",VIDEO_PKTS_RECEIVED:"video_pkts_received",VIDEO_PKTS_RECV_LOST:"video_pkts_receive_lost",AUDIO_RTT_RECEIVED:"audio_rtt_received",AUDIO_RTT_SENT:"audio_rtt_sent"};e.exports=a}),null);
__d("FBRTCCallSummary",["FBRTCConstants","FBRTCExperiment","FBRTCIceStatsParser","FBRTCLocalUploadLogLevel","FBRTCLogger","FBRTCMediaMetricsConst","FBRTCMediaMetricTracker","SiteData","UserAgentData","gkx","performanceNow"],(function(a,b,c,d,e,f){__p&&__p();var g=5*60*1e3,h={CALL_STARTED:"started",SENT_OFFER:"s_o",RECV_OFFER:"r_o",SENT_OFFER_ACK:"s_oack",RECV_OFFER_ACK:"r_oack",SENT_RETRIED_OFFER:"s_o2",RECV_RETRIED_OFFER:"r_o2",SENT_RETRIED_OFFER_ACK:"s_oack2",RECV_RETRIED_OFFER_ACK:"r_oack2",SENT_PRANSWER:"s_pr",RECV_PRANSWER:"r_pr",NETWORK_READY:"network_ready",SENT_ANSWER:"s_a",RECV_ANSWER:"r_a",SENT_ANSWER_ACK:"s_aack",RECV_ANSWER_ACK:"r_aack",SENT_RETRIED_ANSWER:"s_a2",RECV_RETRIED_ANSWER:"r_a2",SENT_RETRIED_ANSWER_ACK:"s_aack2",RECV_RETRIED_ANSWER_ACK:"r_aack2",SENT_OK:"s_ok",RECV_OK:"r_ok",CALL_CONNECTED:"connected",CALL_ENDED:"ended",SENT_JOIN_REQUEST:"s_jreq",RECV_JOIN_RESPONSE:"r_jresp",PROC_JOIN_RESPONSE:"p_jresp",RECV_RING_REQUEST:"r_rreq",SENT_RING_RESPONSE:"s_rresp"},i={FELLBACK_TO_AUDIO:"f_a",MEDIA_REQUESTED:"m_r",MEDIA_SUCCEEDED:"m_s",POPUP_OPENED:"opened",PRESSED_ANSWER:"p_a"},j={ESCALATION_IS_AVAILABLE:"esc_available",USER_INITIATED_REQUEST:"out_started",RECEIVED_INCOMING_REQUEST:"inc_started",REJECTED_INVALID_P2P_STATE:"rej_invalid_state",CONNECTING_TO_MULTIWAY:"u_connecting_mw",CONNECTED_TO_MULTIWAY:"u_connected_mw",PEER_CONNECTING_TO_MULTIWAY:"p_connecting_mw",PEER_CONNECTED_TO_MULTIWAY:"p_connected_mw",READY_TO_ESCALATE:"ready_esc",PEER_FAILED_TO_CONNECT_TO_MULTIWAY:"p_fail_conn",MULTIWAY_CALL_ENDED:"mw_call_ended",TIMED_OUT:"timed_out",PEER_ABORTED:"p_aborted",INTERNAL_ERROR:"internal_err"},k={ESCALATION_INITIATION_BUTTON_CLICKED:"esc_init_button",ESCALATION_APPROVED_BUTTON_CLICKED:"esc_appr_button",ESCALATION_DECLINED_BUTTON_CLICKED:"esc_decl_button",USERMEDIA_REQUEST:"media_req",USERMEDIA_SUCCESS:"media_success",USERMEDIA_FAILURE:"media_fail",SENT_ESC_REQUEST:"s_esc_req",RECV_ESC_REQUEST:"r_esc_req",SENT_ESC_REQUEST_ACK:"s_esc_req_ack",RECV_ESC_REQUEST_ACK:"s_esc_req_ack",SENT_ESC_RESPONSE:"s_esc_rep",RECV_ESC_ACCEPT:"r_esc_accept",RECV_ESC_DECLINE:"r_esc_decl",RECV_ESC_TIMEOUT:"r_esc_timeout"},l=[b("FBRTCMediaMetricsConst").ACCELERATE_RATE,b("FBRTCMediaMetricsConst").DISCARD_RATE,b("FBRTCMediaMetricsConst").EXPAND_RATE,b("FBRTCMediaMetricsConst").PREEMPTIVE_RATE];function a(){var a=b("FBRTCExperiment").getScotchExperiment().getBool("use_scotch",!1,!1),c=b("FBRTCExperiment").getScotchExperiment().getBool("use_zenon",!1,!1);return a?"Scotch":c?"ZenonScotch":"Old Codebase"}c=function(){"use strict";__p&&__p();a.nullSummary=function(){return new a({peerID:"0",callID:"0",isCaller:!1,callTrigger:"NULL_SUMMARY"})};function a(c){this.peerID=String(c.peerID),this.callID=String(c.callID),this.$2=c.isCaller,this.$1=c.version||a.CURRENT_SUMMARY_VERSION,this.$3=b("FBRTCLocalUploadLogLevel").getLocalUploadLogLevel(),this.$15=new Date().valueOf(),this.$4=c.callTrigger||null,this.$6={},this.$8={},this.$9={},this.$14={},this.$34=null,this.$35=null,this.$36=null,this.$17=0,this.$18=0,this.$33=!1,this.$10={},this.$11={},this.$12={},this.$13={},this.$37=null,this.$5=a.CURRENT_CLIENT_VERSION,this.$20=b("performanceNow")(),this.$16=0,this.$7={},this.$19=this.$20,this.$21=0,this.$22={},this.addExtraInfo(b("FBRTCLogger").Key.DEVICE_INFO,this.$44()),this.$45(),this.$46(),this.$47(),this.$24=b("FBRTCIceStatsParser").getInstance(),this.$43=new(b("FBRTCMediaMetricTracker"))(),this.$23=b("FBRTCLogger").getInstance()}var c=a.prototype;c.toJsonString=function(){this.$18=new Date().valueOf();return JSON.stringify({version:this.$1,peerID:this.peerID,callID:this.callID,isCaller:this.$2,uploadLogLevel:this.$3,callType:this.$29,conferenceName:this.$26,joinWithSID:this.$27,activeConn:this.$25,escP2PCallID:this.$28,serverInfoData:this.$30,localVideoDuration:this.$31,remoteVideoDuration:this.$32,startTime:this.$15,trigger:this.$4,signalingTime:this.$6,escStateTimes:this.$8,applicationEventTime:this.$9,videoEscTimes:this.$14,endCallReason:this.$34,endCallSubreason:this.$35,isRemoteEnded:this.$36,lastUpdatedTime:this.$17,lastSerializedTime:this.$18,unsetOnRetrieve:this.$33,openCount:this.$21,extraInfo:this.$22,gen0IceSentCount:this.$10,gen0IceReceivedCount:this.$11,iceSentCount:this.$12,iceReceivedCount:this.$13,connectionType:this.$37,mediaMetricStats:this.$43.toJsonString(),newSignalingTime:this.$7,accumulatedCallTime:this.$48(),deviceCharged:this.$39,videoReceivedCodec:this.$40,videoSentCodec:this.$41,audioSentCodec:this.$42,relayIP:this.$38,clientVersion:this.$5})};a.fromJsonString=function(c){__p&&__p();try{c=JSON.parse(c)}catch(a){return null}if(c.version<a.OLDEST_SUPPORTED_SUMMARY_VERSION)return null;if(!Object.prototype.hasOwnProperty.call(c,"peerID")||!Object.prototype.hasOwnProperty.call(c,"callID")||!Object.prototype.hasOwnProperty.call(c,"isCaller")||!Object.prototype.hasOwnProperty.call(c,"startTime")||!Object.prototype.hasOwnProperty.call(c,"trigger")||!Object.prototype.hasOwnProperty.call(c,"signalingTime")||!Object.prototype.hasOwnProperty.call(c,"endCallReason")||!Object.prototype.hasOwnProperty.call(c,"isRemoteEnded")||!Object.prototype.hasOwnProperty.call(c,"lastUpdatedTime")||!Object.prototype.hasOwnProperty.call(c,"lastSerializedTime"))return null;var d=new a({peerID:c.peerID,callID:c.callID,isCaller:c.isCaller});d.$1=c.version;d.$3=c.uploadLogLevel;d.$15=c.startTime;d.$4=c.trigger;d.$5=c.clientVersion;d.$6=c.signalingTime;d.$34=c.endCallReason;d.$35=c.endCallSubreason;d.$36=c.isRemoteEnded;d.$17=c.lastUpdatedTime;d.$18=c.lastSerializedTime;d.$27=c.joinWithSID;c.callType&&(d.$29=c.callType);c.conferenceName&&(d.$26=c.conferenceName);c.escP2PCallID&&(d.$28=c.escP2PCallID);c.activeConn&&(d.$25=c.activeConn);c.serverInfoData&&(d.$30=c.serverInfoData);c.localVideoDuration&&(d.$31=c.localVideoDuration);c.remoteVideoDuration&&(d.$32=c.remoteVideoDuration);c.unsetOnRetrieve&&(d.$33=c.unsetOnRetrieve);c.openCount&&(d.$21=c.openCount);c.extraInfo&&(d.$22=c.extraInfo);c.gen0IceSentCount&&(d.$10=c.gen0IceSentCount);c.gen0IceReceivedCount&&(d.$11=c.gen0IceReceivedCount);c.iceSentCount&&(d.$12=c.iceSentCount);c.iceReceivedCount&&(d.$13=c.iceReceivedCount);c.newSignalingTime&&(d.$7=c.newSignalingTime);c.accumulatedCallTime&&(d.$16=c.accumulatedCallTime);c.escStateTimes&&(d.$8=c.escStateTimes);c.applicationEventTime&&(d.$9=c.applicationEventTime);c.videoEscTimes&&(d.$14=c.videoEscTimes);c.mediaMetricStats&&(d.$43=b("FBRTCMediaMetricTracker").fromJsonString(c.mediaMetricStats));c.connectionType&&(d.$37=c.connectionType);c.deviceCharged&&(d.$39=c.deviceCharged);c.videoReceivedCodec!==null&&(d.$40=c.videoReceivedCodec);c.videoSentCodec!==null&&(d.$41=c.videoSentCodec);c.audioSentCodec!==null&&(d.$42=c.audioSentCodec);c.relayIP!==null&&c.relayIP!==void 0&&(d.$38=c.relayIP);return d};a.restoreOrInitialize=function(c,d,e,f,g,i){d=String(d);e=String(e);c=c.retrieveCallSummary(d,e);!c?(c=new a({peerID:d,callID:e,isCaller:f}),g?(c.onFullMessageReceived({msg:g}),c.onOfferAckSent(g)):c.onCallStarted(i||b("FBRTCLogger").Trigger.UNKNOWN),i!==b("FBRTCLogger").Trigger.REDIAL_BUTTON&&b("FBRTCLogger").getInstance().logError(d,e,"Missing call summary from storage")):c.$33&&(c.$34=null,c.$35=null,c.$36=null,delete c.$6[h.CALL_ENDED],delete c.$7[h.CALL_ENDED],c.$20=0,c.$33=null);return c};a.logSavedSummaries=function(a){__p&&__p();var c=a.getLoggableSummaries(),d=c.length;if(d<=0)return;var e=b("FBRTCLogger").getInstance(),f=[];for(var g=0;g<d;g++){var h=c[g];e.logEndCallSummary(h);f.push({peerID:h.peerID,callID:h.callID})}a.removeCallSummaries(f);e.logToConsole("Logged pending summaries: "+d)};c.logThisSummary=function(a){var c=b("FBRTCLogger").getInstance();a.retrieveCallSummary(this.peerID,this.callID)!=null&&(c.logEndCallSummary(this),a.removeCallSummary(this.peerID,this.callID),c.logToConsole("Logged active summary"))};c.isNull=function(){var b=a.CANONICAL_NULL_SUMMARY;return this.peerID===b.peerID&&this.callID===b.callID&&this.isCaller()===b.isCaller()&&this.getCallTrigger()===b.getCallTrigger()};c.save=function(a){var c=b("performanceNow")(),d=c-this.$19;if(d>g){this.$23.logInfo(this.peerID,this.callID,"Summary too old: "+d);return}a.storeCallSummary(this.peerID,this.callID,this);this.$19=c};c.getVersion=function(){return this.$1};c.getLastUpdatedTime=function(){return this.$17};c.setLastUpdatedTime=function(a){this.$17=a};c.getExtraInfo=function(){return this.$22};c.getCallTrigger=function(){return this.$4};c.addExtraInfo=function(a,b){this.$22[a]=b,this.$47()};c.isCaller=function(){return this.$2};c.isNetworkReady=function(){if(this.$6[h.NETWORK_READY])return!0;else return!1};c.isAnswerReceived=function(){if(this.$6[h.RECV_ANSWER])return!0;else return!1};c.onCallStarted=function(a){this.$4=a,this.$49(h.CALL_STARTED),this.$47()};c.setCallTrigger=function(a){this.$4=a,this.$47()};c.onPopupOpened=function(){this.$50(i.POPUP_OPENED),this.$21++,this.$47()};c.onPressedAnswer=function(){this.$50(i.PRESSED_ANSWER),this.$47()};c.onMediaRequested=function(){this.$50(i.MEDIA_REQUESTED),this.$47()};c.onMediaSucceeded=function(){this.$50(i.MEDIA_SUCCEEDED),this.$47()};c.onFellbackToAudio=function(){this.$50(i.FELLBACK_TO_AUDIO),this.$47()};c.setConnectionType=function(a){this.$37=a,this.$47()};c.setUploadLogLevel=function(a){this.$3=a,this.$47()};c.getCallType=function(){return this.$29};c.setCallType=function(a){this.$29=a,this.addExtraInfo(b("FBRTCLogger").Key.CALL_TYPE,a),this.$47()};c.setVideoDurations=function(a,b){this.$31=a,this.$32=b,this.$47()};c.setScreenDuration=function(a){this.addExtraInfo(b("FBRTCLogger").Key.SCREEN_DURATION,a)};c.setConferenceName=function(a){this.$26=a,this.$47()};c.setTotalVideoFilterDuration=function(a){this.addExtraInfo(b("FBRTCLogger").Key.VIDEO_DURATION_WITH_FILTER,Math.ceil(a).toString())};c.setCoExperienceEffectDuration=function(a){this.addExtraInfo(b("FBRTCLogger").Key.EFFECT_TOTAL_DURATION,Math.ceil(a).toString())};c.setEffectCount=function(a){this.addExtraInfo(b("FBRTCLogger").Key.EFFECT_COUNT,a.toString())};c.setJoinWithSID=function(a){this.$27=a,this.$47()};c.setServerInfoData=function(a){this.$30=a,this.$47()};c.setActiveConnection=function(a){this.$25=a,this.$47()};c.setEscalationP2PCallID=function(a){this.$28=a,this.$47()};c.onOfferAckSent=function(a){this.onMessageSent({type:b("FBRTCConstants").PayloadType.OFFER_ACK,flag:a.flag})};c.onMessageSent=function(a){__p&&__p();var c=a.flag===1;switch(a.type){case b("FBRTCConstants").PayloadType.OFFER:this.$51(c,h.SENT_OFFER,h.SENT_RETRIED_OFFER);this.$52(a,this.$10,this.$12);break;case b("FBRTCConstants").PayloadType.ANSWER:this.$51(c,h.SENT_ANSWER,h.SENT_RETRIED_ANSWER);this.$52(a,this.$10,this.$12);break;case b("FBRTCConstants").PayloadType.OK:this.$49(h.SENT_OK);break;case b("FBRTCConstants").PayloadType.PRANSWER:this.$49(h.SENT_PRANSWER);break;case b("FBRTCConstants").PayloadType.OFFER_ACK:this.$51(c,h.SENT_OFFER_ACK,h.SENT_RETRIED_OFFER_ACK);break;case b("FBRTCConstants").PayloadType.ANSWER_ACK:this.$51(c,h.SENT_ANSWER_ACK,h.SENT_RETRIED_ANSWER_ACK);break;case b("FBRTCConstants").PayloadType.ICE_CANDIDATE:this.$52(a,this.$10,this.$12);break;case b("FBRTCConstants").PayloadType.ACK:a.ack_type===b("FBRTCConstants").PayloadType.VIDEO_REQUEST&&this.$53(k.SENT_ESC_REQUEST_ACK);break;case b("FBRTCConstants").PayloadType.VIDEO_REQUEST:a.ack_id?this.$53(k.SENT_ESC_RESPONSE):this.$53(k.SENT_ESC_REQUEST);break;default:}this.$47()};c.$52=function(a,b,c){var d,e=null;a=this.$24.extractIceInfo(a.sdp);for(var f=0;f<a.length;f++)d=a[f].gen,e=a[f].type,d===0&&this.$54(b,e),this.$54(c,e)};c.$54=function(a,b){!a[b]?a[b]=1:a[b]+=1};c.$55=function(a){this.addExtraInfo(b("FBRTCLogger").Key.PEER_IS_MOBILE,a.isFromMobile()?"1":"0")};c.onFullMessageReceived=function(a){__p&&__p();var c=a.msg,d=c.flag===1;switch(c.type){case b("FBRTCConstants").PayloadType.OFFER:this.$55(a);this.$51(d,h.RECV_OFFER,h.RECV_RETRIED_OFFER);this.$52(c,this.$11,this.$13);break;case b("FBRTCConstants").PayloadType.ANSWER:this.$55(a);this.$51(d,h.RECV_ANSWER,h.RECV_RETRIED_ANSWER);this.$52(c,this.$11,this.$13);break;case b("FBRTCConstants").PayloadType.OK:this.$49(h.RECV_OK);break;case b("FBRTCConstants").PayloadType.PRANSWER:this.$49(h.RECV_PRANSWER);break;case b("FBRTCConstants").PayloadType.OFFER_ACK:this.$51(d,h.RECV_OFFER_ACK,h.RECV_RETRIED_OFFER_ACK);break;case b("FBRTCConstants").PayloadType.ANSWER_ACK:this.$51(d,h.RECV_ANSWER_ACK,h.RECV_RETRIED_ANSWER_ACK);break;case b("FBRTCConstants").PayloadType.ICE_CANDIDATE:this.$52(c,this.$11,this.$13);break;case b("FBRTCConstants").PayloadType.ACK:c.ack_type===b("FBRTCConstants").PayloadType.VIDEO_REQUEST&&this.$53(k.RECV_ESC_REQUEST_ACK);break;case b("FBRTCConstants").PayloadType.VIDEO_REQUEST:c.ack_id?c.videoon||c.reqVideoOn?this.$53(k.RECV_ESC_ACCEPT):this.$53(k.RECV_ESC_DECLINE):c.videoon||c.reqVideoOn?this.$53(k.RECV_ESC_REQUEST):this.$53(k.RECV_ESC_TIMEOUT);break;default:}this.$47()};c.onMsgAckReceived=function(a,b){a=a.msg.flag===1;b?this.$51(a,h.RECV_OFFER_ACK,h.RECV_RETRIED_OFFER_ACK):this.$51(a,h.RECV_ANSWER_ACK,h.RECV_RETRIED_ANSWER_ACK)};c.onNetworkReady=function(){this.$49(h.NETWORK_READY),this.$47()};c.onCallConnected=function(){this.$49(h.CALL_CONNECTED),this.$47()};c.onCallEnded=function(a,b,c,d){this.$33=c,this.$34=a,this.$35=d,this.$36=b,this.$49(h.CALL_ENDED),this.$47()};c.setOfferSentTime=function(){this.$49(h.SENT_OFFER)};c.setOfferAckReceivedTime=function(){this.$49(h.RECV_OFFER_ACK)};c.setAnswerSentTime=function(){this.$49(h.SENT_ANSWER)};c.setAnswerReceivedTime=function(){this.$49(h.RECV_ANSWER)};c.setJoinRequestSent=function(){this.$49(h.SENT_JOIN_REQUEST),this.$47()};c.setJoinResponseReceived=function(){this.$49(h.RECV_JOIN_RESPONSE),this.$47()};c.setJoinResponseProcessed=function(){this.$49(h.PROC_JOIN_RESPONSE),this.$47()};c.setRingRequestReceived=function(){this.$49(h.RECV_RING_REQUEST),this.$47()};c.setRingResponseSent=function(){this.$49(h.SENT_RING_RESPONSE),this.$47()};c.setEscalationAvailable=function(){this.$56(j.ESCALATION_IS_AVAILABLE)};c.setEscalationInitiated=function(){this.$56(j.USER_INITIATED_REQUEST)};c.setReceivedEscalationRequest=function(){this.$56(j.RECEIVED_INCOMING_REQUEST)};c.setInvalidP2PEscalationState=function(){this.$56(j.REJECTED_INVALID_P2P_STATE)};c.setEscalationConnectingToMultiway=function(){this.$56(j.CONNECTING_TO_MULTIWAY)};c.setEscalationConnectedToMultiway=function(){this.$56(j.CONNECTED_TO_MULTIWAY)};c.setEscalationPeerConnectingToMultiway=function(){this.$56(j.PEER_CONNECTING_TO_MULTIWAY)};c.setEscalationPeerConnectedToMultiway=function(){this.$56(j.PEER_CONNECTED_TO_MULTIWAY)};c.setReadyToEscalate=function(){this.$56(j.READY_TO_ESCALATE)};c.setEscalationPeerFailedToConnectToMultiway=function(){this.$56(j.PEER_FAILED_TO_CONNECT_TO_MULTIWAY)};c.setEscalationTimedOut=function(){this.$56(j.TIMED_OUT)};c.setVidEscalationInitClick=function(){this.$53(k.ESCALATION_INITIATION_BUTTON_CLICKED)};c.setVidEscalationAcceptedClick=function(){this.$53(k.ESCALATION_APPROVED_BUTTON_CLICKED)};c.setVidEscalationDeclinedClick=function(){this.$53(k.ESCALATION_DECLINED_BUTTON_CLICKED)};c.setVidEscalationMediaRequested=function(){this.$53(k.USERMEDIA_REQUEST)};c.setVidEscalationMediaSuccess=function(){this.$53(k.USERMEDIA_SUCCESS)};c.setVidEscalationMediaFailed=function(){this.$53(k.USERMEDIA_FAILURE)};c.setVideoCapabilities=function(a){this.addExtraInfo(b("FBRTCLogger").Key.VIDEO_CAPABILITIES,a)};c.setMediaInputs=function(a){this.addExtraInfo(b("FBRTCLogger").Key.MEDIA_INPUTS,a)};c.getVideoReceivedCodec=function(){return this.$40};c.setVideoReceivedCodec=function(a){this.$40=a};c.getVideoSentCodec=function(){return this.$41};c.setVideoSentCodec=function(a){this.$41=a};c.getAudioSentCodec=function(){return this.$42};c.setAudioSentCodec=function(a){this.$42=a};c.toString=function(){var a={};a.core_metrics=this.$57();a.time_series=null;return JSON.stringify(a)};c.$57=function(){__p&&__p();var a={};a.ver=this.$1;a.log_level=b("FBRTCConstants").uploadLogLevelString(this.$3);a.caller=this.$2;a.call_type=this.$29;a.active_conn=this.$25;a.app_event_times=this.$9;a.conf_name=this.$26;a.join_with_sid=this.$27;a.esc_p2p_call_id=this.$28;a.esc_state_times=this.$8;a.vid_esc_times=this.$14;a.serv_info=this.$30;a.conn=this.$58();a.peer_id=this.peerID;a.has_video=!0;a.open_count=this.$21;a.signaling=this.$59();a.sender=this.$60();a.receiver=this.$61();a.end=this.$62();a.video=this.$63();a.push_phase=b("SiteData").push_phase;a.DebugAudioMetrics=this.$64();a.device_charged=this.$39;a.client_version=this.$5;return a};c.$64=function(){return{NetworkReceive:{jb_nm:this.$65()}}};c.$65=function(){var a=this,b={},c=this.$43.getAudioStreamReportKeys().pop();l.forEach(function(d){var e=a.$43.getMetricStats(c,d);e&&(b[d]={m:e.min,M:e.max,avg:e.mean})});var d=this.$43.getJitterBufferStats(c);b.neteq={maxWait:d.max,meanWait:d.mean||0,mediaWait:d.median||0,minWait:d.min};return b};c.$58=function(){var a={dtls:1},b=this.$60();b.avgrtt&&(a.avgrtt=b.avgrtt,a.maxrtt=b.maxrtt,a.minrtt=b.minrtt);this.$38!==null&&(a.relay_ip=this.$38);return a};c.$59=function(){var a={};this.$4&&(a.trigger=this.$4);a.start_time=this.$15;a.time_from_start=this.$6;a.new_time_from_start=this.$7;var b=this.$66();b>0&&(a.duration=b);return a};c.$66=function(a){var b=this.$7[h.CALL_CONNECTED]||this.$7[h.NETWORK_READY];if(!b)return 0;a=this.$7[h.CALL_ENDED]||!(a==null?void 0:a.assumeOngoing)&&this.$16||this.$48();return Math.max(0,a-b)};c.$60=function(){__p&&__p();var a=this,c={},d=this.$43.getAudioStreamReportKeys();d.some(function(d){d=a.$43.getMetricStats(d,b("FBRTCMediaMetricsConst").AUDIO_BYTES_SENT);if(d!=null){c.bytes=d.current;var e=d.updatedTime-d.startedTime;e>0&&(c.ube_avg=(d.current-d.first)*8/e*1e3);return!0}return!1});d.some(function(d){d=a.$43.getMetricStats(d,b("FBRTCMediaMetricsConst").AUDIO_PACKETS_SENT_LOST);if(d){c.plost=d.current;return!0}return!1});d.some(function(d){d=a.$43.getMetricStats(d,b("FBRTCMediaMetricsConst").AUDIO_PACKETS_SENT);if(d){c.psent=d.current;return!0}return!1});d.some(function(d){d=a.$43.getMetricStats(d,b("FBRTCMediaMetricsConst").AUDIO_RTT_SENT);if(d){c.avgrtt=d.mean;c.maxrtt=d.max;c.minrtt=d.min;return!0}return!1});this.$10&&(c.ice_g0=this.$10);this.$12&&(c.ice=this.$12);this.$42!=null&&this.$42!==""&&(c.codec={www:this.$42});return c};c.$61=function(){__p&&__p();var a=this,c={},d=this.$43.getAudioStreamReportKeys();d.some(function(d){__p&&__p();var e=a.$43.getMetricStats(d,b("FBRTCMediaMetricsConst").DECODING_PLC),f=a.$43.getMetricStats(d,b("FBRTCMediaMetricsConst").DECODING_PLC_CNG),g=a.$43.getMetricStats(d,b("FBRTCMediaMetricsConst").DECODING_CNG);d=a.$43.getMetricStats(d,b("FBRTCMediaMetricsConst").DECODING_NORMAL);if(g!=null&&d!=null&&e!=null&&f!=null){c.dec_cng=g.current;c.dec_normal=d.current;c.dec_plc=e.current;c.dec_plc_cng=f.current;c.neteq_calls=c.dec_cng+c.dec_normal+c.dec_plc+c.dec_plc_cng;return!0}return!1});d.some(function(d){d=a.$43.getMetricStats(d,b("FBRTCMediaMetricsConst").AUDIO_BYTES_RECEIVED);if(d){c.bytes=d.current;var e=d.updatedTime-d.startedTime;e>0&&(c.dbe_avg=(d.current-d.first)*8/e*1e3);return!0}return!1});d.some(function(d){d=a.$43.getMetricStats(d,b("FBRTCMediaMetricsConst").AUDIO_PACKETS_RECEIVED_LOST);if(d){c.plost=d.current;return!0}return!1});d.some(function(d){d=a.$43.getMetricStats(d,b("FBRTCMediaMetricsConst").AUDIO_PACKETS_RECEIVED);if(d){c.precv=d.current;return!0}return!1});d.some(function(d){d=a.$43.getMetricStats(d,b("FBRTCMediaMetricsConst").AUDIO_RTT_RECEIVED);if(d){c.avgrtt=d.mean;c.maxrtt=d.max;c.minrtt=d.min;return!0}return!1});this.$11&&(c.ice_g0=this.$11);this.$13&&(c.ice=this.$13);return c};c.$62=function(){var a={};this.$34!=null&&(a.end_call_reason_string=b("FBRTCConstants").callEndReasonString(this.$34),this.$35!==null&&(a.end_call_subreason_string=this.$35),a.remote_ended=this.$36);this.$37&&(a.conn_type=this.$37);return a};c.$63=function(){var a={ename:this.$41,eqps:this.$67(),frames:this.$68(),psent:null,plost:null};return{sender:this.$69(a),receiver:this.$70(),ld:this.$31,rd:this.$32,bwe:this.$71()}};c.$67=function(){var a=this,c=null,d=this.$43.getVideoStreamReportKeys();d.some(function(d){d=a.$43.getVideoMetric(d,b("FBRTCMediaMetricsConst").OUTBOUND_QP);if(d){c=d.current;return!0}return!1});return c};c.$68=function(){var a=this,c=null,d=this.$43.getVideoStreamReportKeys();d.some(function(d){d=a.$43.getVideoMetric(d,b("FBRTCMediaMetricsConst").FRAMES_ENCODED);if(d){c=d.current;return!0}return!1});return c};c.$71=function(){__p&&__p();var a=this,c={avg_enc_bitrate:this.$72(),avg_send_bw:null,avg_trans_bitrate:null,avg_retrans_bitrate:null},d=this.$43.getVideoStreamReportKeys();d.some(function(d){var e=a.$43.getVideoMetric(d,b("FBRTCMediaMetricsConst").VIDEOBWE_SEND_BANDWIDTH),f=a.$43.getVideoMetric(d,b("FBRTCMediaMetricsConst").VIDEOBWE_TRANSMIT_BITRATE);d=a.$43.getVideoMetric(d,b("FBRTCMediaMetricsConst").VIDEOBWE_RETRANSMIT_BITRATE);if(e&&f&&d){c.avg_send_bw=e.mean;c.avg_trans_bitrate=f.mean;c.avg_retrans_bitrate=d.mean;return!0}return!1});return c};c.$72=function(){__p&&__p();var a=this,c=this.$43.getVideoStreamReportKeys(),d=null;c.some(function(c){c=a.$43.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_BYTES_SENT);if(c){var e=c.current-c.first;c=c.updatedTime-c.startedTime;c>0&&(d=e*8/c*1e3);return!0}return!1});return d};c.$69=function(a){__p&&__p();var c=this,d=this.$43.getVideoStreamReportKeys();d.some(function(d){var e=c.$43.getVideoMetric(d,b("FBRTCMediaMetricsConst").VIDEO_PKTS_SENT);d=c.$43.getVideoMetric(d,b("FBRTCMediaMetricsConst").VIDEO_PKTS_SEND_LOST);if(e&&d){a.psent=e.current;a.plost=d.current;return!0}return!1});return a};c.$70=function(){__p&&__p();var a=this,c={dec_bytes:null,dec_time:null,dname:this.$40,frd:null,precv:null,plost:null,qps:null},d=this.$43.getVideoStreamReportKeys();d.some(function(d){var e=a.$43.getVideoMetric(d,b("FBRTCMediaMetricsConst").VIDEO_PKTS_RECEIVED);d=a.$43.getVideoMetric(d,b("FBRTCMediaMetricsConst").VIDEO_PKTS_RECV_LOST);if(e&&d){c.precv=e.current;c.plost=d.current;return!0}return!1});d.some(function(d){d=a.$43.getVideoMetric(d,b("FBRTCMediaMetricsConst").VIDEO_BYTES_RECEIVED);if(d){c.dec_bytes=d.current-d.first;c.dec_time=d.updatedTime-d.startedTime;return!0}return!1});d.some(function(d){var e=a.$43.getVideoMetric(d,b("FBRTCMediaMetricsConst").FRAMES_DECODED);d=a.$43.getVideoMetric(d,b("FBRTCMediaMetricsConst").INBOUND_QP);if(e&&d){c.frd=e.current;c.qps=d.current;return!0}return!1});return c};c.$73=function(){return new Date().valueOf()-this.$15};c.$48=function(){var a=b("performanceNow")()-this.$20;return Math.floor(this.$16+a)};c.$49=function(a){if(this.$6[a])return;this.$6[a]=this.$73();this.$7[a]=this.$48()};c.$56=function(a){if(this.$8[a])return;this.$8[a]=this.$73()};c.$50=function(a){if(this.$9[a])return;this.$9[a]=this.$73()};c.$53=function(a){if(this.$14[a])return;this.$14[a]=this.$73()};c.setDeviceCharged=function(a){this.$39=a};c.$51=function(a,b,c){a?this.$49(c):this.$49(b)};c.$47=function(){this.$17=new Date().valueOf()};c.$44=function(){var a=b("UserAgentData").platformName,c=b("UserAgentData").browserName;window.navigator.userAgent.toLowerCase().includes("mobile")&&(a+=" Mobile",c==="Chrome"&&(c="Mobile "+c));return{device:b("UserAgentData").deviceName,os:a,os_version:b("UserAgentData").platformFullVersion,browser:c,browser_version:b("UserAgentData").browserFullVersion,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth,user_agent:window.navigator.userAgent}};c.$45=function(){window.navigator.connection!=null&&window.navigator.connection.effectiveType!=null&&this.addExtraInfo(b("FBRTCLogger").Key.CONNECTION_EFFECTIVE_TYPE,window.navigator.connection.effectiveType)};c.$46=function(){navigator.hardwareConcurrency!=null&&this.addExtraInfo(b("FBRTCLogger").Key.CPU_CORES,navigator.hardwareConcurrency),window.navigator.deviceMemory!=null&&this.addExtraInfo(b("FBRTCLogger").Key.DEVICE_MEMORY,window.navigator.deviceMemory),this.addExtraInfo(b("FBRTCLogger").Key.DEVICE_PIXEL_RATIO,window.devicePixelRatio)};c.getCallDuration=function(){var a=b("gkx")("707989");return this.$66({assumeOngoing:a})};c.getConnectedStartTime=function(){return this.$6[h.CALL_CONNECTED]?this.$6[h.CALL_CONNECTED]+this.$15:0};c.getCurrentTimeFromCallConnected=function(){var a=this.$7[h.CALL_CONNECTED];return this.$48()-a};c.getMediaMetricTracker=function(){return this.$43};c.getEndCallReason=function(){return this.$34!=null?b("FBRTCConstants").callEndReasonString(this.$34):"Unknown"};c.setRelayIP=function(a){this.$38=a};return a}();c.CANONICAL_NULL_SUMMARY=Object.freeze(c.nullSummary());c.OLDEST_SUPPORTED_SUMMARY_VERSION=19;c.CURRENT_SUMMARY_VERSION=24;c.CURRENT_CLIENT_VERSION=a();c.REPORT_KEY="reportID";e.exports=c}),null);
__d("FBRTCCallSummaryStore",["CacheStorage","FBLogger","FBRTCCallSummary","FBRTCLogger","areEqual","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="localstorage",h="RTC_CALL_SUMMARY_",i="summary",j=2e3,k=3,l=3*60*1e3,m=null;a=function(){__p&&__p();a.getInstance=function(){m||(m=new a());return m};function a(){this.$1=new(b("CacheStorage"))(g,h),this.$2=b("FBRTCLogger").getInstance()}var c=a.prototype;c.storeCallSummary=function(a,c,d){__p&&__p();if(d.isNull()){b("FBLogger")("rtweb").mustfix("Storing invalid FBRTCCallSummary!");return}var e=this;this.$3(function(b){__p&&__p();b[a]||(b[a]={});var f=b[a][c];if(f){f=e.$4(f);if(f&&f.getLastUpdatedTime()>d.getLastUpdatedTime()){e.$2.logToConsole("Outdated summaries");return null}}b[a][c]=e.$5(d);return b},e.$2.logError.bind(e.$2,a,c))};c.retrieveCallSummary=function(a,b){var c=this.getCallSummaries(),d=null;c[a]&&(d=c[a][b]);if(d)return this.$4(d);else return null};c.removeCallSummary=function(a,b){this.removeCallSummaries([{peerID:a,callID:b}])};c.removeCallSummaries=function(a){var b=this;this.$3(function(c){var d=a.length;for(var e=0;e<d;e++){var f=a[e].peerID,g=a[e].callID;c[f]&&c[f][g]&&(delete c[f][g],b.$6(c[f])&&delete c[f])}return c},this.$2.logError.bind(this.$2,null,null))};c.getLoggableSummaries=function(){var a=this.getCallSummaries(),b=[];for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c))for(var d in a[c])if(Object.prototype.hasOwnProperty.call(a[c],d)){var e=this.$4(a[c][d],l);e&&b.push(e)}return b};c.$6=function(a){for(var b in a)if(Object.prototype.hasOwnProperty.call(a,b))return!1;return!0};c.$5=function(a){a={__t:Date.now(),__d:a.toJsonString()};return a};c.$4=function(a,c){return a&&(!c||Date.now()-a.__t>=c)?b("FBRTCCallSummary").fromJsonString(a.__d):null};c.getCallSummaries=function(){var a=this.$1.get(i)||{};return a};c.$3=function(a,c,d,e){__p&&__p();d===void 0&&(d=k);(d===void 0||d===null)&&(d=k);var f=this.getCallSummaries(),g=this.getCallSummaries();f=a(f);if(f===null)return;var h=this.getCallSummaries();if(b("areEqual")(g,h))this.$1.set(i,f);else if(d>0){c("Retry lock");if(e){var l=this;b("setTimeout")(function(){l.$3(a,c,d-1,!0)},j)}else this.$3(a,c,d-1,!0)}else c("Failed to lock")};return a}();e.exports=a}),null);
__d("FBRTCCallSummaryUploader",["Banzai","FBRTCCallSummary","FBRTCCallSummaryStore"],(function(a,b,c,d,e,f){a={init:function(){var a=b("FBRTCCallSummaryStore").getInstance();b("Banzai").subscribe(b("Banzai").SEND,function(){b("FBRTCCallSummary").logSavedSummaries(a)})}};e.exports=a}),null);
__d("FBRTCConfig",["CurrentUser"],(function(a,b,c,d,e,f){__p&&__p();var g=!1,h=null,i=null,j=0,k={};a={setConfig:function(a){var b=a.isVCEndpointCall,c=a.meetingID,d=a.meetingPassword,e=a.peerID;a=a.serverConfig;g=b;h=c;i=d;j=e;k=a},isVCEndpointCall:function(){return g},getMeetingID:function(){return h},getMeetingPassword:function(){return i},getPeerID:function(){return j},statsInterpreterConfig:function(){return{bad_score_count:3,frr_weight:800,plr_weight:500,rtt_weight:2,score_threshold:1e3}},unsupportedBrowserUrl:function(){if(k.troubleshooting_urls&&k.troubleshooting_urls.unsupported_browser)return k.troubleshooting_urls.unsupported_browser;if(b("CurrentUser").isWorkUser())return"https://www.facebook.com/help/work/919532078125908";else return"https://www.facebook.com/help/211644178877843"},userMediaErrorUrl:function(){if(k.troubleshooting_urls&&k.troubleshooting_urls.user_media_error)return k.troubleshooting_urls.user_media_error;if(b("CurrentUser").isWorkUser())return"https://www.facebook.com/help/work/180714775754632";else return"https://www.facebook.com/help/232232800134371"},userMediaPermissionErrorUrl:function(){if(k.troubleshooting_urls&&k.troubleshooting_urls.user_media_permission_error)return k.troubleshooting_urls.user_media_permission_error;if(b("CurrentUser").isWorkUser())return"https://www.facebook.com/help/work/180714775754632";else return"https://www.facebook.com/help/232232800134371"},isMessengerDotCom:function(){return k.is_messenger_dot_com},useMessengerCallUI:function(){return k.messenger_call_ui},useHDVideoQuality:function(){return k.use_hd_video_quality},shouldCreateDataChannel:function(){return k.data_channel},disableURLManager:function(){return k.disable_url_manager}};e.exports=a}),null);
__d("RTWebExperiments",["FBRTCConfig","qex"],(function(a,b,c,d,e,f){"use strict";a={enableCallCollisionFix:function(){return b("FBRTCConfig").isVCEndpointCall()?!1:b("qex")._("771668")},passOfferWithWindowMessages:function(){return b("FBRTCConfig").isVCEndpointCall()?!1:b("qex")._("771669")}};e.exports=a}),null);
__d("FBRTCLocalMessageQueue",["CacheStorage","FBRTCConstants","RTWebExperiments"],(function(a,b,c,d,e,f){__p&&__p();var g="localstorage",h="RTC_",i="offer",j="offer_msg",k="data_",l=30*1e3,m=new Map(),n={STORAGE_TYPE:g,PREFIX:h,OFFER_KEY:i,OFFER_SUFFIX:j,DATA_KEY_PREFIX:k,CACHE_LIFE:l,clearQueue:function(a){m.set(a,new Map())},writePeerOfferToStorage:function(a,b){a=n.getStorage(a,j);n._storeData(a,i,b)},getPeerOfferFromStorage:function(a){a=n.getStorage(a,j);return n._getData(a,i)},clearPeerOfferFromStorage:function(a){a=n.getStorage(a,j);a.remove(i)},pluckOffer:function(a){if(b("RTWebExperiments").passOfferWithWindowMessages()){var c=m.get(a)||new Map(),d=c.get(i);c["delete"](i);return d||null}else{c=n.getPeerOfferFromStorage(a);n.clearPeerOfferFromStorage(a);return c||null}},enqueueMessage:function(a,c,d){c=k+c.toString();var e=m.get(a)||new Map();d.msg_type===b("FBRTCConstants").PayloadType.OFFER&&(c=i);e.set(c,d);m.set(a,e)},drainQueue:function(a,b){__p&&__p();var c=m.get(a)||new Map();for(var c=c,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f[0];f=f[1];b(f)}m.set(a,new Map())},_storeData:function(a,b,c){c={__t:Date.now(),__d:c};a.set(b,c)},_getData:function(a,b){var c=a.get(b);if(c&&n._isValid(c))return c.__d;else c&&a.remove(b);return null},_getAndRemoveData:function(a,b){var c=n._getData(a,b);if(c!==null){a.remove(b);return c}return null},_isValid:function(a){return Date.now()-a.__t<l},getStorage:function(a,c){return new(b("CacheStorage"))(g,""+h+a+"_"+c+"_")}};e.exports=n}),null);
__d("FBRTCSupport",["RTCConfig","UserAgent","gkx"],(function(a,b,c,d,e,f){__p&&__p();var g={isWebrtcSupported:function(){return b("UserAgent").isBrowser("Chrome >= 28")||b("UserAgent").isBrowser("Firefox >= 25")||b("UserAgent").isBrowser("Edge >= 15.15042")||b("UserAgent").isBrowser("Microsoft Edge >= 74.1")&&b("gkx")("932334")||b("UserAgent").isBrowser("Opera >= 20")||g.isSupportedSafariVersion()&&b("gkx")("875718")},isGroupCallWebtrcSupported:function(){return b("UserAgent").isBrowser("Chrome >= 28")||b("UserAgent").isBrowser("Opera >= 20")||g.isSupportedSafariVersion()&&b("gkx")("875718")},isCollabSupported:function(){return g.isWebrtcSupported()&&(!!b("RTCConfig").CollabWhitelistedBrowserGK||b("UserAgent").isBrowser("Chrome >= "+65))},canUseUnifiedPlan:function(){var a=b("gkx")("919244")&&(b("UserAgent").isBrowser("Chrome >= 73")||b("UserAgent").isBrowser("Safari >= 12.2"));return a||b("UserAgent").isBrowser("Mobile Safari >= 12.1.1")},isSupportedSafariVersion:function(){return b("UserAgent").isBrowser("Safari >= 12.1")||b("UserAgent").isBrowser("Mobile Safari >= 12.1")},isMobileDevice:function(){return b("UserAgent").isPlatform("Android")||b("UserAgent").isPlatform("iOS")},isVideoFilterEffectSupported:function(){return!g.isMobileDevice()&&(b("UserAgent").isBrowser("Chrome >= 51")||b("UserAgent").isBrowser("Opera >= 36"))},videoEscalationByUnmuteWorkaround:function(){return b("UserAgent").isBrowser("Firefox < 60")||b("UserAgent").isBrowser("Edge")},isChromiumBased:function(){return b("UserAgent").isBrowser("Chrome")||b("UserAgent").isBrowser("Opera")||b("UserAgent").isBrowser("Microsoft Edge >= 74.1")&&b("gkx")("932334")}};e.exports=g}),null);
__d("FBRTCMessageListener",["invariant","requireCond","Arbiter","Bootloader","BootloadFBMqttChannel","ChannelConstants","cr:1097014","FBRTCConstants","FBRTCLocalMessageQueue","FBRTCSupport","RTWebExperiments","gkx","guid","mixInEventEmitter","qex"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBRTCConstants").ChildWindowMessageType,i=45*1e3,j=[],k=null,l=null,m,n=null,o=null,p=!1,q=!1,r=null,s=null,t=null,u=null,v=null;a={logCheckpoint:function(a){b("Bootloader").loadModules(["RTWebUserActionLogger"],function(b){b.logCheckpoint({checkpoint:a})},"FBRTCMessageListener")},init:function(a,c){__p&&__p();var d,e=this;if(p)return;p=!0;q=a;r=c;b("cr:1097014")?this.subscribeToMqtt(b("cr:1097014")):b("BootloadFBMqttChannel").init(function(a){return e.subscribeToMqtt(a)});((d=b("qex")._("1089160"))!=null?d:!1)||b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("rtc_multi_json"),function(a,b){e._onMultiwayMessage(b.obj)});b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("onevc"),function(a,b){e._onOneVCMessage(b.obj)});if(b("FBRTCSupport").isWebrtcSupported()&&window.addEventListener){d=a?this._handleWindowMessageToChild.bind(this):this._handleWindowMessageToParent.bind(this);window.addEventListener("message",d,!1)}a&&this._connectToParentWindow(c)},subscribeToMqtt:function(a){var c,d=this;a.subscribe("/webrtc",function(a){a=JSON.parse(a);d._onMessage(a)});((c=b("qex")._("1089160"))!=null?c:!1)&&a.subscribe("/rtc_multi",function(a){a=JSON.parse(a);d._onMultiwayMessage(a)})},setParentWindowNonce:function(a){n=a},generateNewNonce:function(){o=b("guid")();return o},setMultiwayMessageHandler:function(a){s&&g(0,1011),s=a},_emit:function(a,b){this.emit(a,b)},_onMultiwayMessage:function(a){this._emit("multiwayMessageReceived",a),s&&s(a)},setOneVCMessegeHandler:function(a){t==null&&(t=a)},_onOneVCMessage:function(a){t!=null&&t(a)},setMessageHandler:function(a){k&&g(0,1013);k=a;while(j.length)k(j.shift())},removeMessageHandler:function(){k=null},removeOneVCMessageHandler:function(){t=null},setParentWindowStartCallHandler:function(a){u=a},_onMessage:function(a){a.from&&(a.from=a.from.toString()),this._emit("messageReceived",a),k?k(a):j.push(a),q||this._passOrQueueToChildWindow(a)},_connectToParentWindow:function(a){var b=this;if(window.opener&&window.opener.postMessage){a={type:h.CHILD_WINDOW_READY,nonce:n,childNonce:this.generateNewNonce(),peerID:a};var c=new MessageChannel();c.port1.onmessage=function(a){b._handleWindowMessageToChild(a,!0)};window.opener.postMessage(a,window.location.origin,[c.port2])}},_verifyWindowMessage:function(a){return Boolean(a.origin===window.location.origin&&a.data&&o!==null&&a.data.nonce===o)},_verifyPortMessage:function(a){return Boolean(o!==null&&(a==null?void 0:(a=a.data)==null?void 0:a.nonce)===o)},_handleWindowMessageToParent:function(a){__p&&__p();if(!this._verifyWindowMessage(a))return;if(a.data.type===h.CHILD_WINDOW_READY){var c=a.data,d=c.childNonce;c=c.peerID;b("gkx")("1098789")&&a.ports!=null&&Array.isArray(a.ports)&&a.ports[0]!=null&&(v=a.ports[0]);this.setParentWindowNonce(d);this._setChildWindow(a.source);this._startCallInChildWindow(c);this.generateNewNonce();this._replayQueuedMessagesToChild(c,l)}},_handleWindowMessageToChild:function(a,c){c===void 0&&(c=!1);if(c&&!this._verifyPortMessage(a)||!c&&!this._verifyWindowMessage(a))return;a.data.type===h.CHILD_WINDOW_MESSAGE&&this._onMessage(a.data.message);if(a.data.type===h.CHILD_WINDOW_START_CALL&&u){c=a.data.offer;!c&&r&&(c=b("FBRTCLocalMessageQueue").getPeerOfferFromStorage(r),c&&b("RTWebExperiments").passOfferWithWindowMessages()&&this.logCheckpoint("got_offer_from_storage_while_in_experiment"));u(c)}},_replayQueuedMessagesToChild:function(a,c){var d=this;b("FBRTCLocalMessageQueue").drainQueue(a,function(a){d._postToChildWindowMessage(c,a)})},_setChildWindow:function(a){l=a,window.clearTimeout(m),m=window.setTimeout(function(){l=null},i)},_postToChildWindowMessage:function(a,c){c={type:h.CHILD_WINDOW_MESSAGE,nonce:n,message:c};b("gkx")("1098789")&&v!=null?v.postMessage(c):a.postMessage(c,window.location.origin)},_passOrQueueToChildWindow:function(a){l&&this._postToChildWindowMessage(l,a),b("RTWebExperiments").enableCallCollisionFix()&&b("FBRTCLocalMessageQueue").enqueueMessage(a.from,a.id,a)},_startCallInChildWindow:function(a){if(l){a={type:h.CHILD_WINDOW_START_CALL,nonce:n,offer:b("RTWebExperiments").passOfferWithWindowMessages()?b("FBRTCLocalMessageQueue").pluckOffer(a):null};b("gkx")("1098789")&&v!=null?v.postMessage(a):l.postMessage(a,window.location.origin)}},listenOnce:function(a,b){this.once(a,b)}};b("mixInEventEmitter")(a,{messageReceived:!0,multiwayMessageReceived:!0});e.exports=a}),null);
__d("FBRTCMessageHandler",["Bootloader","FBRTCExperiment","FBRTCMessageListener","MessengerRTCMessageHandler"],(function(a,b,c,d,e,f){__p&&__p();var g=!1,h=!1,i=!1,j={init:function(){if(b("FBRTCExperiment").getIncomingCallExperiments().getBool("use_messenger_on_fb",!1)){b("MessengerRTCMessageHandler").init();return}j.initInternal()},initInternal:function(){h===!1&&(h=!0,b("FBRTCMessageListener").init(!1),b("FBRTCMessageListener").listenOnce("messageReceived",function(a){j.initIncomingCallController()}),b("FBRTCMessageListener").listenOnce("multiwayMessageReceived",function(a){k(a)}))},initIncomingCallController:function(){g||(g=!0,b("Bootloader").loadModules(["FBRTCIncomingCallController","FBRTCIncomingCallDialog","FBRTCMissedVideoCallHandler","FBRTCUnsupportedBrowserMessage"],function(a,c,d,e){b("FBRTCExperiment").getIncomingCallExperiments().logExposure();var f=new a(c,e,new d());b("FBRTCMessageListener").setMessageHandler(function(a){f.onMessageReceived(a)})},"FBRTCMessageHandler"))}};function k(a){i||(i=!0,b("Bootloader").loadModules(["FBRTCGroupCallIncomingController","FBRTCGroupCallIncomingDialog"],function(c,d){b("FBRTCExperiment").getIncomingCallExperiments().logExposure();var e=new c(d,!0);b("FBRTCMessageListener").setMultiwayMessageHandler(function(a){e.onMessageReceived(a)});e.onMessageReceived(a)},"FBRTCMessageHandler"))}e.exports=j}),null);
__d("WaterfallIDGenerator",["CurrentUser","md5"],(function(a,b,c,d,e,f){function g(){var a=2147483647;return Math.random()*a}function h(){return Math.floor(Date.now()/1e3)}a={generate:function(){return b("md5")([b("CurrentUser").getID(),h(),g()].join(":"))}};e.exports=a}),null);
__d("DraftJsEventsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:DraftJsEventsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:DraftJsEventsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:DraftJsEventsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAnonymizedDom=function(a){this.$1.anonymized_dom=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setExtraParams=function(a){this.$1.extra_params=a;return this};c.setScriptPath=function(a){this.$1.script_path=a;return this};c.setSelectionState=function(a){this.$1.selection_state=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={anonymized_dom:!0,event:!0,extra_params:!0,script_path:!0,selection_state:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("IgnoreMessagesTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:IgnoreMessagesLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:IgnoreMessagesLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:IgnoreMessagesLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setPlatform=function(a){this.$1.platform=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={event:!0,platform:!0,thread_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("MessengerMessageActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerMessageActionsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerMessageActionsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerMessageActionsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAction=function(a){this.$1.action=a;return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setContainermodule=function(a){this.$1.containermodule=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setEntryPoint=function(a){this.$1.entry_point=a;return this};c.setErrorText=function(a){this.$1.error_text=a;return this};c.setGroupSize=function(a){this.$1.group_size=a;return this};c.setMessageType=function(a){this.$1.message_type=a;return this};c.setMid=function(a){this.$1.mid=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setOfflineThreadid=function(a){this.$1.offline_threadid=a;return this};c.setPreviousReaction=function(a){this.$1.previous_reaction=a;return this};c.setReaction=function(a){this.$1.reaction=a;return this};c.setRecipientID=function(a){this.$1.recipient_id=a;return this};c.setThreadType=function(a){this.$1.thread_type=a;return this};c.setThreadid=function(a){this.$1.threadid=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={action:!0,appid:!0,appversion:!0,clienttime:!0,containermodule:!0,country:!0,entry_point:!0,error_text:!0,group_size:!0,message_type:!0,mid:!0,name:!0,offline_threadid:!0,previous_reaction:!0,reaction:!0,recipient_id:!0,thread_type:!0,threadid:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("MessengerMessageRequestsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerMessageRequestsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerMessageRequestsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerMessageRequestsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAction=function(a){this.$1.action=a;return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setContainermodule=function(a){this.$1.containermodule=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setEntryPoint=function(a){this.$1.entry_point=a;return this};c.setExtraClientData=function(a){this.$1.extra_client_data=a;return this};c.setFolderType=function(a){this.$1.folder_type=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};c.setThreadKey=function(a){this.$1.thread_key=a;return this};c.setThreadKeyList=function(a){this.$1.thread_key_list=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={action:!0,appid:!0,appversion:!0,clienttime:!0,containermodule:!0,country:!0,entry_point:!0,extra_client_data:!0,folder_type:!0,name:!0,surface:!0,thread_id:!0,thread_key:!0,thread_key_list:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("MessengerWebViewReactionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebViewReactionsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebViewReactionsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebViewReactionsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEmojiGroup=function(a){this.$1.emoji_group=a;return this};c.setEmojiGroupCount=function(a){this.$1.emoji_group_count=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setMid=function(a){this.$1.mid=a;return this};c.setSenderID=function(a){this.$1.sender_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={emoji_group:!0,emoji_group_count:!0,event:!0,mid:!0,sender_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("SimpleNUXMessageTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:SimpleNUXMessageLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:SimpleNUXMessageLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:SimpleNUXMessageLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventTimestamp=function(a){this.$1.event_timestamp=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setNuxMessageType=function(a){this.$1.nux_message_type=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={event:!0,event_timestamp:!0,name:!0,nux_message_type:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("StickersTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:StickersLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:StickersLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:StickersLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setNumsearchresults=function(a){this.$1.numsearchresults=a;return this};c.setPackid=function(a){this.$1.packid=a;return this};c.setPackids=function(a){this.$1.packids=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setSearchtoken=function(a){this.$1.searchtoken=a;return this};c.setStickerid=function(a){this.$1.stickerid=a;return this};c.setTagid=function(a){this.$1.tagid=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTriggeredword=function(a){this.$1.triggeredword=a;return this};c.setTriggerused=function(a){this.$1.triggerused=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={event:!0,numsearchresults:!0,packid:!0,packids:!0,searchtoken:!0,stickerid:!0,tagid:!0,time:!0,triggeredword:!0,triggerused:!0,weight:!0};e.exports=a}),null);
__d("ChatInitialDataTransformer.bs",["bs_js_dict","bs_caml_format","bs_js_primitive","MessengerServerPayloadTransformer.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.viewer,d=a.is_page,e=[],f=[],g={},h=[],i={},j=[];a.threads.forEach(function(a){__p&&__p();if(a==null)return 0;else{var k=b("MessengerServerPayloadTransformer.bs").getThreadFBID(a),l=b("MessengerServerPayloadTransformer.bs").getOtherUserID(a),m=b("MessengerServerPayloadTransformer.bs").transformThread(c,a,d);e.push(m);var n=b("MessengerServerPayloadTransformer.bs").transformMessages(c,a,d);n!==void 0&&n.forEach(function(a){f.push(a);return 0});n=b("MessengerServerPayloadTransformer.bs").getMessagePageInfo(a);n!==void 0&&(b("bs_js_primitive").valFromOption(n).has_previous_page||(k==null?l==null||j.push({type:"thread",fbid:l}):j.push({type:"thread",fbid:k})));n=b("MessengerServerPayloadTransformer.bs").transformReadReceipts(c,a);if(n!==void 0){n=b("bs_js_primitive").valFromOption(n);k==null||(g[k]=n);l==null||(g[l]=n)}k=b("MessengerServerPayloadTransformer.bs").transformDeliveryReceipts(a);if(k.length!==0){l=k[0];if(m.is_canonical){n=m.other_user_fbid;n==null||h.push({other_user_fbid:n,thread_fbid:null,time:b("bs_caml_format").caml_float_of_string(l.timestamp_precise)})}else{k=m.thread_fbid;k==null||h.push({other_user_fbid:null,thread_fbid:k,time:b("bs_caml_format").caml_float_of_string(l.timestamp_precise)})}}n=b("MessengerServerPayloadTransformer.bs").transformParticipants(a);n.forEach(function(a){i[a.fbid]=a;return 0});return 0}});return{threads:e,actions:f,roger:g,delivery_receipts:h,participants:b("bs_js_dict").values(i),end_of_history:j}}f.transform=a}),null);
__d("ChatInitialDataTransformerServerCallableWrapper",["ChatInitialDataTransformer.bs"],(function(a,b,c,d,e,f){"use strict";b("ChatInitialDataTransformer.bs"),e.exports={}}),null);
__d("ChatActivity",["Arbiter","ArbiterMixin","Event","JSLogger","MercuryConfig","PresenceState","UserActivity","mixin"],(function(a,b,c,d,e,f){__p&&__p();var g=b("MercuryConfig").activity_limit||6e4,h=b("MercuryConfig").idle_limit||18e5,i=b("MercuryConfig").idle_poll_interval||3e5,j=b("JSLogger").create("chat_activity"),k=Date.now(),l=!0;function m(){var a=Date.now();return!!(l&&a-k<g)}a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.isActive=m,b)||babelHelpers.assertThisInitialized(c)}return b}(b("mixin")(b("ArbiterMixin")));var n=new a();function o(){var a=k;k=Date.now();k-a>h&&(j.debug("idle_to_active",a),b("PresenceState").doSync());n.inform("activity")}b("Event").listen(window,"focus",function(){l=!0,o()});b("Event").listen(window,"blur",function(){l=!1});b("UserActivity").subscribe(function(){o()});function p(a){a=a&&a.at&&b("PresenceState").verifyNumber(a.at);typeof a!=="number"&&(a=null);return a||0}setInterval(function(){var a=Date.now(),c=p(b("PresenceState").get()),d=Math.max(k,c);a-d>h&&(j.debug("idle",{cookie:c,local:k}),n.inform("idle",a-d))},i);b("PresenceState").registerStateStorer(function(a){var b=p(a);b<k&&(a.at=k);return a});b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(a,b){b.chat_activity={activity_limit:g,idle_limit:h,idle_poll_interval:i,last_active_time:k}});e.exports=n}),null);
__d("ChatAnimatedGifs",["URI"],(function(a,b,c,d,e,f){__p&&__p();var g={shouldHideBody:function(a){__p&&__p();if(!a.has_attachment)return!1;for(var b=0;b<a.attachments.length;b++){var c=a.attachments[b];if(c.preview_url){c=g.getRawUrlFromSafeUrl(c.preview_url);if(a.body==c)return!0}}return!1},getRawUrlFromSafeUrl:function(a){return new(b("URI"))(a).getQueryData().url}};e.exports=g}),null);
__d("ChatAppActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")({INITIAL_DISPLAY_DONE:null,HIDE:null,LOAD:null,TTI:null,UNHIDE:null})}),null);
__d("ChatAppActions",["ChatAppActionTypes","ChatDispatcher"],(function(a,b,c,d,e,f){"use strict";a={tti:function(){b("ChatDispatcher").dispatch({type:b("ChatAppActionTypes").TTI})},hide:function(){b("ChatDispatcher").dispatch({type:b("ChatAppActionTypes").HIDE})},unhide:function(){b("ChatDispatcher").dispatch({type:b("ChatAppActionTypes").UNHIDE})},setInitialDisplayDone:function(){b("ChatDispatcher").dispatch({type:b("ChatAppActionTypes").INITIAL_DISPLAY_DONE})},load:function(){b("ChatDispatcher").dispatch({type:b("ChatAppActionTypes").LOAD})}};e.exports=a}),null);
__d("ChatAppStore",["ChatAppActionTypes","ChatDispatcher","FluxStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("ChatDispatcher"))||this;c.$ChatAppStore2={initialDisplayDone:!1,isHidden:!1,isInitialized:!1,isLoaded:!1};c.$ChatAppStore1=babelHelpers["extends"]({},c.$ChatAppStore2);return c}var d=c.prototype;d.__onDispatch=function(a){__p&&__p();a=a.type;this.$ChatAppStore1=babelHelpers["extends"]({},this.$ChatAppStore2);switch(a){case b("ChatAppActionTypes").INITIAL_DISPLAY_DONE:this.$ChatAppStore2.initialDisplayDone=!0;this.__emitChange();break;case b("ChatAppActionTypes").HIDE:this.$ChatAppStore2.isHidden=!0;this.__emitChange();break;case b("ChatAppActionTypes").UNHIDE:this.$ChatAppStore2.isHidden=!1;this.__emitChange();break;case b("ChatAppActionTypes").TTI:this.$ChatAppStore2.isInitialized=this.$ChatAppStore2.isLoaded=!0;this.__emitChange();break;case b("ChatAppActionTypes").LOAD:this.$ChatAppStore2.isLoaded=!0;this.__emitChange();break}};d.getPreviousState=function(){return this.$ChatAppStore1};d.getState=function(){return this.$ChatAppStore2};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("ChatBehavior",["Arbiter","ArbiterMixin","AvailableList","AvailableListConstants","ChatNotificationConstants","mixin"],(function(a,b,c,d,e,f){__p&&__p();var g=b("AvailableList").getWebChatNotification&&b("AvailableList").getWebChatNotification(),h=!1,i=!0;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.ON_CHANGED="changed",b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.notifiesUserMessages=function(){return g!==b("ChatNotificationConstants").NO_USER_MESSAGE_NOTIFICATION};d.ignoresRemoteTabRaise=function(){return h};d.showsTabUnreadUI=function(){return i};return c}(b("mixin")(b("ArbiterMixin")));var j=new a();function k(){j.inform(j.ON_CHANGED)}b("AvailableList").subscribe&&b("AvailableList").subscribe(b("AvailableListConstants").ON_CHAT_NOTIFICATION_CHANGED,function(){var a=g,c=b("AvailableList").getWebChatNotification();g=c;a!=c&&k()});b("Arbiter").subscribe("chat/set_does_page_occlude_tabs",function(a,b){h=!!b,k()});b("Arbiter").subscribe("chat/set_show_tab_unread_ui",function(a,b){i=!!b,k()});e.exports=j}),null);
__d("ChatBubble.react",["cx","BootloadedComponent.react","DOMDimensions","EmojiOnlyMessage.react","ErrorBoundary.react","JSResource","MercuryConfig","MercuryMessageBody.react","MercuryMessageRenderLocations","MessageReplyPermissions","MessengerMathUtils","MessengerSupportedEmojiUtils","React","ReactDOM","gkx","joinClasses","messengerCustomColorUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;var h=2;c=b("React").createClass({displayName:"ChatBubble",_boxWidth:0,_repliedToMessageRef:null,propTypes:{attachments:a.node,body:a.string,className:a.string,customColor:a.string,customLike:a.object,isEmojiLike:a.bool,isFromViewer:a.bool,maxWidth:a.number.isRequired,message:a.object,metaRanges:a.array,onReplyToMessage:a.func,ranges:a.array,threadCustomColor:a.string,threadID:a.string,isForwarded:a.bool},getInitialState:function(){return{emojis:void 0,bubbleWidth:null}},componentDidMount:function(){if(this.props.attachments&&!this.props.isEmojiLike)return;if(!this.props.emojis){var a=this.props.body||"";a=b("MessengerSupportedEmojiUtils").getEmojiOnlyContents(a);a&&a.length&&this.setState({emojis:a})}this._restyleBubble(this.props)},componentDidUpdate:function(a){(a.maxWidth!==this.props.maxWidth||a.body!==this.props.body||!a.attachments&&this.props.attachments)&&this._restyleBubble(a)},render:function(){__p&&__p();var a=this.props,c=a.attachments,d=a.body;d=d===void 0?"":d;var e=a.isForwarded,f=a.className,g=a.maxWidth;a=babelHelpers.objectWithoutPropertiesLoose(a,["attachments","body","isForwarded","className","maxWidth"]);a=Object.assign({},a);delete a.customColor;delete a.customLike;delete a.isEmojiLike;delete a.isFromViewer;delete a.message;delete a.metaRanges;delete a.ranges;delete a.threadCustomColor;delete a.threadID;return b("React").createElement("div",babelHelpers["extends"]({},a,{className:b("joinClasses")("_5w1r"+(this.state.emojis?"":" _3_om")+(this.state.emojis?" _31xx":"")+(((a=this.props)==null?void 0:(a=a.message)==null?void 0:(a=a.replied_to_message)==null?void 0:(a=a.message)==null?void 0:a.body)&&!b("MercuryConfig").SM3BD?" _1vmy":""),f),ref:"bubble",style:{maxWidth:g,width:this.state.emojis||e?null:this.state.bubbleWidth,wordWrap:d.length>=15?"break-word":"inherit"}}),b("React").createElement("div",{className:"_4gx_",ref:"inner"},this._renderContent(),c))},_renderContent:function(){if(!this.props.body||this.props.isEmojiLike)return null;var a={},c=null,d=this.props.isForwarded&&b("gkx")("1090760");this.state.emojis?c=b("React").createElement(b("EmojiOnlyMessage.react"),{contents:this.state.emojis}):(c=b("React").createElement(b("MercuryMessageBody.react"),{body:this.props.body,ranges:this.props.ranges,metaRanges:this.props.metaRanges,threadID:this.props.threadID,customLike:this.props.customLike,threadCustomColor:this.props.threadCustomColor,isFromViewer:this.props.isFromViewer,renderLocation:b("MercuryMessageRenderLocations").CHAT}),this.props.customColor&&(a=b("messengerCustomColorUtils").customBubbleStyle(this.props.customColor,a)));var e=this.props.message&&this.props.message.replied_to_message&&b("MessageReplyPermissions").bubbleContainsRepliedToMessage(this.props.message.replied_to_message,!!this.state.emojis)?b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("RepliedToMessageContent.react").__setRef("ChatBubble.react"),bootloadPlaceholder:b("React").createElement("div",null),isFromViewer:this.props.isFromViewer,isLinkified:!0,isMessengerUI:!1,repliedToMessageData:this.props.message&&this.props.message.replied_to_message,threadID:this.props.threadID,ref:this._setRepliedToMessageRef,replyInOneBubble:!0})):null;return b("React").createElement("div",{className:"_1aa6"+(this.state.emojis?" _31xy":"")+(this.props.message&&this.props.message.isSelected?" _1yok":"")+(e?" _6e7o":""),ref:"contentWrapper",style:a},e,e?"\n":null,b("React").createElement("div",{className:(d&&!this.props.isFromViewer?"_87w7":"")+(d&&this.props.isFromViewer?" _87wa":"")},b("React").createElement("span",{className:"_5yl5",ref:"content"},c)))},_restyleBubble:function(a){__p&&__p();if(this.props.attachments||this.props.body!=null&&b("MessengerMathUtils").isMathBlock(this.props.body.trim())){this.setState({bubbleWidth:null});return}var c=b("ReactDOM").findDOMNode(this.refs.bubble);if(a.maxWidth!==this.props.maxWidth||b("DOMDimensions").getElementDimensions(c).width>this.props.maxWidth){a=this.props.maxWidth;this.setState({bubbleWidth:a},this._shrinkBubble);return}this._shrinkBubble()},_shrinkBubble:function(){__p&&__p();var a=b("ReactDOM").findDOMNode(this.refs.bubble);if(!a)return;a=b("DOMDimensions").getElementDimensions(a).width;var c=b("ReactDOM").findDOMNode(this.refs.content),d=b("DOMDimensions").getElementDimensions(c).width;if(this._repliedToMessageRef){var e=b("ReactDOM").findDOMNode(this._repliedToMessageRef);e=b("DOMDimensions").getElementDimensions(e).width;d=Math.max(e,d)}e=c?d+b("DOMDimensions").measureElementBox(b("ReactDOM").findDOMNode(this.refs.contentWrapper)||{},"width",!0,!1,!1):0;c=e+h;d>0&&c<this.props.maxWidth&&a-c-this.getBoxWidth()>0&&this.setState({bubbleWidth:c})},contentWraps:function(){var a=b("ReactDOM").findDOMNode(this.refs.content);if(!a)return!1;var c=a.getClientRects();a=b("DOMDimensions").getElementDimensions(a).height;return c&&c.length>1&&c[0].height<a},_setRepliedToMessageRef:function(a){this._repliedToMessageRef=a},getBoxWidth:function(){this._boxWidth||(this._boxWidth=b("DOMDimensions").measureElementBox(b("ReactDOM").findDOMNode(this.refs.bubble)||{},"width",!0,!0,!1));return this._boxWidth}});e.exports=c}),null);
__d("ChatCodePasteUtils",["cx","BanzaiODS","ChatBubble.react","MessengerFormattingUtils","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=/`{3,}/,i=3,j=/^\s+/,k=/\s+$/;function a(a){return!!(a&&a.search(h)!==-1)}function l(a,b){__p&&__p();var c=0;if(b-2>=0){c+=a[b-2].trim().length;var d=a[b-2].match(k);d&&(c+=d[0].length)}b-1>=0&&(c+=a[b-1].length+2*i);d=a[b].match(j);d&&(c+=d[0].length);return c}function m(a,b,c){if(a)return a.map(function(a){return Object.assign(Object.assign({},a),{offset:a.offset-b})}).filter(function(a){return 0<=a.offset&&a.offset<c});else return a}function n(a){return a.length===1?{language:"",code:a[0]}:{language:a[0].replace(/[^a-zA-Z]+/g,""),code:a.slice(1).join("\n")}}function o(a){__p&&__p();var c=b("MessengerFormattingUtils").getRanges(a).filter(function(a){return a.formatter===b("MessengerFormattingUtils").formatConfigs.blockquote.formatter||a.formatter===b("MessengerFormattingUtils").formatConfigs.blockcode.formatter}).sort(function(a,b){return a.offset!==b.offset?a.offset-b.offset:b.length-a.length}),d=[],e=0,f=0;for(var g=0;g<c.length;g++){var h=c[g];if(h.offset<f)continue;h.formatter===b("MessengerFormattingUtils").formatConfigs.blockcode.formatter&&(d.push(a.substring(e,h.offset)),d.push(h.innerText),e=h.offset+h.length);f=h.offset+h.length}d.push(a.substring(e));return d}function c(a,c,d,e,f){__p&&__p();a=o(a);var g=[],h=0;for(var i=0;i<a.length;i+=2){var j=a[i].trim();if(j&&j.length>0){h+=l(a,i);var k=d?m(d,h,j.length):d;g.push(b("React").createElement("div",{key:i,className:"_1e-x _n4o"},b("React").createElement(b("ChatBubble.react"),{body:j,customColor:f||void 0,className:"clearfix _5wdf",maxWidth:c,ranges:k||void 0,threadID:e||void 0})))}if(i+1<a.length&&a[i+1]){j=a[i+1].split("\n");k=n(j);j=k.language;k=k.code;b("BanzaiODS").bumpEntityKey(2966,"chat_code_paste","render_bubble");g.push(b("React").createElement("div",{key:i+1,className:"_1e-x _n4o"},b("React").createElement("div",{ref:"bubble",className:"_3_om _4yng _5wdf"},b("React").createElement("div",{style:{maxWidth:c},ref:"syntaxTarget"+i,className:"language-"+j},k))))}}return g}e.exports={containsCodeBlock:a,getCodeAndMessageBubbles:c}}),null);
__d("ChatGroupMembershipDialogBootloader",["Bootloader","CurrentUser","MercuryIDs","React","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={bootload:function(a,c,d,e){__p&&__p();if(!d||!c)return;b("Bootloader").loadModules(["MessengerDialogs.bs","MessengerState.bs","ChatGroupMembershipDialog.react"],function(f,g,h){f.showDialog(function(){var i;return b("React").createElement(g.jsComponent,{fbid:(i=e)!=null?i:b("CurrentUser").getID()},function(e){var i=g.thread(e,d);if(i==null||i.participants==null)return null;var j=c.filter(function(a){return i.participants.includes(a.id)});return b("React").createElement(h,{blockedIDs:g.blockedIds(e),dialogShown:!0,membershipParticipants:a,onHide:f.removeAllDialogs,participants:j,thread:i,threadID:b("MercuryIDs").getThreadIDFromThreadFBID(i.thread_fbid)})})})},"ChatGroupMembershipDialogBootloader")}};e.exports=a}),null);
__d("ChatPrivacyActionController",["ChatVisibility","JSLogger","PresencePrivacy"],(function(a,b,c,d,e,f){__p&&__p();a=function a(c,d){__p&&__p();this._userID=c;this._logger=b("JSLogger").create("blackbird");this._getState=function(){return b("ChatVisibility").isOnline()?b("PresencePrivacy").allows(this._userID)?a.NORMAL:a.BLOCKED:a.OFFLINE};this._togglePrivacy=function(){__p&&__p();this._getState();switch(this._getState()){case a.OFFLINE:if(b("ChatVisibility").isOnline()){this._logger.error("tabs_already_online");break}this._logger.log("tabs_go_online",{tab_id:this._userID});b("ChatVisibility").goOnline(function(){b("PresencePrivacy").allows(this._userID)||(this._getState()!==a.BLOCKED&&this._logger.error("privacy_action_controller_blocked_inconsistency"),this._togglePrivacy())}.bind(this));break;case a.BLOCKED:b("PresencePrivacy").allow(this._userID);this._logger.log("tabs_unblock",{tab_id:this._userID});break;case a.NORMAL:b("PresencePrivacy").disallow(this._userID);this._logger.log("tabs_block",{tab_id:this._userID});break}};c=function(){d&&d(this._getState())}.bind(this);c();this._subscribeToken=b("PresencePrivacy").subscribe("privacy-changed",c)};a.OFFLINE="offline";a.BLOCKED="blocked";a.NORMAL="normal";Object.assign(a.prototype,{togglePrivacy:function(){this._logger.log("gear_menu_toggle_privacy",{tab_id:this._userID}),this._togglePrivacy()},destroy:function(){this._subscribeToken&&b("PresencePrivacy").unsubscribe(this._subscribeToken)}});e.exports=a}),null);
__d("FantaDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("ExplicitRegistrationDispatcher"));e.exports=new a({strict:!1})}),null);
__d("FantaTabActions",["Bootloader","CurrentUser","Env","FantaDispatcher","MessengerURIConstants","URI","WebMessengerThreadPermalinks","WorkGalahadSettings","WorkplaceChatHelper","goURI","ifRequired","keyMirror","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({BLUR_TAB:null,CLEAR_PAGE_INDICATOR_DESCRIPTION:null,CLOSE_ALL_TABS:null,CLOSE_AND_TAB_NEXT:null,CLOSE_TAB:null,DELETE_TAB:null,FOCUS_NEXT_TAB:null,FOCUS_PREVIOUS_TAB:null,FOCUS_TAB:null,HIGHLIGHT_NEW_MESSAGE:null,HOVERED_TAB:null,JUMP_TO_MESSAGE:null,LOAD_FROM_DATA:null,MINIMIZE_ALL_TABS:null,MINIMIZE_TAB:null,OPEN_TAB_WITH_INTERSTITIAL_DATA:null,OPEN_TAB:null,OPT_IN_OPEN_TAB_WITH_BLOCKEES:null,CLOSE_GROUP_ENTRANCE_WARNING_DIALOG:null,REPLACE_TAB:null,SCROLL_BOTTOM_CHANGED:null,SET_ALLOWED_RAISED_TABS:null,SET_MESSAGE_COUNT:null,SET_PAGE_INDICATOR_DESCRIPTION:null,SET_PERMANENT_URI:null,SHOW_UNSEEN_MESSAGES:null,UNHIGHLIGHT_NEW_MESSAGE:null,UNHOVERED_TAB:null,UNMINIMIZE_TAB:null,WIPE_JUMP_TO_MESSAGE:null,CREATE_NEW_NAMED_GROUP_CHAT:null});function h(a,c){var d=a?new(b("URI"))(b("WebMessengerThreadPermalinks").getThreadURIFromServerID(a)):new(b("URI"))(b("MessengerURIConstants").COMPOSE_SUBPATH);b("ifRequired")("BusinessURI.brands",function(a){return b("goURI")(a(d))},function(){return b("setTimeout")(function(){i.openTab(a,c)},100)})}var i={Types:g,openNewMessageTab:function(a,b,c){i.openTab(a,b,c,!0)},openTab:function(a,c,d,e,f){__p&&__p();var i=this;if(b("Env").isCQuick){b("Bootloader").loadModules(["BlueCompatRouter"],function(b){b.startChat(a||"")},"FantaTabActions");return}if(b("CurrentUser").isWorkUser()&&b("WorkGalahadSettings").isGalahadEnabled){var j=b("ifRequired")("WorkGalahadChat",function(b){b.openThreadFromThreadID(a);return!0},function(){return!1});if(j)return}b("ifRequired")("FantaTabsEagerBootloader",function(a){return a.bootload()});this.dispatchOrBootloadGetMessages(function(){b("FantaDispatcher").dispatch({type:g.OPEN_TAB,tabID:a,entryPoint:c,defaultText:d,isNewMessageTab:e,defaultPreview:f}),b("ifRequired")("FantaTabsReactApp",function(b){i._tryLoadSlimApp(a,c)},function(){i._tryLoadSlimApp(a,c,function(){return h(a,c)})})})},openInterstitialTab:function(a,c,d){var e=this;this.dispatchOrBootloadGetMessages(function(){b("FantaDispatcher").dispatch({type:g.OPEN_TAB_WITH_INTERSTITIAL_DATA,tabID:a,interstitialData:c,entryPoint:d}),b("ifRequired")("FantaTabsReactApp",function(b){e._tryLoadSlimAppWithInterstitialData(a,c,d)},function(){e._tryLoadSlimAppWithInterstitialData(a,c,d)})})},_tryLoadSlimApp:function(a,c,d){b("ifRequired")("FantaTabsSlimApp",function(d){b("ifRequired")("FantaAppStore",function(){},function(){d.getPumpedUp(function(){b("FantaDispatcher").dispatch({type:g.OPEN_TAB,tabID:a,entryPoint:c})})})},function(){return d&&d(a)})},_tryLoadSlimAppWithInterstitialData:function(a,c,d){b("ifRequired")("FantaTabsSlimApp",function(e){b("ifRequired")("FantaAppStore",function(){},function(){e.getPumpedUp(function(){b("FantaDispatcher").dispatch({type:g.OPEN_TAB_WITH_INTERSTITIAL_DATA,tabID:a,interstitialData:c,entryPoint:d})})})})},replaceTab:function(a,c){b("FantaDispatcher").dispatch({type:g.REPLACE_TAB,tabID:a,newTabID:c})},minimizeTab:function(a){b("FantaDispatcher").dispatch({type:g.MINIMIZE_TAB,tabID:a})},minimizeAllTabs:function(){b("FantaDispatcher").dispatch({type:g.MINIMIZE_ALL_TABS})},unminimizeTab:function(a){b("FantaDispatcher").dispatch({type:g.UNMINIMIZE_TAB,tabID:a})},optInOpenTabWithBlockees:function(a){b("FantaDispatcher").dispatch({type:g.OPT_IN_OPEN_TAB_WITH_BLOCKEES,tabID:a})},closeGroupEntranceWarningDialog:function(a){b("FantaDispatcher").dispatch({type:g.CLOSE_GROUP_ENTRANCE_WARNING_DIALOG,tabID:a})},closeTab:function(a){b("FantaDispatcher").dispatch({type:g.CLOSE_TAB,tabID:a})},closeAllTabs:function(){b("FantaDispatcher").dispatch({type:g.CLOSE_ALL_TABS})},closeAndTabNext:function(a){b("FantaDispatcher").dispatch({type:g.CLOSE_AND_TAB_NEXT,tabID:a})},deleteTab:function(a){b("FantaDispatcher").dispatch({type:g.DELETE_TAB,tabID:a})},focusTab:function(a){b("FantaDispatcher").dispatch({type:g.FOCUS_TAB,tabID:a})},blurTab:function(a){b("FantaDispatcher").dispatch({type:g.BLUR_TAB,tabID:a})},hoveredTab:function(a){b("FantaDispatcher").dispatch({type:g.HOVERED_TAB,tabID:a})},unhoveredTab:function(a){b("FantaDispatcher").dispatch({type:g.UNHOVERED_TAB,tabID:a})},highlightNewMessage:function(a){b("FantaDispatcher").dispatch({type:g.HIGHLIGHT_NEW_MESSAGE,tabId:a})},unhighlightNewMessage:function(a){b("FantaDispatcher").dispatch({type:g.UNHIGHLIGHT_NEW_MESSAGE,tabId:a})},setAllowedRaisedTabs:function(a){b("FantaDispatcher").dispatch({type:g.SET_ALLOWED_RAISED_TABS,allowedRaisedTabs:a})},loadFromData:function(a){if(b("WorkplaceChatHelper").suppressChatIfActiveOnDesktop())return;this.dispatchOrBootloadGetMessages(function(){a&&b("FantaDispatcher").dispatch({type:g.LOAD_FROM_DATA,tabData:a})})},focusNextTab:function(a){b("FantaDispatcher").dispatch({type:g.FOCUS_NEXT_TAB,event:a})},focusPreviousTab:function(a){b("FantaDispatcher").dispatch({type:g.FOCUS_PREVIOUS_TAB,event:a})},scrollBottomChanged:function(a,c,d){b("FantaDispatcher").dispatch({type:g.SCROLL_BOTTOM_CHANGED,isScrolledToBottom:c,tabID:a,showUnseenMessages:d})},jumpToMessage:function(a,c){b("FantaDispatcher").dispatch({type:g.JUMP_TO_MESSAGE,mid:c,tabID:a})},wipeJumpToMessage:function(a){b("FantaDispatcher").dispatch({type:g.WIPE_JUMP_TO_MESSAGE,tabID:a})},setPageIndicatorDescription:function(a,c){b("FantaDispatcher").dispatch({type:g.SET_PAGE_INDICATOR_DESCRIPTION,tabID:a,description:c})},clearPageIndicatorDescription:function(a){b("FantaDispatcher").dispatch({type:g.CLEAR_PAGE_INDICATOR_DESCRIPTION,tabID:a})},showUnseenMessages:function(a){b("FantaDispatcher").dispatch({type:g.SHOW_UNSEEN_MESSAGES,tabID:a})},setPermanentUri:function(a,c){b("FantaDispatcher").dispatch({type:g.SET_PERMANENT_URI,tabID:a,uri:c})},createNewNamedGroupChat:function(a,c){b("FantaDispatcher").dispatch({type:g.CREATE_NEW_NAMED_GROUP_CHAT,tabID:a,tokens:c})},dispatchOrBootloadGetMessages:function(a){b("ifRequired")("FantaReducersGetMessages",function(){a()},function(){b("ifRequired")("FantaAppStore",function(c){b("Bootloader").loadModules(["FantaReducersGetMessages"],function(b){c.addReducers(b),a()},"FantaTabActions")},function(){a()})})}};e.exports=i}),null);
__d("ChatTabBlinking",["cx","CSS","FantaTabActions","clearInterval","gkx","setIntervalAcrossTransitions","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("gkx")("697231")?1200:600,i="highlightTitle";a={_blinkMap:{},_interval:null,_isHighlighting:!1,blinkTab:function(a,b){this._blinkMap[a]||(this._blinkMap[a]={view:b,elem:b.getTabElem()}),this.checkInterval()},unblinkTab:function(a){if(this._blinkMap[a]){var c=this._blinkMap[a].elem;c&&(b("gkx")("697231")?b("setTimeout")(function(){b("FantaTabActions").unhighlightNewMessage(a)}):b("CSS").removeClass(c,i));delete this._blinkMap[a]}this.checkInterval()},checkInterval:function(){var a=Object.keys(this._blinkMap).length;a>0?this._interval||(this._interval=b("setIntervalAcrossTransitions")(this._toggleBlinkHighlight.bind(this),h)):this._interval&&(b("clearInterval")(this._interval),this._interval=null)},_toggleBlinkHighlight:function(){__p&&__p();var a=this;this._isHighlighting=!this._isHighlighting;var c=function(c){if(Object.prototype.hasOwnProperty.call(a._blinkMap,c)){var d=a._blinkMap[c],e=d.elem;d=d.view;e&&e.parentNode&&!d.isFocused()&&!d.isHovered()?b("gkx")("697231")?a._isHighlighting?b("setTimeout")(function(){b("FantaTabActions").highlightNewMessage(c)}):b("setTimeout")(function(){b("FantaTabActions").unhighlightNewMessage(c)}):b("CSS").conditionClass(e,i,a._isHighlighting):a.unblinkTab(c)}};for(var d in this._blinkMap)c(d)}};e.exports=a}),null);
__d("ChatTitleBarBlinker",["ChatActivity","DocumentTitle","JSLogger","MercuryThreadInformer","MercuryNotificationRenderer","PresenceState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();d=b("MercuryThreadInformer").get();var g=b("JSLogger").create("chat_title"),h=null,i=0,j=!1,k=0;function l(){if(h){h.stop();h=null;return!0}return!1}function m(a){a=a||k;i<=a&&(i=a,(l()||j)&&b("PresenceState").doSync())}f={blink:function(a,c){!h&&i<c&&(k=c,b("MercuryNotificationRenderer").renderDocumentTitle(a,function(a){h||(h=b("DocumentTitle").blink(a))}))},stopBlinking:function(){m()},blinkingElsewhere:function(){j=!0}};function n(a){a=b("PresenceState").verifyNumber(a.sb2);return!a||a<=i?null:a}function a(a){a=a&&n(a);a&&(i=a,g.debug("load",i),l(),j=!1)}function c(a){var b=n(a);b||(g.debug("store",i),a.sb2=i,j=!1);return a}b("PresenceState").registerStateStorer(c);b("PresenceState").registerStateLoader(a);d.subscribe("thread-read-changed",function(a,b){a=0;for(var c in b)b[c].mark_as_read&&b[c].timestamp>=k&&b[c].timestamp>a&&(a=b[c].timestamp);a&&m(a)});b("ChatActivity").subscribe("activity",function(){return m()});c=b("PresenceState").getInitial();c&&(i=n(c)||0);e.exports=f}),null);
__d("MessengerColors",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){b===void 0&&(b=!1);var c=100/(a.length-1);b=b?a.slice():a.slice().reverse();a=b.map(function(a,b){return a+" "+b*c+"%"}).join(",");return"radial-gradient(circle at center 75%, "+a+")"}function b(a,b,c){__p&&__p();var d={};if(a){b!=null&&b!==""?d.backgroundColor=b:d.backgroundColor=c;if(a.length&&a.length>0)if(a.length===1)d.backgroundColor=a[0];else if(a.length===2)d.backgroundImage="linear-gradient("+a[0]+", "+a[1]+")";else{var e=a.length,f=100/(e-1);e=a.map(function(a,b){return a+" "+b*f+"%"}).join(", ");d.backgroundImage="linear-gradient("+e+")"}}else b!=null&&b!==""?d.backgroundColor=b:d.backgroundColor=c;return d}e.exports={makeRadialGradient:a,makeLinearGradient:b}}),null);
__d("ChatCloseButton.react",["cx","fbt","Link.react","React","TrackingNodes","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.CLOSE_BUTTON),c=h._("Nh\u1ea5n Esc \u0111\u1ec3 \u0111\u00f3ng"),d=h._("\u0110\u00f3ng tab"),e="_4vu4";return b("React").createElement(b("Link.react"),{"aria-label":this.props.active?c:d,className:b("joinClasses")(this.props.className,"close","button",e),"data-ft":a,"data-hover":"tooltip","data-tooltip-content":this.props.active?c:d,"data-tooltip-position":"above",onClick:this.props.onClick,onKeyUp:this.props.onKeyUp,onMouseDown:this.props.onMouseDown})};return c}(b("React").PureComponent);c.propTypes={onClick:a.func,onKeyUp:a.func,onMouseDown:a.func,active:a.bool};c.defaultProps={active:!1};e.exports=c}),null);
__d("ChatCollapsedLogMessageGroup.react",["cx","fbt","Link.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={collapsed:!0},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this,c=h._("Xem ho\u1ea1t \u0111\u1ed9ng m\u1edbi nh\u1ea5t"),d=h._("\u1ea8n b\u1edbt ho\u1ea1t \u0111\u1ed9ng");return b("React").createElement("div",{className:"_5w0o"},b("React").createElement(b("Link.react"),{className:"_4ea1",onClick:function(){return a.setState({collapsed:!a.state.collapsed})}},this.state.collapsed?c:d),this.state.collapsed?null:b("React").createElement("div",null,b("React").createElement("div",{className:"_2zsu"}),this.props.children,b("React").createElement("div",{className:"_2zsu"})))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ChatComposerFlyoutButtonBootLoader.react",["AutoFocusableLink.react","JSResource","LazyComponent.react","MercuryBootloadOnInteraction.react","React"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=b("React").createElement(b("MercuryBootloadOnInteraction.react"),{component:b("React").createElement(b("LazyComponent.react"),babelHelpers["extends"]({},a,{className:a.iconClassName})),loader:b("JSResource")("MessengerComposerFlyoutButton.react").__setRef("ChatComposerFlyoutButtonBootLoader.react"),placeholder:a.renderSVGIcon?b("React").createElement(b("AutoFocusableLink.react"),{label:"flyout button",className:a.iconClassName},a.renderSVGIcon(!1)):b("React").createElement(b("AutoFocusableLink.react"),{label:"flyout button",className:a.iconClassName})});return a.excludeTag?c:b("React").createElement("li",{className:a.interactionClassName}," ",c," ")};e.exports=a}),null);
__d("ChatDateBreak.react",["cx","FBLogger","React","formatDate","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){return this.props.date.getTime()!==a.date.getTime()};d.render=function(){try{var a=b("formatDate")(this.props.date,{future:"g:ia",today:"g:ia",withinWeek:"D g:ia",thisYear:"M jS, g:ia",older:"m/d/Y g:ia"});return b("React").createElement("time",{className:b("joinClasses")(this.props.className,"_5w-5")},b("React").createElement("span",{className:"_5w-6"},a))}catch(a){b("FBLogger")("mercury").catching(a).mustfix("incorrect format in datebreak");return null}};return c}(b("React").Component);c.propTypes={date:a.instanceOf(Date).isRequired};e.exports=c}),null);
__d("FantaMessageActions",["Bootloader","CurrentUser","FantaDispatcher","MercuryIDs","MercuryLocalIDs","MercuryViewer","MessengerState.bs","emptyFunction","ifRequired","keyMirror","requireWeak","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("requireWeak")("FantaAppStore",function(a){return g=a});var h=b("keyMirror")({ADD_GROUP_PARTICIPANTS:null,ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB:null,ADD_GROUP_PARTICIPANTS_AS_REPLACE_TAB:null,CANCEL_FILE_UPLOAD:null,CANCEL_REPLY_TO_MESSAGE:null,COMPOSER_TEXT_UPDATE:null,LINK_PREVIEW:null,LOADED_SHARE_DATA:null,LOADING_SHARE_DATA:null,PREPARE_FILES_FOR_SEND:null,RECEIVED_NEW_MESSAGE:null,REMOVE_SHARE_PREVIEW:null,REPLY_TO_MESSAGE:null,SEND_GIF:null,SEND_HOT_LIKE:null,SEND_MESSAGE:null,SEND_PHOTO:null,SEND_STICKER:null,SET_NEW_GROUP_NAME_LOCALLY:null,UPDATE_GROUP_NAME:null,UPDATE_USER_INPUT_REQUESTED:null});function i(a){__p&&__p();var c=b("MercuryViewer").getID();if(!a.length)return null;a=a.filter(function(a){return a!==c});var d;if(a.length===0)return null;else a.length===1?d=b("MercuryIDs").getThreadIDFromParticipantID(a[0]):(d=b("MercuryLocalIDs").generateThreadID(),a.unshift(c),b("MessengerState.bs").createNewLocalThread(b("CurrentUser").getID(),d,a));return d}a={Types:h,prepareFilesForSend:function(a,c,d,e){var f={type:h.PREPARE_FILES_FOR_SEND,tabID:a,files:c,composer:d};this.dispatchOrBootloadUploader(function(){b("FantaDispatcher").dispatch(f),e&&e()})},replyToMessage:function(a,c){b("FantaDispatcher").dispatch({type:h.REPLY_TO_MESSAGE,threadID:c,message:a})},cancelReplyToMessage:function(a){b("FantaDispatcher").dispatch({type:h.CANCEL_REPLY_TO_MESSAGE,threadID:a})},cancelFileUpload:function(a,c){var d={type:h.CANCEL_FILE_UPLOAD,tabID:a,uploadID:c};this.dispatchOrBootloadUploader(function(){b("FantaDispatcher").dispatch(d)})},linkPreview:function(a,c){this.dispatchOrBootloadSharePreview(function(){b("FantaDispatcher").dispatch({type:h.LINK_PREVIEW,tabID:a,uri:c})})},loadedShareData:function(a,c,d){this.dispatchOrBootloadSharePreview(function(){b("FantaDispatcher").dispatch({type:h.LOADED_SHARE_DATA,tabID:a,attachmentData:c,composer:d})})},loadingShareData:function(a,c){this.dispatchOrBootloadSharePreview(function(){b("FantaDispatcher").dispatch({type:h.LOADING_SHARE_DATA,composer:c,tabID:a})})},removeSharePreview:function(a,c){this.dispatchOrBootloadSharePreview(function(){b("FantaDispatcher").dispatch({type:h.REMOVE_SHARE_PREVIEW,tabID:a,composer:c})})},receivedNewMessage:function(a,c){b("FantaDispatcher").dispatch({type:h.RECEIVED_NEW_MESSAGE,tabID:a,message:c})},updateGroupName:function(a,c){this.dispatchOrBootloadSendMessages(function(){b("FantaDispatcher").dispatch({type:h.UPDATE_GROUP_NAME,threadID:a,newName:c})})},setNewGroupNameLocally:function(a,c){this.dispatchOrBootloadSendMessages(function(){b("FantaDispatcher").dispatch({type:h.SET_NEW_GROUP_NAME_LOCALLY,threadID:a,newName:c})})},addParticipants:function(a,c){__p&&__p();var d=this;b("ifRequired")("FantaAppStore",function(e){__p&&__p();e=e.getState().mercury.tabContents.get(a);if(!e)return;var f=e.thread;e=e.typeahead;if(!e||!f)return;var h=b("MessengerState.bs").isEmptyLocalThread(b("CurrentUser").getID(),a);if(f.is_canonical_user||h){h=e.getSelectedParticipantIDs();e=f.participants;e=i(e.concat(h));e?f.is_canonical_user?d.addGroupParticipantsAsOpenTab(e,a,c):d.addGroupParticipantsAsReplaceTab(e,a,c):d.addGroupParticipant(a,c)}else d.addGroupParticipant(a,c)})},addGroupParticipant:function(a,c){this.dispatchOrBootloadSendMessages(function(){b("FantaDispatcher").dispatch({type:h.ADD_GROUP_PARTICIPANTS,threadID:a,onSendSuccess:c})})},addGroupParticipantsAsOpenTab:function(a,c,d){this.dispatchOrBootloadSendMessages(function(){b("FantaDispatcher").dispatch({type:h.ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB,fromTabID:c,onSendSuccess:d,tabID:a})})},addGroupParticipantsAsReplaceTab:function(a,c,d){this.dispatchOrBootloadSendMessages(function(){b("FantaDispatcher").dispatch({type:h.ADD_GROUP_PARTICIPANTS_AS_REPLACE_TAB,newTabID:a,onSendSuccess:d,tabID:c})})},sendMessage:function(a,c,d,e){this.dispatchOrBootloadSendMessages(function(){var f={type:h.SEND_MESSAGE,threadID:a,message:c,composer:d,onSendSuccess:e};b("FantaDispatcher").dispatch(f)})},sendPhoto:function(a,c,d){this.dispatchOrBootloadSendMessages(function(){var e={type:h.SEND_PHOTO,clearComposerOnSend:!0,onSendSuccess:d,photoData:c,threadID:a};b("FantaDispatcher").dispatch(e)})},sendGif:function(a,c,d){this.dispatchOrBootloadSendMessages(function(){var e={type:h.SEND_GIF,clearComposerOnSend:!1,onSendSuccess:d,photoData:c,threadID:a};b("FantaDispatcher").dispatch(e)})},sendHotLike:function(a,c,d,e,f){this.dispatchOrBootloadSendMessages(function(){var g={type:h.SEND_HOT_LIKE,emoji:c,onSendSuccess:f,size:d,source:e,threadID:a};b("FantaDispatcher").dispatch(g)})},sendSticker:function(a,c,d){this.dispatchOrBootloadSendMessages(function(){var e={type:h.SEND_STICKER,threadID:a,stickerID:c,onSendSuccess:d};b("FantaDispatcher").dispatch(e)})},composerTextUpdate:function(a,c,d){var e=this;c.length>0&&b("ifRequired")("FantaReducersSendMessages",b("emptyFunction"),function(){return e.dispatchOrBootloadSendMessages(b("emptyFunction"))});this.dispatchOrBootloadSharePreview(function(){b("FantaDispatcher").dispatch({type:h.COMPOSER_TEXT_UPDATE,composer:d,message:c,threadID:a})})},dispatchOrBootloadMessages:function(a){b("ifRequired")("FantaReducersMessages",function(){b("setImmediate")(a)},function(){b("Bootloader").loadModules(["FantaReducersMessages"],function(c){g&&(g.addReducers(c),b("setImmediate")(a))},"FantaMessageActions")})},dispatchOrBootloadSendMessages:function(a){b("ifRequired")("FantaReducersSendMessages",function(){b("setImmediate")(a)},function(){b("Bootloader").loadModules(["FantaReducersSendMessages"],function(c){g&&(g.addReducers(c),b("setImmediate")(a))},"FantaMessageActions")})},dispatchOrBootloadUploader:function(a){b("ifRequired")("FantaReducersFileUploader",function(){a()},function(){b("Bootloader").loadModules(["FantaReducersFileUploader"],function(b){g&&(g.addReducers(b),a())},"FantaMessageActions")})},dispatchOrBootloadSharePreview:function(a){b("ifRequired")("FantaReducersSharePreview",function(){a()},function(){b("Bootloader").loadModules(["FantaReducersSharePreview"],function(b){g&&(g.addReducers(b),a())},"FantaMessageActions")})},updateUserInputRequested:function(a,c,d){this.dispatchOrBootloadMessages(function(){b("FantaDispatcher").dispatch({type:h.UPDATE_USER_INPUT_REQUESTED,isUserInputRequested:a,requestNumResults:c,requestType:d})})}};e.exports=a}),null);
__d("MessengerDecoratorUtil",["MercuryAttachment","MercuryConfig","QE2Logger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a){return a===Object(a)},h={isEventAttachment:function(a){return this._isStoryBased(a)&&a.share.style_list.indexOf("event_reminder")>-1},isLocationAttachment:function(a){return this._isStoryBased(a)&&(a.share.style_list.indexOf("message_location")>-1||a.share.style_list.indexOf("message_live_location")>-1||a.share.style_list.indexOf("message_multiple_locations")>-1)},isP2PAttachment:function(a){var c=this;a=b("MercuryAttachment").get(a).filter(function(a){return g(a)&&c.isP2P(a)});return!!a.length},isP2P:function(a){return!!(this._isStoryBased(a)&&(a.share.style_list.indexOf("orion")>-1||a.share.style_list.indexOf("orion_request")>-1))},isNewForwardEntrypoint:function(a){var c;c=((c=a)!=null?(c=c.share)!=null?(c=c.style_list)!=null?c[0]:c:c:c)==="montage_direct";c=b("MercuryAttachment").isShareAttachment(a)&&a.share!=null&&a.share.share_id&&!h.isP2P(a)&&!h.isEventAttachment(a)&&!h.isLocationAttachment(a)&&!c&&(!a.share.target||!a.share.target.lwa_type);if(!c)return!1;b("QE2Logger").logExposureForUser("messenger_growth_www_share_flow");return b("MercuryConfig").MNFWD},_isStoryBased:function(a){return!!(a.attach_type==="share"&&a.share&&a.share.style_list)}};e.exports=h}),null);
__d("MessengerDotComAndInboxM4Check.bs",["gkx","CurrentUser","MessengerEnvironment"],(function(a,b,c,d,e,f){"use strict";a=b("gkx")("686397")&&!b("CurrentUser").isWorkUser()&&b("MessengerEnvironment").messengerui;f.yes=a}),null);
__d("MessengerReactionsContextualDialog.react",["cx","AccessibleLayer","ContextualLayerAutoFlipHorizontal","ContextualLayerHideOnScrollOut","ContextualLayerUpdateOnScroll","LayerHideOnEscape","ReactAbstractContextualDialog","ReactLayer"],(function(a,b,c,d,e,f,g){"use strict";a=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({addedBehaviors:[b("ContextualLayerAutoFlipHorizontal"),b("ContextualLayerHideOnScrollOut"),b("ContextualLayerUpdateOnScroll"),b("LayerHideOnEscape"),b("AccessibleLayer")],displayName:"MessengerReactionsContextualDialog",shouldSetARIAProperties:!1,theme:{wrapperClassName:"_4owc"}}));e.exports=a}),null);
__d("MessengerViewer",["CurrentUser","React"],(function(a,b,c,d,e,f){"use strict";e.exports=b("React").createContext(b("CurrentUser").getID())}),null);
__d("MessengerReactionsMenu.react",["cx","fbt","Promise","Bootloader","CSS","DOMContainer.react","EmojiFormat.bs","MercuryIDs","MercuryThreadActions","MessageReactionMutationWebGraphQLMutation","MessengerMessageActionsTypedLogger","MessengerReactionsContextualDialog.react","MessengerReactionsFlyoutButtonBootloader.react","MessengerReactionsUtil.bs","MessengerReactionsWebConfig","MessengerState.bs","MessengerSupportedEmojiUtils","MessengerTextWithEmoticons.react","MessengerViewer","React","XAsyncRequest","createCancelableFunction","emptyFunction","getThreadTypeNameFromThreadType","gkx","objectValues","promiseDone","qex"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MercuryThreadActions").get();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={animations:{},reactions:b("MessengerReactionsUtil.bs").defaultReactions.slice()},d.$5=function(a){a||d.props.onHide()},d.$9=function(a){d.$6(b("EmojiFormat.bs").codeArrayToUnicode(a))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;b("gkx")("678614")&&(this.$1=b("createCancelableFunction")(function(b){return a.setState({animations:b})}),b("promiseDone")(this.loadAnimations(),this.$1));this.$2()};d.UNSAFE_componentWillReceiveProps=function(a){this.$2()};d.componentWillUnmount=function(){b("objectValues")(this.state.animations).forEach(function(a){a.renderer&&typeof a.renderer.pause==="function"&&a.renderer.pause()}),this.$1&&this.$1.cancel()};d.$2=function(){var a=b("MessengerReactionsUtil.bs").defaultReactions.slice(),c=this.props.message.reactions;c=c&&c[this.context];b("qex")._("705431")&&c&&!a.includes(c)&&a.push(c);this.setState({reactions:a})};d.$3=function(){return new(b("Promise"))(function(a){return b("Bootloader").loadModules(["Keyframes"],function(b){return a(b)},"MessengerReactionsMenu.react")})};d.$4=function(){__p&&__p();return this.$3().then(function(a){return b("Promise").all(["love","haha","wow","sad","angry","thumbsup","thumbsdown"].map(function(c){return a.requestRenderer(b("MessengerReactionsWebConfig").paths[c],{projectName:"messaging_reactions",assetName:c})}))}).then(function(a){return a.map(function(a){a=a.setWidth(45).setHeight(45).repeatForever().play().redrawIfNeeded();var c=a.getElement();b("CSS").addClass(c,"_37pj");return{element:c,renderer:a}}).reduce(function(a,c,d){a[b("MessengerReactionsUtil.bs").defaultReactions[d]]=c;return a},{})})};d.loadAnimations=function(){var a=Date.now(),c=this.$4();b("promiseDone")(c,function(c){b("Bootloader").loadModules(["MessengerRestReactionTypedLogger"],function(b){new b().setLoadedTime(Date.now()-a).log()},"MessengerReactionsMenu.react")});return c};d.render=function(){var a=this,c=this.context,d=this.props.message.reactions&&this.props.message.reactions[c];return b("React").createElement(b("MessengerReactionsContextualDialog.react"),{alignment:"center",contextRef:this.props.refProp,shown:!0,onBlur:this.props.onHide,onToggle:this.$5},b("React").createElement("div",{role:"listbox","aria-orientation":"horizontal",className:"_1z8q _fy2"},this.state.reactions.map(function(c){var e=b("MessengerReactionsUtil.bs").defaultReactions.slice().includes(c);return b("React").createElement("span",{className:"_1z8r"+(c===d?" _5-2b":""),"aria-label":c,id:c,key:c,onClick:function(){return a.$6(c)},role:"option","aria-selected":c===d,tabIndex:"0"},a.state.animations[c]?b("React").createElement(b("DOMContainer.react"),null,a.state.animations[c].element):b("React").createElement(b("MessengerTextWithEmoticons.react"),{customSize:!0,forceMessengerEmoji:e,renderEmoticons:!0,renderEmoji:!0,text:c}))}),this.$7()))};d.$8=function(a){return!b("MessengerReactionsUtil.bs").defaultReactions.includes(a)?b("MessengerSupportedEmojiUtils").getSupportedEmojiKey(a):a};d.$7=function(){var a=this.props.message,c={onSelect:this.$9,getInput:b("emptyFunction")};a=a.thread_id;var d=this.state.reactions.length!==b("MessengerReactionsUtil.bs").defaultReactions.length;return b("qex")._("705431")&&!d?b("React").createElement(b("MessengerReactionsFlyoutButtonBootloader.react"),{contextRef:this.props.refProp,dialogProps:{offsetX:140,offsetY:53},flyoutAlignment:"right",flyoutProps:c,iconClassName:"_70b-",interactionClassName:"_1z8r",key:"emojireact",threadID:a,title:h._("Ch\u1ecdn bi\u1ec3u t\u01b0\u1ee3ng c\u1ea3m x\u00fac")}):null};d.$10=function(){i.markRead(this.props.message.thread_id),i.markSeen(this.props.message.thread_id)};d.$6=function(a){__p&&__p();var c=this,d=this.props,e=d.message,f=d.entryPoint,g=this.context,h=e.reactions&&e.reactions[g],i=b("MessengerState.bs").getServerMessageID(g,e.message_id);d=b("MessageReactionMutationWebGraphQLMutation").getURI({action:a===h?"REMOVE_REACTION":"ADD_REACTION",message_id:i,actor_id:g,reaction:a});var j=function(d){var j=e.other_user_fbid||e.thread_fbid,k=b("MessengerState.bs").getThreadMetaNow(g,e.thread_id),l=k&&k.participants?k.participants.length:0;k=b("getThreadTypeNameFromThreadType")(k&&k.thread_type);var m=e.attachments[0];l=new(b("MessengerMessageActionsTypedLogger"))().setAction("reaction").setOfflineThreadid(e.offline_threading_id).setMid(i).setRecipientID(b("MercuryIDs").getUserIDFromParticipantID(e.author)).setEntryPoint(f).setReaction(c.$8(a)).setPreviousReaction(c.$8(h)).setGroupSize(l).setThreadType(k).setThreadid(j);d.errorSummary&&(l=l.setErrorText(d.errorSummary.toString()));m&&(l=l.setMessageType(m.attach_type));l.log();c.$10()};new(b("XAsyncRequest"))(d).setMethod("POST").setHandler(j).send();this.props.onHide()};return c}(b("React").Component);a.contextType=b("MessengerViewer");e.exports=a}),null);
__d("MessengerReactionsPrompt.react",["cssVar","cx","fbt","ix","CurrentUser","Image.react","MessengerDotComAndInboxM4Check.bs","MessengerReactIconSVGM4React.bs","MessengerReactionsMenu.react","React","WorkChatRedesignedMessageListCheck.re","asset","tooltipPropsFor"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hover:!1,open:!1},c.$2=function(a){a.stopPropagation(),c.setState({open:!0},function(){return c.props.onShowMenu&&c.props.onShowMenu(c.state.open)}),c.props.setReactionsPromptShown&&c.props.setReactionsPromptShown(!0)},c.$3=function(){c.setState({open:!1},function(){return c.props.onShowMenu&&c.props.onShowMenu(c.state.open)}),c.props.setReactionsPromptShown&&c.props.setReactionsPromptShown(!1)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){__p&&__p();var a=this;if(!this.props.messageIsSelected&&!this.state.open)return null;var c=null;if(this.props.isEdit&&b("WorkChatRedesignedMessageListCheck.re").enabled){var d=this.state.hover||this.state.open?j("559624"):j("559623");c=b("React").createElement(b("Image.react"),{src:d})}else if(b("WorkChatRedesignedMessageListCheck.re").enabled){d=this.state.hover||this.state.open?j("895450"):j("895449");c=b("React").createElement(b("Image.react"),{src:d})}else if(this.props.isQuickAdd){d=j("278123");c=b("React").createElement(b("Image.react"),{src:d})}else if(b("CurrentUser").isWorkUser()){d=this.state.open?j("559649"):j("559648");c=b("React").createElement(b("Image.react"),{src:d})}else if(b("MessengerDotComAndInboxM4Check.bs").yes)c=b("MessengerReactIconSVGM4React.bs").make(this.state.hover?"black":"rgba(0, 0, 0, 0.34)");else{d=this.state.open?j("559646"):j("559647");c=b("React").createElement(b("Image.react"),{src:d})}d=i._("B\u00e0y t\u1ecf c\u1ea3m x\u00fac");d=b("tooltipPropsFor")(d,"above",b("WorkChatRedesignedMessageListCheck.re").enabled?"right":"center");return b("React").createElement("span",babelHelpers["extends"]({},d,{className:(this.props.isQuickAdd?"":"_5zvq")+(b("MessengerDotComAndInboxM4Check.bs").yes&&!this.props.isQuickAdd?" _7i2o":"")+(this.props.isQuickAdd?" _yav":""),onClick:this.state.open?this.$1:this.$2,onMouseEnter:function(b){return a.setState({hover:!0})},onMouseLeave:function(b){return a.setState({hover:!1})},ref:"button"}),c,this.renderMenu())};d.renderMenu=function(){var a=this;return!this.state.open?null:b("React").createElement(b("MessengerReactionsMenu.react"),{entryPoint:"awareness_plus",message:this.props.message,onHide:this.$3,refProp:function(){return a.refs.button}})};d.$1=function(a){a.stopPropagation()};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerReactions.react",["cx","fbt","Bootloader","CurrentUser","MercuryConfig","MercuryIDs","MessengerEnvironment","MessengerParticipants.bs","MessengerReactionsPrompt.react","MessengerReactionsUtil.bs","MessengerTextWithEmoticons.react","MessengerWebViewReactionsTypedLogger","React","ShimButton.react","TooltipData","WorkChatRedesignedMessageListCheck.re"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;var i="ALL",j=b("CurrentUser").getID(),k=3,l=9;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={reactionsPromptShown:!1},d.$1=function(a){d.setState({reactionsPromptShown:a})},d.$3=function(){var a=b("MessengerEnvironment").messengerui,c=d.props,e=c.isFromViewer,f=c.message,g=c.participants;c=f.reactions;new(b("MessengerWebViewReactionsTypedLogger"))().setEvent("open_details").setMid(f.message_id).setSenderID(f.author).setEmojiGroup(i).setEmojiGroupCount(Object.values(c).length).log();a?b("Bootloader").loadModules(["MessengerDialogs.bs","MessengerReactionsDialogReact.bs"],function(a,c){var d=c.jsComponent;a.showDialog(function(){return b("React").createElement(d,{isFromViewer:e,participants:g,message:f})})},"MessengerReactions.react"):b("Bootloader").loadModules(["ChatReactionsDialog"],function(a){a.show(f,g,e)},"MessengerReactions.react")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props,c=a.message,d=a.participants,e=a.hovered;a=a.renderQuickAdd;var f=c.reactions,g=c.attachments,h=g&&g.length===1&&b("MercuryConfig").MNFWD&&f&&Object.keys(f).length===0;if(h&&g[0].attach_type==="sticker")return null;if(!this.state.reactionsPromptShown&&!e&&h&&g[0].attach_type==="share")return null;if(g[0]&&g[0].attach_type==="share"&&!g[0].share)return null;if(((e=g[0])!=null?(e=e.share)!=null?(e=e.style_list)!=null?e[0]:e:e:e)==="montage_direct")return null;if((!f||!d)&&!a)return null;var i={},l=0;h=!1;Object.entries(f||{}).forEach(function(a){var b=a[0];a=a[1];typeof a==="string"&&(b===j&&(h=!0),i[a]||(i[a]=0),i[a]++,l++)});if(b("WorkChatRedesignedMessageListCheck.re").enabled&&l===0)return null;g=Object.keys(i).sort(b("MessengerReactionsUtil.bs").sortFunction).slice(0,k).map(function(c,d,a){var e=b("MessengerReactionsUtil.bs").defaultReactions.includes(c);return b("React").createElement("span",{className:"_4kf5",style:{zIndex:a.length-d,marginLeft:d===0?0:"-4px"},key:c},b("React").createElement(b("MessengerTextWithEmoticons.react"),{customSize:!0,renderEmoticons:!0,renderEmoji:!0,forceMessengerEmoji:e,text:c}))});e=l>0?b("React").createElement("span",{className:"_4kf5 _4kf6"+(h?" _fy2":"")},l):null;d=a&&!h||b("WorkChatRedesignedMessageListCheck.re").enabled?b("React").createElement("div",{className:"_aou _aov"+(b("WorkChatRedesignedMessageListCheck.re").enabled&&h?" _7w5w":"")},b("React").createElement("span",{className:"_aow"},b("React").createElement(b("MessengerReactionsPrompt.react"),{message:c,messageIsSelected:!0,isEdit:h,isQuickAdd:!0,setReactionsPromptShown:this.$1}))):null;f=b("TooltipData").propsFor(this.$2());return b("React").createElement("div",{className:"_4kf7 preview"},b("React").createElement("div",babelHelpers["extends"]({},b("WorkChatRedesignedMessageListCheck.re").enabled?{}:f,{className:"_7ef9"}),b("React").createElement(b("ShimButton.react"),babelHelpers["extends"]({"aria-label":f},b("WorkChatRedesignedMessageListCheck.re").enabled?f:{},{className:"_aou",onClick:this.$3}),g,e),d))};d.$2=function(){__p&&__p();var a=this.props.message.reactions,c=this.props.participants;if(!a||!c)return"";a=Object.keys(a);var d=a.reduce(function(a,d){if(a.length>=l+1)return a;d=b("MercuryIDs").getParticipantIDFromUserID(d);d=c.get(d)||b("MessengerParticipants.bs").getNow(d);d=d&&d.name;d&&a.push(d);return a},[]),e=d.length,f=d.join("\n");if(a.length>e){d.pop();e=h._("v\u00e0 {count} ng\u01b0\u1eddi kh\u00e1c",[h._param("count",a.length-d.length)]);f=d.join("\n")+"\n"+e.toString()}return f};return c}(b("React").Component);c.propTypes={isFromViewer:a.bool.isRequired,message:a.object.isRequired,participants:a.object,renderQuickAdd:a.bool,hovered:a.bool};e.exports=c}),null);
__d("MessengerDecorator",["cx","invariant","BootloadedComponent.react","BootloaderResource","FantaMessageActions","JSResource","MercuryAttachment","MercuryAttachmentLayoutTypeHelper","MercuryConfig","MessageReplyPermissions","MessagingTag","MessengerDecoratorUtil","MessengerEnvironment","MessengerReactions.react","QE2Logger","React","WorkChatRedesignedMessageListCheck.re","gkx","isMessengerMessageRemoved","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("lazyLoadComponent")(b("JSResource")("MessengerMessageActionItemList").__setRef("MessengerDecorator")),j=b("lazyLoadComponent")(b("JSResource")("MessengerRemovedTombstoneActionItemList").__setRef("MessengerDecorator")),k=b("lazyLoadComponent")(b("JSResource")("MessengerSavedMessageActionItemList").__setRef("MessengerDecorator")),l=b("lazyLoadComponent")(b("JSResource")("WorkChatMessageSavedDecorator.react").__setRef("MessengerDecorator")),m=b("lazyLoadComponent")(b("JSResource")("WorkChatMessageSaveAction.react").__setRef("MessengerDecorator")),n=function(a){a=a.attachments&&a.attachments.length===1&&a.attachments[0]&&a.attachments[0].attach_type!=="sticker"&&!b("MessengerDecoratorUtil").isP2PAttachment(a);return!!a},o=function(a){return n(a)&&b("MercuryAttachment").isLightweightActionAttachment(a.attachments[0])},p=function(a){var b;if((a==null?void 0:(b=a.attachments)==null?void 0:b.length)>0&&((b=a.attachments[0].share)==null?void 0:b.style_list)!=null){return((b=a.attachments[0].share)==null?void 0:b.style_list[0])==="wec_message"}else return!1},q=function(a){__p&&__p();if(s(a)||t(a)||b("isMessengerMessageRemoved")(a)||u(a))return!1;var c=r(a);a||h(0,1760);if(!c)return!1;if(b("MercuryAttachment").isPhotoGroupAttachment(c))return!0;if(b("MessengerDecoratorUtil").isNewForwardEntrypoint(c))return!0;return b("MercuryAttachment").isFileAttachment(c)&&c.message_file_fbid?!0:!1},r=function(a){var b=a.attachments&&a.attachments.length===1;return b?a.attachments[0]:null},s=function(a){return b("gkx")("676919")&&((a=a)!=null?(a=a.attachments)!=null?(a=a[0])!=null?(a=a.share)!=null?(a=a.style_list)!=null?a[0]:a:a:a:a:a)==="montage_direct"},t=function(a){return b("gkx")("1019832")&&((a=a)!=null?(a=a.attachments)!=null?(a=a[0])!=null?(a=a.share)!=null?(a=a.style_list)!=null?a[0]:a:a:a:a:a)==="montage_share"},u=function(a){return a&&a.attachments&&a.attachments.length>0&&b("MercuryAttachmentLayoutTypeHelper").isAdminType(a.attachments[0])},v=function(a){var b;a=r(a);if(!a)return!1;if(((b=a.share)==null?void 0:b.style_list)!=null){return((b=a.share)==null?void 0:b.style_list[0])==="rtc_call_log"}else return!1},w=function(a){var c=[],d=[];a.attachments.forEach(function(a){a.metadata&&a.metadata.fbid?(c.push(a.metadata.fbid.toString()),d.push(a.attach_type.toString())):a.share&&a.share.share_id&&(c.push(a.share.share_id),d.push(a.attach_type)),b("MercuryAttachment").isFileAttachment(a)&&a.message_file_fbid&&(c.push(a.message_file_fbid),d.push(a.attach_type))});return{ids:c,types:d}},x=[{name:"Saved",check:function(a,c){return b("gkx")("843916")&&a.tags!=null&&a.tags.includes("message:save")},render:function(a,c,d,e){return b("React").createElement(b("React").Suspense,{key:"saved:"+a.message_id,fallback:b("React").createElement("div",null)},b("React").createElement(l,null))},getAdditionalClassNames:function(){return"_5z-5"}},{name:"Reactions",check:function(a,c){if(s(a)||t(a)||u(a))return!1;var d=!!(a.reactions&&Object.keys(a.reactions).length>0);b("QE2Logger").logExposureForUser("messenger_growth_www_share_flow");c=!!(!c&&(b("WorkChatRedesignedMessageListCheck.re").enabled||q(a)||n(a)&&b("MercuryConfig").MNFWD));return(d||c)&&!o(a)&&!p(a)},render:function(a,c,d,e){var f=q(a)||n(a)&&b("MercuryConfig").MNFWD;return b("React").createElement(b("MessengerReactions.react"),{isFromViewer:c,key:a.message_id+"-reactions",message:a,renderQuickAdd:f&&!c,hovered:e,participants:d&&d.participants})},getAdditionalClassNames:function(){return"_5z-5"}}],y=[{name:"MontageReply",check:function(a){if(!b("MercuryConfig").MontageThreadViewer||u(a))return!1;a=a.montage_reply_data&&a.montage_reply_data.message_id;return!!a},render:function(a,c,d){d=a.montage_reply_data&&a.montage_reply_data.message_id;var e=a.montage_reply_data&&a.montage_reply_data.reply_action,f=a.montage_reply_data&&a.montage_reply_data.snippet;return b("React").createElement(b("BootloadedComponent.react"),{key:"montagereply:"+a.message_id,bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("gkx")("1031642")?b("JSResource")("MercuryMontageReplyStoryQueryContainer.react").__setRef("MessengerDecorator"):b("JSResource")("MontageReplyDecoratorContainer.react").__setRef("MessengerDecorator"),isFromViewer:c,messageID:d,replyAction:e,replyAuthorID:a.author,replySnippet:f,threadID:a.thread_id})},getAdditionalClassNames:function(){return null}},{name:"MessageReply",check:function(a){return!a.replied_to_message||u(a)?!1:b("gkx")("678600")||b("MercuryConfig").M3CRE},render:function(a,c,d){return b("React").createElement(b("BootloadedComponent.react"),{key:"messagereply:"+a.message_id,bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("JSResource")("MessageReplyDecoratorContainer.react").__setRef("MessengerDecorator"),isFromViewer:c,authorID:a.author,repliedToMessage:a.replied_to_message,threadID:a.thread_id,scrollToRepliedMessage:d&&d.scrollToRepliedMessage,customColor:d&&d.customColor,messageBody:a.body})},getAdditionalClassNames:function(){return null}},{name:"MessageForward",check:function(a){return!b("MessengerEnvironment").messengerui||!a.is_forwarded||u(a)?!1:b("gkx")("974812")},render:function(a,c,d){var e=a.attachments.length>0?a.attachments[0].attach_type:"unknown";return b("React").createElement(b("BootloadedComponent.react"),{key:"messageforward:"+a.message_id,bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("JSResource")("MessengerForwardDecoratorContainer.react").__setRef("MessengerDecorator"),isFromViewer:c,authorID:a.author,threadID:a.thread_id,customColor:d&&d.customColor,messageBody:a.body,attachmentType:e})},getAdditionalClassNames:function(){return null}}],z=[{name:"ForwardImages",check:function(a){return q(a)},render:function(a,c){var d=w(a),e=d.ids;d=d.types;return b("React").createElement(b("BootloadedComponent.react"),{key:"forwardimages:"+a.message_id,bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("MessengerEnvironment").messengerui?b("JSResource")("MessengerPhotoForwardButton.react").__setRef("MessengerDecorator"):b("JSResource")("ChatPhotoForwardButton.react").__setRef("MessengerDecorator"),attachmentIDs:e,attachmentTypes:d,isFromViewer:c})},getAdditionalClassNames:function(){return"_ylc"}},{name:"ReactionPrompt",check:function(a){return s(a)||t(a)||b("isMessengerMessageRemoved")(a)||u(a)?!1:!q(a)&&!o(a)},render:function(a,c,d){c=b("MercuryConfig").MNFWD&&n(a);return b("React").createElement(b("BootloadedComponent.react"),{key:"reactionprompt:"+a.message_id,bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("JSResource")("MessengerReactionsPrompt.react").__setRef("MessengerDecorator"),message:a,messageIsSelected:d&&d.messageIsSelected&&!c&&(!a.folder||a.folder===b("MessagingTag").INBOX),onShowMenu:d&&d.onShowMenu})},getAdditionalClassNames:function(){return null}},{name:"MessengerSaveAction",check:function(a){return b("gkx")("843916")&&!v(a)},render:function(a,c,d){return b("React").createElement(b("React").Suspense,{key:"messagesaveicon:"+a.message_id,fallback:b("React").createElement("div",null)},b("React").createElement(m,{isActive:d!=null?d.messageIsSelected&&!b("isMessengerMessageRemoved")(a):!1,message:a}))},getAdditionalClassNames:function(){return null}},{name:"MessengerUIReplyAction",check:function(a){if(t(a))return!1;return b("MessageReplyPermissions").canReplyToMessage(a)?b("MessengerEnvironment").messengerui:!1},render:function(a,c,d){return b("React").createElement(b("BootloadedComponent.react"),{key:"messagereplyaction:"+a.message_id,bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("JSResource")("MessengerMessageReplyAction.react").__setRef("MessengerDecorator"),message:a,isActive:d&&d.messageIsSelected,onReplyToMessage:d&&d.onReplyToMessage})},getAdditionalClassNames:function(){return null}},{name:"MessageActions",check:function(a){return s(a)||t(a)||u(a)?!1:!0},render:function(a,c,d){__p&&__p();var e=s(a)||t(a)?!1:(q(a)||n(a)&&b("MercuryConfig").MNFWD)&&!o(a),f=b("MessengerEnvironment").messengerui||(d==null?void 0:d.onReplyToMessage)!=null?d==null?void 0:d.onReplyToMessage:function(){return b("FantaMessageActions").replyToMessage(a,a.thread_id)};b("BootloaderResource").preload(b("JSResource")("MessengerMessageActionItemList").__setRef("MessengerDecorator"));b("BootloaderResource").preload(b("JSResource")("MessengerRemovedTombstoneActionItemList").__setRef("MessengerDecorator"));b("BootloaderResource").preload(b("JSResource")("MessengerSavedMessageActionItemList").__setRef("MessengerDecorator"));return b("React").createElement(b("BootloadedComponent.react"),{key:"messageactions:"+a.message_id,bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("JSResource")("MessengerMessageActions.react").__setRef("MessengerDecorator"),message:a,isActive:d&&d.messageIsSelected,onShowMenu:d&&d.onShowMenu,isFromViewer:c,includeReactions:e,isShowingOriginal:d&&d.isShowingOriginal,hasFormatting:d&&d.hasFormatting,onToggleOriginal:d&&d.handleToggleOriginal,onReplyToMessage:f,isSavedView:d&&d.isSavedView,renderActionItems:function(g){var h=g.closeActionList;g=g.openReactionsPopover;if(d==null?void 0:d.isSavedView)return b("React").createElement(b("React").Suspense,{key:"MessengerSavedMessageActionItemList",fallback:b("React").createElement("div",null)},b("React").createElement(k,{closeActionList:h}));else if(b("isMessengerMessageRemoved")(a))return b("React").createElement(b("React").Suspense,{key:"MessengerRemovedTombstoneActionItemList",fallback:b("React").createElement("div",null)},b("React").createElement(j,{closeActionList:h,isFromViewer:c,message:a}));else return b("React").createElement(b("React").Suspense,{key:"MessengerMessageActionItemList",fallback:b("React").createElement("div",null)},b("React").createElement(i,{closeActionList:h,hasFormatting:d&&d.hasFormatting,includeReactions:e,isFromViewer:c,isShowingOriginal:d&&d.isShowingOriginal,message:a,onReplyToMessage:f,onToggleOriginal:d&&d.handleToggleOriginal,openReactionsPopover:g}))}})},getAdditionalClassNames:function(){return null}}];a={getBeforeDecorators:function(){return y},getAfterDecorators:function(){return x},getInnerDecorators:function(){return z}};e.exports=a}),null);
__d("MessengerInnerDecorators.react",["cx","Locale","MessengerDecorator","MessengerDotComAndInboxM4Check.bs","React","WorkChatRedesignedMessageListCheck.re","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={shown:!1},c.$1=function(a){c.setState({shown:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this,c=this.props.decorators||b("MessengerDecorator").getInnerDecorators();if(this.props.isSavedView===!0)return null;c=c.map(function(b){return b.check(a.props.message)?b.render(a.props.message,a.props.isFromViewer,babelHelpers["extends"]({},a.props.messageProps,{messageIsSelected:a.props.hovered||a.state.shown,onShowMenu:a.$1,isSavedView:!1})):null}).filter(Boolean);return b("React").createElement("span",{className:"_40fu"+(b("Locale").isRTL()||this.props.forGameChat?" _64wc":""),"data-hover":"none"},b("React").createElement("span",{className:b("joinClasses")(this.props.className,"_2u_d"+(b("WorkChatRedesignedMessageListCheck.re").enabled?" _7w79":"")+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7i2j":""))},c))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerFluxReduceDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("ExplicitRegistrationReactDispatcher"));e.exports=new a({strict:!1})}),null);
__d("MessengerVideoAutoplayActions",["MessengerFluxReduceDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g="messenger_video",h=b("keyMirror")({DESTROY:null,DSTROY_ALL:null,SCROLL:null,UPDATE:null});a={Types:h,Namespace:g,onScroll:function(a,c,d,e){b("MessengerFluxReduceDispatcher").dispatch({type:h.SCROLL,namespace:g,threadID:a,messageIDs:c,messageRectMap:d,viewportRect:e})},updateStore:function(a,c){b("MessengerFluxReduceDispatcher").dispatch({type:h.UPDATE,namespace:g,threadID:a,messageIDs:c})},deleteThread:function(a){b("MessengerFluxReduceDispatcher").dispatch({type:h.DESTROY,namespace:g,threadID:a})},deleteAllThreads:function(){b("MessengerFluxReduceDispatcher").dispatch({type:h.DESTROY_ALL,namespace:g})}};e.exports=a}),null);
__d("MessengerVideoAutoplayStore",["FluxReduceStore","MessengerVideoAutoplayActions","immutable","MessengerFluxReduceDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MessengerVideoAutoplayActions").Types,h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({currentVideoMessageID:null,lastVideoMessageID:null,messageIDs:null,videoVisibilityMap:null}));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return b("immutable").Map()};d.reduce=function(a,c){if(c.namespace!==b("MessengerVideoAutoplayActions").Namespace)return a;switch(c.type){case g.SCROLL:c.messageIDs&&(a=this.$MessengerVideoAutoplayStore1(a,c.threadID,c.messageIDs));return this.$MessengerVideoAutoplayStore2(a,c.threadID,c.messageRectMap,c.viewportRect);case g.UPDATE:return this.$MessengerVideoAutoplayStore1(a,c.threadID,c.messageIDs);case g.DESTROY:return this.$MessengerVideoAutoplayStore3(a,c.threadID);case g.DESTROY_ALL:return a.clear()}return a};d.$MessengerVideoAutoplayStore1=function(a,b,c){return!c?a["delete"](b):a.set(b,new h({currentVideoMessageID:null,lastVideoMessageID:c.first(),messageIDs:c,videoVisibilityMap:null}))};d.$MessengerVideoAutoplayStore3=function(a,b){return a["delete"](b)};d.$MessengerVideoAutoplayStore4=function(a,b,c,d,e){var f=this,g=null;c=c.map(function(a){if(g)return[a,!1];else{var b=f.$MessengerVideoAutoplayStore5(a,d,e);b&&(g=a);return[a,b]}}).fromEntrySeq().toOrderedMap();return a.mergeIn([b],{currentVideoMessageID:g,videoVisibilityMap:c})};d.$MessengerVideoAutoplayStore2=function(a,b,c,d){__p&&__p();var e=a.getIn([b,"messageIDs"]);if(!e||!c||!d)return a;if(!a.getIn([b,"currentVideoMessageID"]))return this.$MessengerVideoAutoplayStore4(a,b,e,c,d);else{var f=a.getIn([b,"videoVisibilityMap"]),g=a.getIn([b,"lastVideoMessageID"]),h=a.getIn([b,"currentVideoMessageID"]);if(this.$MessengerVideoAutoplayStore5(g,c,d)){if(f&&f.first())return a}else if(this.$MessengerVideoAutoplayStore5(h,c,d))return a;a=a.setIn([b,"currentVideoMessageID"],null);return this.$MessengerVideoAutoplayStore4(a,b,e,c,d)}};d.$MessengerVideoAutoplayStore6=function(a,b){return!a?!1:a.top>b.top&&a.bottom<b.bottom};d.$MessengerVideoAutoplayStore5=function(a,b,c){b=b.get(a);return this.$MessengerVideoAutoplayStore6(b,c)};d.getVideoVisibilityMap=function(a){return this.getState().getIn([a,"videoVisibilityMap"])};d.getMessageIDs=function(a){return this.getState().getIn([a,"messageIDs"])};d.isVisible=function(a,b){return!!this.getState().getIn([a,"videoVisibilityMap",b])};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("MessengerFluxReduceDispatcher"))}),null);
__d("ChatMessage.react",["csx","cx","fbt","BootloadedComponent.react","ChatAnimatedGifs","ChatBubble.react","ChatCodePasteUtils","ChatConfig","CSS","CurrentUser","EmojiLikeUtils","ImmutableObject","JSResource","Locale","MercuryAttachment","MercuryDisplayTimeFilterMessageRenderer","MercuryErrorInfo","MercuryIDs","MercuryMessageError.react","MercuryTimestamp","MessengerDecorator","MessengerInnerDecorators.react","MessengerMessage.bs","MessengerVideoAutoplayStore","React","ReactDOM","TooltipData","XUISpinner.react","convertMIGColorToFIGColor","gkx","immutable","isRTL","joinClasses","setImmediate"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isVisible:!1,isHighlighted:!1,hovered:!1},c.$3=function(){return c.setState({hovered:!0})},c.$4=function(){return c.setState({hovered:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;b("CSS").conditionClass(b("ReactDOM").findDOMNode(this),"_2cnu",this.isOneLine());this.setState({isVisible:b("MessengerVideoAutoplayStore").isVisible(this.props.message.thread_id,this.props.message.message_id)});this.$1=b("MessengerVideoAutoplayStore").addListener(function(c){c=b("MessengerVideoAutoplayStore").isVisible(a.props.message.thread_id,a.props.message.message_id);c!==a.state.isVisible&&a.setState({isVisible:c})})};d.componentWillUnmount=function(){this.$1&&this.$1.remove()};d.isOneLine=function(){var a=this.props.message;return b("MessengerMessage.bs").isInbound(a)&&!this.refs.attachmentsInside&&this.refs.bubble&&!this.refs.bubble.contentWraps()};d.shouldComponentUpdate=function(a,b){var c=a.message!==this.props.message,d=!1,e=!1,f=this.props.thread;if(f)d=f.custom_like_icon!==a.thread.custom_like_icon,e=f.solid_color!==a.thread.solid_color;else if(a.thread)return!0;return c||d||e||b.isVisible!==this.state.isVisible||b.isHighlighted!==this.state.isHighlighted||b.hovered!==this.state.hovered};d.render=function(){__p&&__p();var a=this.props.message,c=b("MercuryAttachment").get(a).length>0,d=b("MessengerMessage.bs").isInbound(a),e=b("MercuryIDs").isGroupChat(a.thread_id),f=b("MercuryErrorInfo").hasErrorStatus(a),g=b("ChatConfig").getBool("chat_tab_has_gradients");c="_5wd4"+(d?" _1nc7":"")+(d?"":" _1nc6")+(c?" _2_-t":"")+(d&&e?" _5ysy":"")+(f?" _1zcs":"")+(this.state.isHighlighted&&!g?" _6iuj":"");var h=this.props.isFromViewer,i=[],j=a,k=this.props.thread?b("convertMIGColorToFIGColor")(this.props.thread.solid_color):"";j&&b("MessengerDecorator").getBeforeDecorators().forEach(function(a){a.check(j)&&i.push(a.render(j,h,{customColor:k}))});d=b("MercuryAttachment").get(a).filter(function(a){return!b("MercuryAttachment").isBubblePreferred(a)});e=this.$2("outside",d);return b("React").createElement("div",{className:b("joinClasses")(this.props.className,c),onMouseEnter:this.$3,onMouseLeave:this.$4},b("React").createElement("div",{className:b("joinClasses")("._1dlq","_h8t")},i,this.$5(e)),d.some(function(a){return b("MercuryAttachment").isShareAttachment(a)})?b("React").createElement(b("MessengerInnerDecorators.react"),{message:a,isFromViewer:h||!1,hovered:this.state.hovered,messageProps:this.props,forGameChat:this.props.forGameChat}):b("React").createElement("div",{className:"_40qi"+(this.state.isHighlighted&&g?" _6iuj":"")}),this.$6())};d.$5=function(a){var c=this.props.message,d={},e=b("MessengerMessage.bs").isOutbound(c);if(e||this.props.needsTimestampTooltip){var f=i._("{time}",[i._param("time",b("MercuryTimestamp").getPreciseTimestamp(c.timestamp))]);Object.assign(d,b("TooltipData").propsFor(f,e?"right":"left"))}if(c.is_filtered_content)return b("React").createElement("div",babelHelpers["extends"]({className:"_5wd9 _5wdc uiBoxYellow clearfix",ref:"inner"},d),b("MercuryDisplayTimeFilterMessageRenderer").renderFilteredContent(c));f=c.body&&c.body!==""?b("isRTL")(c.body):b("Locale").isRTL();return b("React").createElement("div",babelHelpers["extends"]({className:"_5wd9"+(f?" direction_rtl":"")+(f?"":" direction_ltr")+" clearfix",ref:"inner"},d),this.$7(!a),a)};d.$6=function(){var a=this.props.message;return a.is_filtered_content||!b("MessengerMessage.bs").hasError(a)?null:b("React").createElement("div",{className:"_3ry4",ref:"undertext"},b("React").createElement(b("MercuryMessageError.react"),{className:"_5wda clearfix",message:a,ref:"status"}),this.$8())};d.$8=function(){return this.props.message.is_spoof_warning?b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("span",null),bootloadLoader:b("JSResource")("MercurySpoofWarning.react").__setRef("ChatMessage.react"),authorID:this.props.message.author,className:"_5wdb"}):null};d.$9=function(){return b("React").createElement("div",{style:{padding:"20px",text_align:"center",background:"white"}},b("React").createElement(b("XUISpinner.react"),null))};d.$2=function(a,c){__p&&__p();var d=this;if(this.props.message.commerce_message_type==="ride_intent")return null;var e=this.props.message,f=this.props.thread?this.props.thread.custom_like_icon:null,g=a=="inside"?"attachmentsInside":"attachmentsOutside",h=this.props.thread?b("convertMIGColorToFIGColor")(this.props.thread.solid_color):"",i=[],j=[];a==="outside"&&e&&b("MessengerDecorator").getAfterDecorators().forEach(function(a){a.check(e,d.props.isFromViewer)&&(i.push(a.render(e,d.props.isFromViewer,d.props,d.state.hovered)),j.push(a.getAdditionalClassNames()))});if(c.length>0){var k=b("React").createElement(b("MessengerInnerDecorators.react"),{className:"_1z_2",message:e,isFromViewer:this.props.isFromViewer||!1,hovered:this.state.hovered,messageProps:this.props,forGameChat:this.props.forGameChat});return b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:this.$9(),bootloadLoader:b("JSResource")("MercuryAttachments.react").__setRef("ChatMessage.react"),className:b("joinClasses")((a==="outside"?"_3e7u":"")+(e.body?" _16ys":"")+(h?" _3al":"")+" _n4o"+(i?" _1a6y":""),j),attachments:c,customLike:f,customColor:h,forGameChat:this.props.forGameChat,isChat:!0,afterDecorators:i,innerDecorators:k,isVisible:this.state.isVisible,maxWidth:this.props.maxBubbleWidth,message:e,onUnwrap:this.$10,onAttachmentLoad:this.props.onAttachmentLoad,onStickerClick:this.props.onStickerClick,ref:g})}return null};d.$7=function(a){__p&&__p();var c=this,d=this.props,e=d.isFromViewer,f=d.message;d=d.thread;var g=f.body,h=b("MercuryAttachment").get(f).filter(function(a){return b("MercuryAttachment").isBubblePreferred(a)});h=this.$2("inside",h);var i=[],j=[],k=f;k&&(a&&b("MessengerDecorator").getAfterDecorators().forEach(function(a){a.check(k,e)&&(i.push(a.render(k,e,c.props)),j.push(a.getAdditionalClassNames()))}),b("MessengerDecorator").getBeforeDecorators().forEach(function(a){a.check(k,e)&&j.push(a.getAdditionalClassNames())}));var l=j.join(" ");b("ChatAnimatedGifs").shouldHideBody(f)&&(g="");var m=f.ranges;f.profile_ranges&&f.profile_ranges.length&&(m=(m||[]).concat(f.profile_ranges.map(function(a){return babelHelpers["extends"]({},a,{url:"/"+a.id})})));var n=b("CurrentUser").isWorkUser()?!1:b("ChatCodePasteUtils").containsCodeBlock(g);return(g||h)&&!b("EmojiLikeUtils").isEmojiLike(f)?b("React").createElement("div",{className:b("joinClasses")(l,"_1e-x _n4o")},n?b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("div",{style:{height:22}}),bootloadLoader:b("JSResource")("ChatCodeBubble.react").__setRef("ChatMessage.react"),body:g,maxWidth:this.props.maxBubbleWidth,ranges:m,threadID:f.thread_id,customColor:d&&e?b("convertMIGColorToFIGColor")(d.solid_color):""}):b("React").createElement("div",{className:"_3_bl"},b("React").createElement("div",{className:"_3_bp"}),b("React").createElement(b("ChatBubble.react"),{attachments:h,body:g,className:"_5wdf",isEmojiLike:!1,isFromViewer:this.props.isFromViewer,onReplyToMessage:this.props.onReplyToMessage,metaRanges:f.meta_ranges,message:f,maxWidth:this.props.maxBubbleWidth,ranges:m,ref:"bubble",threadID:f.thread_id,customLike:f.customLike,customColor:d&&e?b("convertMIGColorToFIGColor")(d.solid_color):"",threadCustomColor:d&&b("convertMIGColorToFIGColor")(d.solid_color),isForwarded:f.is_forwarded})),a?b("React").createElement(b("MessengerInnerDecorators.react"),{className:"_1z_2",message:f,isFromViewer:this.props.isFromViewer||!1,hovered:this.state.hovered,messageProps:this.props,forGameChat:this.props.forGameChat}):null,i):null};d.highlightMessage=function(){var a=this;this.setState({isHighlighted:!1});b("setImmediate")(function(){return a.setState({isHighlighted:!0})})};return c}(b("React").Component);c.propTypes={forGameChat:a.bool.isRequired,message:a.object.isRequired,maxBubbleWidth:a.number.isRequired,onAttachmentLoad:a.func,onStickerClick:a.func,participants:a.instanceOf(b("immutable").Map).isRequired,readReceipts:a.instanceOf(b("immutable").OrderedMap).isRequired,thread:a.instanceOf(b("ImmutableObject")),needsTimestampTooltip:a.bool};e.exports=c}),null);
__d("LinkReact.bs",["Link.react","ReasonReact.bs","bs_js_primitive","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){d={"aria-label":b("bs_js_null_undefined").fromOption(d),"data-ft":b("bs_js_null_undefined").fromOption(f),"data-hover":b("bs_js_null_undefined").fromOption(g),"data-tooltip-content":b("bs_js_null_undefined").fromOption(h),"data-tooltip-alignh":b("bs_js_null_undefined").fromOption(i),"data-tooltip-position":b("bs_js_null_undefined").fromOption(j),className:b("bs_js_null_undefined").fromOption(e),href:b("bs_js_null_undefined").fromOption(k),linkRef:b("bs_js_null_undefined").fromOption(l),onClick:b("bs_js_null_undefined").fromOption(m),onMouseDown:b("bs_js_null_undefined").fromOption(n),onMouseEnter:b("bs_js_null_undefined").fromOption(o),role:b("bs_js_null_undefined").fromOption(p),rel:b("bs_js_null_undefined").fromOption(q),style:b("bs_js_null_undefined").fromOption(r),tabIndex:b("bs_js_null_undefined").fromOption(s),target:b("bs_js_null_undefined").fromOption(t),title:b("bs_js_null_undefined").fromOption(u)};a!==void 0&&(d["aria-expanded"]=b("bs_js_primitive").valFromOption(a));c!==void 0&&(d["aria-hidden"]=b("bs_js_primitive").valFromOption(c));return b("ReasonReact.bs").wrapJsForReason(b("Link.react"),d,v)}f.make=a}),null);
__d("FantaProfilePresence.bs",["cx","Image.bs","React","gkx","LinkReact.bs","bs_caml_array","MercuryIDs","SplitImage.bs","ReasonReact.bs","bs_js_primitive","MessengerHoverCardLink","WorkChatAvailabilityStatusLoader","LazyWorkMultiCompanyChatTooltipReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ReasonReact.bs").statelessComponent("FantaProfilePresence");function i(a,c,d,e,f,g,i,j,k,l,m,n,o,p){__p&&__p();var q=i!==void 0?i:"",r=j!==void 0?j:!1,s=k!==void 0?k:!1;return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],function(){__p&&__p();var h=b("gkx")("697231")&&a.length>1;if(h){var i=Math.round(c/3)|0;i=c-i|0;i=b("React").createElement("div",{className:"_44yp",style:{height:c.toString()+"px",width:c.toString()+"px"}},b("React").createElement("div",{className:"_1gyw"},b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,"",void 0,void 0,b("bs_caml_array").caml_array_get(a,0),i,void 0,i,void 0,[]))),b("React").createElement("div",{className:"_1gyw",style:{borderColor:q}},b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,"",void 0,void 0,b("bs_caml_array").caml_array_get(a,1),i,void 0,i,void 0,[]))))}else i=b("ReasonReact.bs").element(void 0,void 0,b("SplitImage.bs").make(c,a,"_1gyw",e,[]));i=b("ReasonReact.bs").element(void 0,void 0,b("LinkReact.bs").make(void 0,void 0,g,"_2yg8",void 0,"tooltip",g,void 0,"right",f,void 0,o,void 0,void 0,void 0,void 0,void 0,-1,void 0,void 0,[i]));var j=l&&m!==void 0;if(j){j=b("MessengerHoverCardLink").constructEndpoint({id:m});j=b("React").cloneElement(i,{"data-hovercard":j})}else j=i;i=function(){if(n!==void 0&&m!==void 0){var a=b("bs_js_primitive").valFromOption(m),c=b("MercuryIDs").getParticipantIDFromUserID(a);c=b("bs_js_primitive").valFromOption(n).get(c);if(!(c==null)&&b("WorkChatAvailabilityStatusLoader").isLoaded())return b("WorkChatAvailabilityStatusLoader").getStoreEnforce().getDescriptionWithUserName(c.short_name,a);else return void 0}};if(s){var k=b("React").createElement("div",{className:"_466z _76q_",style:{backgroundColor:q,borderColor:q}});i=i(0);i=i!==void 0?b("React").cloneElement(k,{"data-tooltip-content":i,"data-hover":"tooltip"}):k}else i=r?b("ReasonReact.bs").element(void 0,void 0,b("LazyWorkMultiCompanyChatTooltipReact.bs").make([b("React").createElement("div",{className:"_4rwy"})])):d?b("React").createElement("div",{className:"_1gyx",style:{borderColor:q}}):null;return b("React").createElement("div",{"aria-hidden":!0,className:"_6--1"+(h?" _44yq":""),style:{height:c.toString()+"px",width:c.toString()+"px"}},j,i)},h[9],h[10],h[11],h[12]]}a=b("ReasonReact.bs").wrapReasonForJs(h,function(a){return i(a.images,a.imageSize,a.isActive,b("bs_js_primitive").nullable_to_opt(a.border),a.threadHref,a.tooltip,b("bs_js_primitive").nullable_to_opt(a.backgroundColor),a.showMultiCompany,void 0,a.isCanonical,b("bs_js_primitive").nullable_to_opt(a.threadFBID),b("bs_js_primitive").nullable_to_opt(a.participants),a.onHeaderClick,[])});f.component=h;f.make=i;f.jsComponent=a}),null);
__d("ChatMessageGroup.react",["cx","fbt","ChatConfig","ChatDateBreak.react","ChatMessage.react","ChatRemovedMessageTombstone.react","CurrentUser","FantaProfilePresence.bs","ImmutableObject","MercuryAttachmentLayoutTypeHelper","MercuryIDs","MercuryTimestamp","MessengerParticipants.bs","MessengerTextWithEmoticons.react","QE2Logger","React","ReactDOM","ShortProfiles","gkx","immutable","isMessengerMessageRemoved"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("FantaProfilePresence.bs").jsComponent;a=b("immutable").OrderedMap;c=b("React").PropTypes;var j=new(b("ImmutableObject"))({name:"",href:"#"});d=b("React").createClass({displayName:"ChatMessageGroup",propTypes:{activeMessageID:c.string,author:c.string,forGameChat:c.bool,hasDateBreak:c.bool,isCanonical:c.bool,isFromViewer:c.bool,isPageMessage:c.bool,isOnline:c.bool,maxBubbleWidth:c.number,messages:c.instanceOf(b("immutable").List).isRequired,readReceipts:c.instanceOf(a).isRequired,onAttachmentLoad:c.func,onStickerClick:c.func,persona:c.object,thread:c.instanceOf(b("ImmutableObject")),threadID:c.string},getInitialState:function(){return{participants:{}}},componentDidMount:function(){b("QE2Logger").logExposureForUser("messenger_growth_tombstone"),this._subscription=this._computeParticipants()},shouldComponentUpdate:function(a,c){return this.props.isOnline!==a.isOnline||this.props.activeMessageID!==a.activeMessageID||this.props.isFromViewer!==a.isFromViewer||!b("immutable").is(this.props.messages,a.messages)||this.state.participants!==c.participants||!b("immutable").is(this.props.thread,a.thread)},componentDidUpdate:function(a){var b=this;a=k(this.props);!this._subscription&&!a.every(function(a){return b.state.participants[a]})&&(this._subscription=this._computeParticipants())},componentWillUnmount:function(){this._subscription&&b("MessengerParticipants.bs").removeCallback(this._subscription)},render:function(){return b("React").createElement("div",{className:"_4tdt"+(this.props.isFromViewer?" _ua0":"")+(this.props.isFromViewer?"":" _ua1")+(this._containsMessageWithAdminLayoutType()?" _73iv":"")+(this._hasSeenHeadsAtBottom()?" _3lil":"")},this._renderProfileColumn(),b("React").createElement("div",{className:"_ua2"},this._renderName(),b("React").createElement("div",{className:"_4tdv"},this._renderMessages())))},_containsMessageWithAdminLayoutType:function(){return this.props.messages==null?!1:this.props.messages.some(function(a){if(a.attachments!=null&&a.attachments.length>0){a=a.attachments[0];return b("MercuryAttachmentLayoutTypeHelper").isAdminType(a)}return!1})},_renderProfileColumn:function(){__p&&__p();if(this.props.isFromViewer||this._containsMessageWithAdminLayoutType())return null;var a=this.state.participants[this.props.author]||j,c=a.name,d=a.image_src;this.props.persona&&(c=this.props.persona.name,d=this.props.persona.profile_picture_url);c=h._("{name} - {time}",[h._param("name",c),h._param("time",b("MercuryTimestamp").getPreciseTimestamp(this.props.messages.last().timestamp))]);var e=b("MercuryIDs").getUserIDFromThreadID(this.props.threadID);e=e?b("ShortProfiles").getNow(e):null;e=e&&e.is_messenger_only;var f=b("gkx")("697231")&&this.props.isOnline;f=f&&!e;e=b("CurrentUser").isWorkUser()&&((e=a)!=null?(e=e.work_foreign_entity_info)!=null?e.type:e:e)==="FOREIGN";a=this.props.persona?null:a.href;var g=this.props.thread;return b("React").createElement("div",{className:"_31o4"},b("React").createElement(i,{border:!0,imageSize:"28",images:[d],isActive:f,isCanonical:g.is_canonical,showMultiCompany:e,threadFBID:g.thread_fbid,threadHref:a,tooltip:c}))},_renderName:function(){__p&&__p();if(this.props.isCanonical&&!this.props.persona||this.props.isFromViewer)return null;var a=this.state.participants[this.props.messages.first().author];if(!a)return null;if(this.props.messages.first().replied_to_message)return null;var c=a.short_name;if(this.props.thread&&this.props.thread.custom_nickname){a=b("MercuryIDs").getUserIDFromParticipantID(a.id);this.props.thread.custom_nickname[a]&&(c=b("React").createElement(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:this.props.thread.custom_nickname[a]}))}if(this.props.persona){a=this.state.participants[this.props.messages.first().author];c=a?h._("{persona name} t\u1eeb {page name}",[h._param("persona name",this.props.persona.name),h._param("page name",a.short_name)]):this.props.persona.name}return b("React").createElement("div",{className:"_4tdx"},c)},_renderMessages:function(){__p&&__p();var a=this,c=this.props.messages.size,d=[];this.props.messages.forEach(function(e,f,g){var h=e.message_id===a.props.activeMessageID;h&&!(f===0&&a.props.hasDateBreak)&&d.push(b("React").createElement(b("ChatDateBreak.react"),{date:new Date(e.timestamp),key:"db:"+e.message_id}));if(b("isMessengerMessageRemoved")(e)){d.push(b("React").createElement(b("ChatRemovedMessageTombstone.react"),{key:e.message_id,maxBubbleWidth:a.props.maxBubbleWidth,message:e,needsTimestampTooltip:!1,participants:b("immutable").Map(a.state.participants),ref:e.message_id}));return}d.push(b("React").createElement(b("ChatMessage.react"),{forGameChat:!!a.props.forGameChat,isFromViewer:a.props.isFromViewer,key:e.message_id,maxBubbleWidth:a.props.maxBubbleWidth,message:e,participants:b("immutable").Map(a.state.participants),readReceipts:a.props.readReceipts,ref:e.message_id,nextTimestamp:a._getNextTimestamp(g,c,f),onAttachmentLoad:a.props.onAttachmentLoad,onStickerClick:a.props.onStickerClick,thread:a.props.thread,needsTimestampTooltip:!1}))});return d},_hasSeenHeadsAtBottom:function(){var a=this.props,b=a.messages,c=a.nextTimestamp;a=a.readReceipts;var d=b.last().timestamp,e=0;a.forEach(function(a){return a>=d&&a<c&&++e===2?!1:null});return e===2},_getNextTimestamp:function(a,b,c){return c<b-1?a.get(c+1).timestamp:this.props.nextTimestamp},getMessageElement:function(a){return b("ReactDOM").findDOMNode(this.refs[a])},getMessage:function(a){return this.refs[a]},_computeParticipants:function(){__p&&__p();var a=this,c=k(this.props),d={},e=[];c.forEach(function(a){var c=b("MessengerParticipants.bs").getNow(a);d[a]=c;c||e.push(a)});this.setState({participants:d});return e.length>0?b("MessengerParticipants.bs").getMulti(e,function(c){var b=a.state.participants;e.forEach(function(a){b[a]=c[a]});a._subscription=null;a.setState({participants:b})}):null}});function k(a){var b=[a.author];a.readReceipts.forEach(function(a,c){b.push(c)});return b}e.exports=d}),null);
__d("MessengerDomIDs.bs",["uniqueID"],(function(a,b,c,d,e,f){"use strict";a={COMPOSER_INPUT_DESCRIPTION:b("uniqueID")(),CONVERSATION:b("uniqueID")(),MAIN_LABEL:b("uniqueID")(),MUTE_DIALOG_TITLE:b("uniqueID")(),THREAD_INFO_PANEL:b("uniqueID")(),THREAD_TITLE:b("uniqueID")()};f.ids=a}),null);
__d("MessengerAdminGroupUtils",["fbt","CurrentUser","MercuryConfig","MercuryIDs","MessageRequestUtils","MessageThreadAssociatedObjectUtils","MessagingSourceEnum","QE2Logger","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="messenger_use_new_group_participant_suggestion_ranking",i="show_nullstate_chat_tab_group_chat",j={isJoinableAndOpenThread:function(a){return this.isJoinableThread(a)&&this.isApprovalOpenThread(a)},isJoinableAndApprovalRequiredThread:function(a){return!!(this.isJoinableThread(a)&&a&&a.approval_mode===1)},isWorkSyncedGroupChat:function(a){return!!(a==null?void 0:a.work_associated_group)},isWorkFroup:function(a){return!!(b("gkx")("678597")&&a&&a.is_thread_queue_enabled===!0&&a.joinable_mode&&a.joinable_mode.mode===1&&b("MessageThreadAssociatedObjectUtils").isLinkedToGroupChat(a.associated_object))},isWorkSyncedChatThreadCreationMessage:function(a){return!!(a.log_message_data&&a.log_message_data.name&&a.tags&&(a.tags.indexOf(b("MessagingSourceEnum").WORK_GROUP_SYNCED_CHAT_CREATION)!==-1||a.tags.indexOf(b("MessagingSourceEnum").WORK_DEFAULT_GROUP_SYNCED_CHAT_CREATION)!==-1))},isWorkSyncedChatThreadMemberSyncMessage:function(a){return!!(a.tags&&a.tags.indexOf(b("MessagingSourceEnum").WORK_GROUP_SYNCED_CHAT_MEMBER_SYNC)!==-1)},shouldAddToApprovalQueue:function(a,b){return!!(this.isJoinableAndApprovalRequiredThread(a)&&a&&!j.isAdmin(a.admins,b))},isJoinableThread:function(a){return!!(b("gkx")("678598")&&a&&a.is_thread_queue_enabled===!0&&a.joinable_mode&&a.joinable_mode.mode===1)},isGroupChat:function(a){return!!(a&&b("MessageThreadAssociatedObjectUtils").isLinkedToGroupChat(a.associated_object))},shouldInvite:function(a){return!!(b("gkx")("678598")&&a&&a.participant_add_mode==="INVITE")},isApprovalOpenThread:function(a){return!!((b("CurrentUser").isWorkUser()||b("gkx")("678598"))&&a&&a.approval_mode===0)},isAdminRequired:function(a){return!!(a&&a.admin_model_status==="required")},isOwner:function(a,b){return a&&(this.isJoinableThread(b)||this.isAdminRequired(b))},canSeeJoinableGroupOptions:function(a,c){var d=b("CurrentUser").isWorkUser(),e=j.showJoinableApprovalToggle(a,c);c=j.showApprovalQueue(a,c);return!d&&this.isJoinableThread(a)&&(c||e)},canSeeGroupOptionsSection:function(a,c){c=this.isAdmin(a.admins,c);var d=b("MessageRequestUtils").isMessageRequest(a);return c&&this.isAdminRequired(a)&&!d},canSeeBotsInGroupTypeahead:function(){return b("CurrentUser").isWorkUser()},canMakeOthersAdmins:function(a,b,c){return this.isOwner(a,c)&&!b},canMakeSelfAdmin:function(a,b){return(this.isJoinableThread(b)||this.isAdminRequired(b))&&Object.keys(b.admins).length===0&&a},canRemoveAdmin:function(a,b,c,d){if(this.isAdminRequired(d)&&Object.keys(d.admins).length===1)return!1;switch(c){case 2:return!1;default:return this.isOwner(a,d)&&b}},canRemoveFromGroup:function(a,b,c){switch(b){case 2:return!1;default:return this.isAdminRequired(c)||this.isWorkFroup(c)?a:this.isOwner(a,c)||!this.isJoinableThread(c)}},showJoinableApprovalToggle:function(a,b){if(a.associated_object&&!a.associated_object.approval_mode_toggleable)return!1;b=j.isAdmin(a.admins,b);return j.isOwner(b,a)},showApprovalQueue:function(a,b){b=j.isAdmin(a.admins,b);b=j.isOwner(b,a);var c=this.getPendingRequestNumber(a);if(a&&this.isAdminRequired(a))return this.isAdminRequired(a)&&b&&c>0;else{a=j.isJoinableAndApprovalRequiredThread(a);return a&&b&&c>0}},showParticipantsModal:function(a,b,c){return this.isJoinableThread(c)&&!a&&!b},useNewGroupMemberSuggestionRanking:function(){b("QE2Logger").logExposureForUser(h);return b("MercuryConfig").MNGPS},showDefaultListForNewPersonAddChatTab:function(){b("QE2Logger").logExposureForUser(i);return b("MercuryConfig").ChatGroupChat},showDefaultListForNewChatTab:function(){return b("MercuryConfig").ChatComposer},canUpdateThreadCustomization:function(a,c){var d=j.isJoinableThread(a);c=j.isAdmin(a.admins,c);var e=b("MessageRequestUtils").isMessageRequest(a);return a.is_subscribed&&!e&&(!d||c)},canUpdateThreadDescription:function(a,c){var d=j.isJoinableThread(a);c=j.isAdmin(a.admins,c);var e=j.isWorkSyncedGroupChat(a);if(e)return c;e=b("MessageRequestUtils").isMessageRequest(a);return a.is_subscribed&&!e&&(!d||c)},isAdmin:function(a,c){if(!a)return!1;if(b("MercuryIDs").isValid(c)){var d=b("MercuryIDs").getUserIDFromParticipantID(c);return!!d&&a[d]!==void 0}return a[c]!==void 0},getLeaveGroupBodyText:function(a,b){a=this.isOwner(a,b);var c=j.isWorkSyncedGroupChat(b);return!c?a?g._("R\u1eddi kh\u1ecfi nh\u00f3m n\u00e0y s\u1ebd x\u00f3a b\u1ea1n kh\u1ecfi t\u01b0 c\u00e1ch ch\u1ee7 s\u1edf h\u1eefu v\u00e0 cho ph\u00e9p c\u00e1c th\u00e0nh vi\u00ean kh\u00e1c qu\u1ea3n l\u00fd nh\u00f3m. B\u1ea1n s\u1ebd kh\u00f4ng th\u1ec3 g\u1eedi ho\u1eb7c nh\u1eadn tin nh\u1eafn m\u1edbi n\u1eefa."):g._("B\u1ea1n s\u1ebd ng\u1eebng nh\u1eadn tin nh\u1eafn t\u1eeb cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y v\u00e0 m\u1ecdi ng\u01b0\u1eddi s\u1ebd th\u1ea5y b\u1ea1n \u0111\u00e3 r\u1eddi \u0111i."):a?b.participants.length===1?g._("B\u1ea1n c\u00f3 ch\u1eafc ch\u1eafn mu\u1ed1n r\u1eddi kh\u1ecfi nh\u00f3m n\u00e0y kh\u00f4ng? V\u00ec b\u1ea1n l\u00e0 th\u00e0nh vi\u00ean cu\u1ed1i c\u00f9ng n\u00ean n\u1ebfu r\u1eddi kh\u1ecfi b\u00e2y gi\u1edd th\u00ec nh\u00f3m s\u1ebd kh\u00f4ng c\u00f2n n\u1eefa."):g._("Khi r\u1eddi kh\u1ecfi nh\u00f3m n\u00e0y, b\u1ea1n s\u1ebd b\u1ecb x\u00f3a t\u01b0 c\u00e1ch ch\u1ee7 s\u1edf h\u1eefu v\u00e0 nh\u1eefng ng\u01b0\u1eddi kh\u00e1c c\u00f3 th\u1ec3 qu\u1ea3n l\u00fd cu\u1ed9c tr\u00f2 chuy\u1ec7n. B\u1ea1n s\u1ebd kh\u00f4ng th\u1ec3 g\u1eedi ho\u1eb7c nh\u1eadn tin nh\u1eafn m\u1edbi n\u1eefa. B\u1ea1n c\u0169ng s\u1ebd b\u1ecb x\u00f3a kh\u1ecfi nh\u00f3m."):g._("B\u1ea1n s\u1ebd kh\u00f4ng nh\u1eadn \u0111\u01b0\u1ee3c tin nh\u1eafn t\u1eeb cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y v\u00e0 m\u1ecdi ng\u01b0\u1eddi s\u1ebd bi\u1ebft b\u1ea1n \u0111\u00e3 r\u1eddi \u0111i. B\u1ea1n c\u0169ng s\u1ebd b\u1ecb x\u00f3a kh\u1ecfi nh\u00f3m.")},getLeaveGroupTitleText:function(a,b){return j.isWorkSyncedGroupChat(b)?b.participants.length===1?g._("X\u00f3a nh\u00f3m v\u00e0 \u0111o\u1ea1n chat?"):g._("R\u1eddi kh\u1ecfi nh\u00f3m v\u00e0 \u0111o\u1ea1n chat?"):this.isOwner(a,b)?g._("R\u1eddi kh\u1ecfi cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y?"):g._("R\u1eddi kh\u1ecfi cu\u1ed9c tr\u00f2 chuy\u1ec7n?")},getLeaveGroupButtonText:function(a,b){return this.isOwner(a,b)?b.participants.length===1?g._("R\u1eddi kh\u1ecfi v\u00e0 x\u00f3a nh\u00f3m"):g._("R\u1eddi kh\u1ecfi cu\u1ed9c tr\u00f2 chuy\u1ec7n"):g._("R\u1eddi kh\u1ecfi")},getMakeOwnerBodyText:function(a,b,c){if(a)return b?g._("L\u00e0 qu\u1ea3n tr\u1ecb vi\u00ean nh\u00f3m, b\u1ea1n qu\u1ea3n l\u00fd \u0111\u01b0\u1ee3c ng\u01b0\u1eddi c\u00f3 th\u1ec3 tham gia v\u00e0 t\u00f9y ch\u1ec9nh cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y."):g._("L\u00e0 qu\u1ea3n tr\u1ecb vi\u00ean nh\u00f3m, \"{owner's name}\" c\u00f3 th\u1ec3 qu\u1ea3n l\u00fd ng\u01b0\u1eddi c\u00f3 th\u1ec3 tham gia v\u00e0 t\u00f9y ch\u1ec9nh cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y.",[g._param("owner's name",c)]);else return b?g._("V\u1edbi t\u01b0 c\u00e1ch l\u00e0 ch\u1ee7 s\u1edf h\u1eefu nh\u00f3m, b\u1ea1n c\u00f3 th\u1ec3 qu\u1ea3n l\u00fd quy\u1ec1n s\u1edf h\u1eefu nh\u00f3m v\u00e0 x\u00f3a th\u00e0nh vi\u00ean kh\u1ecfi cu\u1ed9c tr\u00f2 chuy\u1ec7n. Ch\u1ec9 ch\u1ee7 s\u1edf h\u1eefu m\u1edbi c\u00f3 th\u1ec3 th\u00eam c\u00e1c ch\u1ee7 s\u1edf h\u1eefu kh\u00e1c."):g._("V\u1edbi t\u01b0 c\u00e1ch l\u00e0 ch\u1ee7 s\u1edf h\u1eefu nh\u00f3m, \"{owner's name}\" c\u00f3 th\u1ec3 qu\u1ea3n l\u00fd quy\u1ec1n s\u1edf h\u1eefu nh\u00f3m v\u00e0 x\u00f3a th\u00e0nh vi\u00ean kh\u1ecfi cu\u1ed9c tr\u00f2 chuy\u1ec7n. H\u1ecd c\u00f3 th\u1ec3 g\u1ee1 quy\u1ec1n s\u1edf h\u1eefu kh\u1ecfi c\u00e1c ch\u1ee7 s\u1edf h\u1eefu kh\u00e1c.",[g._param("owner's name",c)])},getMakeOwnerTitleText:function(a,b){if(a)return b?g._("Tr\u1edf th\u00e0nh qu\u1ea3n tr\u1ecb vi\u00ean nh\u00f3m?"):g._("Th\u00eam qu\u1ea3n tr\u1ecb vi\u00ean nh\u00f3m?");else return b?g._("Tr\u1edf th\u00e0nh ch\u1ee7 s\u1edf h\u1eefu nh\u00f3m?"):g._("Th\u00eam ch\u1ee7 s\u1edf h\u1eefu nh\u00f3m?")},getMakeOwnerButtonText:function(a,b){if(a)return b?g._("Tr\u1edf th\u00e0nh qu\u1ea3n tr\u1ecb vi\u00ean"):g._("Ch\u1ec9 \u0111\u1ecbnh l\u00e0m qu\u1ea3n tr\u1ecb vi\u00ean");else return b?g._("Tr\u1edf th\u00e0nh ch\u1ee7 s\u1edf h\u1eefu"):g._("\u0110\u1eb7t l\u00e0m ch\u1ee7 s\u1edf h\u1eefu")},getRemoveOwnerBodyText:function(a,b,c,d){if(b&&c)return a?null:g._("B\u1ea1n s\u1ebd kh\u00f4ng th\u1ec3 qu\u1ea3n l\u00fd quy\u1ec1n s\u1edf h\u1eefu nh\u00f3m v\u00e0 x\u00f3a th\u00e0nh vi\u00ean kh\u1ecfi cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y n\u1eefa. B\u1ea1n v\u1eabn s\u1ebd l\u00e0 ng\u01b0\u1eddi tham gia nh\u00f3m. B\u1ea5t k\u1ef3 th\u00e0nh vi\u00ean n\u00e0o kh\u00e1c \u0111\u1ec1u c\u00f3 th\u1ec3 s\u1edf h\u1eefu nh\u00f3m.");else if(b&&!c)return a?g._("B\u1ea1n s\u1ebd qu\u1ea3n l\u00fd \u0111\u01b0\u1ee3c ng\u01b0\u1eddi c\u00f3 th\u1ec3 tham gia v\u00e0 t\u00f9y ch\u1ec9nh cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y n\u1eefa."):g._("B\u1ea1n s\u1ebd kh\u00f4ng th\u1ec3 qu\u1ea3n l\u00fd quy\u1ec1n s\u1edf h\u1eefu nh\u00f3m v\u00e0 x\u00f3a th\u00e0nh vi\u00ean kh\u1ecfi cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y n\u1eefa. B\u1ea1n v\u1eabn s\u1ebd l\u00e0 ng\u01b0\u1eddi tham gia nh\u00f3m.");else return a?g._("\"{owner's name}\" s\u1ebd kh\u00f4ng qu\u1ea3n l\u00fd \u0111\u01b0\u1ee3c ng\u01b0\u1eddi c\u00f3 th\u1ec3 tham gia v\u00e0 t\u00f9y ch\u1ec9nh cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y n\u1eefa.",[g._param("owner's name",d)]):g._("\"{owner's name}\" s\u1ebd kh\u00f4ng th\u1ec3 qu\u1ea3n l\u00fd quy\u1ec1n s\u1edf h\u1eefu nh\u00f3m v\u00e0 x\u00f3a th\u00e0nh vi\u00ean kh\u1ecfi cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u1eefa. H\u1ecd v\u1eabn s\u1ebd l\u00e0 ng\u01b0\u1eddi tham gia nh\u00f3m.",[g._param("owner's name",d)])},getRemoveOwnerTitleText:function(a){return a?g._("G\u1ee1 t\u01b0 c\u00e1ch qu\u1ea3n tr\u1ecb vi\u00ean nh\u00f3m?"):g._("G\u1ee1 t\u01b0 c\u00e1ch ch\u1ee7 s\u1edf h\u1eefu nh\u00f3m?")},getRemoveOwnerButtonText:function(a){return a?g._("X\u00f3a"):g._("X\u00f3a ch\u1ee7 s\u1edf h\u1eefu")},getPendingRequestNumber:function(a){if(a&&a.approval_queue_ids&&a.approval_queue_ids.length)return a.approval_queue_ids.length;else if(a&&this.isAdminRequired(a)&&a.group_approval_queue&&a.group_approval_queue.length)return a.group_approval_queue.length;return 0}};e.exports=j}),null);
__d("ChatConversation.react",["ChatCollapsedLogMessageGroup.react","ChatDateBreak.react","ChatMessageGroup.react","ChatMessageList.react","MercuryIDs","MercuryLogMessageContainer.react","MercuryShareAttachmentRenderLocations","MessengerReadReceipt.bs","React","cancelAnimationFrame","clearTimeout","immutable","requestAnimationFrame","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("immutable").OrderedMap;a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=b("requestAnimationFrame")(function(){a.$2=b("setTimeout")(function(){a.props.onMount&&a.props.onMount(),delete a.$2},0),delete a.$1})};d.componentWillUnmount=function(){this.$1&&b("cancelAnimationFrame")(this.$1),b("clearTimeout")(this.$2)};d.render=function(){return b("React").createElement("div",null,this.props.contextBanner,b("React").createElement(b("ChatMessageList.react"),{DateBreak:b("ChatDateBreak.react"),forGameChat:this.props.forGameChat,LogMessage:b("MercuryLogMessageContainer.react"),MessageGroup:b("ChatMessageGroup.react"),deliveryTimestamp:0,isCanonical:this.props.isCanonical,location:b("MercuryShareAttachmentRenderLocations").CHAT,loadMoreMessages:this.props.loadMoreMessages,maxBubbleWidth:this.props.maxBubbleWidth,CollapsedLogMessageGroup:b("ChatCollapsedLogMessageGroup.react"),messages:this.props.messages,onAttachmentLoad:this.props.onAttachmentLoad,onStickerClick:this.props.onStickerClick,readReceipts:this.$3(this.props),ref:"messageList",viewer:this.props.viewer,thread:this.props.thread,threadID:this.props.threadID}))};d.$3=function(a){__p&&__p();var c=b("MercuryIDs").getParticipantIDFromUserID(a.viewer),d=b("MessengerReadReceipt.bs").getSeenTimestamps(a.readReceipts,a.threadID),e=new Set(a.thread?a.thread.participants:d.keys());e["delete"](c);return d.withMutations(function(c){b("immutable").Seq(a.messages).reverse().forEach(function(a){if(e.size===0)return!1;if(!e.has(a.author))return null;c.update(a.author,function(b){return!b||b.watermark<=a.timestamp?{watermark:a.timestamp,action:a.timestamp}:b});e["delete"](a.author);return null})})};d.getMessageList=function(){return this.refs.messageList};return c}(b("React").Component);c.propTypes={contextBanner:a.object,forGameChat:a.bool.isRequired,isCanonical:a.bool.isRequired,loadMoreMessages:a.func,maxBubbleWidth:a.number.isRequired,onAttachmentLoad:a.func,onMount:a.func,onStickerClick:a.func,thread:a.object,threadID:a.string.isRequired,viewer:a.string.isRequired};e.exports=c}),null);
__d("ChatEditParticipantsUtils",["AsyncDialog","AsyncRequest","MercuryIDs","MercuryThreadIDMap","URI"],(function(a,b,c,d,e,f){"use strict";var g=b("MercuryThreadIDMap").get();a={showParticipantsModal:function(a){if(!b("MercuryIDs").isGroupChat(a))return;g.getServerIDFromClientID(a,function(a){b("AsyncDialog").send(new(b("AsyncRequest"))(new(b("URI"))("/ajax/browser/dialog/multichat_members/").addQueryData({id:a})))})}};e.exports=a}),null);
__d("FantaGetMessageActions",["FantaDispatcher","FantaTabActions","MercuryCanonicalGroupThreadManager","MercuryIDs","keyMirror","requireWeak"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("requireWeak")("FantaAppStore",function(a){return g=a});var h=b("keyMirror")({ADD_PARTICIPANTS:null,CLEAR_PARTICIPANTS:null,CLEAR_PREVIEW:null,ON_BOOTLOAD_TYPEAHEAD:null,ON_GET_PARTICIPANT_RESPONSE:null,ON_GET_THREAD_PREVIEW_RESPONSE:null,ON_GET_THREAD_RESPONSE:null,ON_PAGE_NULL_RESPONSE:null,ON_PRIVACY_STATE_CHANGE:null,ON_SHOW_CONTEXT_BANNER_TIMER:null,ON_GET_THREAD_HREF_RESPONSE:null,REFRESH_THREAD:null,THREADS_UPDATED:null});a={Types:h,addParticipants:function(a,c){__p&&__p();var d=c.length===1&&c[0].getInfo().render_type==="thread",e;if(d){d=c[0].getInfo().mercury_thread;d=b("MercuryIDs").getThreadIDFromThreadFBID(d.thread_fbid);b("FantaTabActions").replaceTab(a,d);return}if(c.length===1){d=c[0].info&&c[0].info.uid;d&&(e=b("MercuryIDs").getThreadIDFromUserID(d))}else if(c.length===0){b("FantaDispatcher").dispatch({type:h.CLEAR_PARTICIPANTS,tabID:a});return}else{var f=b("MercuryCanonicalGroupThreadManager").get();d=c.map(function(a){return a.info.uid});b("FantaDispatcher").dispatch({type:h.CLEAR_PREVIEW,tabID:a,tokens:c});var i=f.getCanonicalGroupThreadIDForParticipants(Array.from(d),function(d){f.unsubscribe(i);if(g){var e=g.getState();if(!e.tabGroup.tabs.get(a))return}d&&b("FantaDispatcher").dispatch({type:h.ADD_PARTICIPANTS,previewTabID:d,tabID:a,tokens:c})})}e&&b("FantaDispatcher").dispatch({type:h.ADD_PARTICIPANTS,previewTabID:e,tabID:a,tokens:c})},onBootloadTypeahead:function(a,c){b("FantaDispatcher").dispatch({type:h.ON_BOOTLOAD_TYPEAHEAD,tabID:a,thread:c})},refreshThread:function(a){b("FantaDispatcher").dispatch({type:h.REFRESH_THREAD,threadID:a})},onGetThreadResponse:function(a){b("FantaDispatcher").dispatch({type:h.ON_GET_THREAD_RESPONSE,thread:a})},onGetThreadPreviewResponse:function(a,c){b("FantaDispatcher").dispatch({type:h.ON_GET_THREAD_PREVIEW_RESPONSE,tabID:a,thread:c})},onParticipantResponse:function(a){b("FantaDispatcher").dispatch({type:h.ON_GET_PARTICIPANT_RESPONSE,tabID:a})},onShowContextBannerTimer:function(a){b("FantaDispatcher").dispatch({type:h.ON_SHOW_CONTEXT_BANNER_TIMER,threadID:a})},threadsUpdated:function(a){b("FantaDispatcher").dispatch({type:h.THREADS_UPDATED,threads:a})},onPrivacyStateChange:function(a,c){b("FantaDispatcher").dispatch({type:h.ON_PRIVACY_STATE_CHANGE,threadID:a,privacyState:c})},onPageNullResponse:function(a,c){b("FantaDispatcher").dispatch({type:h.ON_PAGE_NULL_RESPONSE,threadID:a,nullStateCTA:c})},onGetThreadHrefResponse:function(a,c){b("FantaDispatcher").dispatch({type:h.ON_GET_THREAD_HREF_RESPONSE,tabID:a,href:c})}};e.exports=a}),null);
__d("FantaTabSheetActions",["FantaDispatcher","LogHistory","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({CLOSE_ADD_FRIENDS_SHEET:null,CLOSE_ADD_MORE_FRIENDS_SHEET:null,CLOSE_EMPLOYEE_PERSONAL_USER_SHEET:null,CLOSE_EMPLOYEE_WORK_USER_SHEET:null,CLOSE_NAME_CONVERSATION_TAB_SHEET:null,CLOSE_READ_ONLY_PERMANENT_SHEET:null,CLOSE_READ_ONLY_SHEET:null,CLOSE_USER_FOCUS_AND_BYPASS_SHEET:null,ON_BOOTLOAD_EVENT_REMINDER:null,ON_WORK_DO_NOT_DISTURB_RESPONSE:null,ON_MENTORSHIP_PROGRAM_RESPONSE:null,ON_IS_PAGE_TAB:null,OPEN_ADD_MORE_FRIENDS_SHEET:null,OPEN_BYPASS_FOCUS_SHEET:null,OPEN_EMPLOYEE_AWAY_SHEET:null,OPEN_EMPLOYEE_PERSONAL_USER_SHEET:null,OPEN_EMPLOYEE_WORK_USER_SHEET:null,OPEN_NAME_CONVERSATION_TAB_SHEET:null,OPEN_READ_ONLY_PERMANENT_SHEET:null,OPEN_READ_ONLY_SHEET:null,OPEN_USER_FOCUS_SHEET:null,OPEN_MENTORSHIP_PROGRAM_SHEET:null}),h=b("LogHistory").getInstance("fanta_sheets");function i(a){b("FantaDispatcher").dispatch(a),h.log(a.type,a.tabID)}a={Types:g,openUserFocusSheet:function(a){i({type:g.OPEN_USER_FOCUS_SHEET,tabID:a})},openBypassFocusSheet:function(a){i({type:g.OPEN_BYPASS_FOCUS_SHEET,tabID:a})},closeUserFocusAndBypassSheet:function(a){i({type:g.CLOSE_USER_FOCUS_AND_BYPASS_SHEET,tabID:a})},openAddMoreFriendsSheet:function(a){i({type:g.OPEN_ADD_MORE_FRIENDS_SHEET,tabID:a})},closeAddMoreFriendsSheet:function(a){i({type:g.CLOSE_ADD_MORE_FRIENDS_SHEET,tabID:a})},closeAddFriendsSheet:function(a){i({type:g.CLOSE_ADD_FRIENDS_SHEET,tabID:a})},openNameConversationSheet:function(a){i({type:g.OPEN_NAME_CONVERSATION_TAB_SHEET,tabID:a})},closeNameConversationSheet:function(a){i({type:g.CLOSE_NAME_CONVERSATION_TAB_SHEET,tabID:a})},openReadOnlySheet:function(a){i({type:g.OPEN_READ_ONLY_SHEET,tabID:a})},closeReadOnlySheet:function(a){i({type:g.CLOSE_READ_ONLY_SHEET,tabID:a})},openReadOnlyPermanentSheet:function(a){i({type:g.OPEN_READ_ONLY_PERMANENT_SHEET,tabID:a})},closeReadOnlyPermanentSheet:function(a){i({type:g.CLOSE_READ_ONLY_PERMANENT_SHEET,tabID:a})},openEmployeeAwaySheet:function(a){i({type:g.OPEN_EMPLOYEE_AWAY_SHEET,tabID:a})},openEmployeePersonalUserSheet:function(a){i({type:g.OPEN_EMPLOYEE_PERSONAL_USER_SHEET,tabID:a})},closeEmployeePersonalUserSheet:function(a){i({type:g.CLOSE_EMPLOYEE_PERSONAL_USER_SHEET,tabID:a})},openEmployeeWorkUserSheet:function(a){i({type:g.OPEN_EMPLOYEE_WORK_USER_SHEET,tabID:a})},closeEmployeeWorkUserSheet:function(a){i({type:g.CLOSE_EMPLOYEE_WORK_USER_SHEET,tabID:a})},openMentorshipProgramSheet:function(a){i({type:g.OPEN_MENTORSHIP_PROGRAM_SHEET,tabID:a})},onIsPageTab:function(a,b){i({type:g.ON_IS_PAGE_TAB,pageIndicator:b,tabID:a})},onBootloadEventReminder:function(a){i({type:g.ON_BOOTLOAD_EVENT_REMINDER,tabID:a})},onWorkDoNotDisturbResponse:function(a,b,c){i({type:g.ON_WORK_DO_NOT_DISTURB_RESPONSE,tabID:a,status:b,description:c})},onMentorshipProgramResponse:function(a,b,c){i({type:g.ON_MENTORSHIP_PROGRAM_RESPONSE,tabID:a,groupID:c,programName:b})}};e.exports=a}),null);
__d("MercurySheetPolicy",["keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={ChatThreadIsMutedTabSheet:{isPermanent:!1,isSheetWithInput:!1},ChatUserFocusSheet:{isPermanent:!0,isSheetWithInput:!0},ChatUserFocusBypassSheet:{isPermanent:!0,isSheetWithInput:!0},ChatUserBlockedTabSheet:{isPermanent:!0,isSheetWithInput:!1},ChatUploadWarningTabSheet:{isPermanent:!1,isSheetWithInput:!1},ChatThreadIsMessageBlockedSheet:{isPermanent:!0,isSheetWithInput:!1},ChatReadOnlyTabSheet:{isPermanent:!1,isSheetWithInput:!1},ChatReadOnlyPermanentTabSheet:{isPermanent:!0,isSheetWithInput:!1},ChatOfflineTabSheet:{isPermanent:!0,isSheetWithInput:!1},ChatNoRecipientsTabSheet:{isPermanent:!0,isSheetWithInput:!1},ChatNewMessagesTabSheet:{isPermanent:!0,isSheetWithInput:!0},ChatNameConversationTabSheet:{isPermanent:!0,isSheetWithInput:!0},ChatEmployeeAwaySheet:{isPermanent:!0,isSheetWithInput:!1},ChatEventReminderTabSheet:{isPermanent:!0,isSheetWithInput:!1},ChatMontageSheet:{isPermanent:!1,isSheetWithInput:!1},ChatJoinCallSheet:{isPermanent:!0,isSheetWithInput:!1},FantaAddFriendsSheet:{isPermanent:!0,isSheetWithInput:!0},FantaAddMoreFriendsSheet:{isPermanent:!0,isSheetWithInput:!0},ChatRoomAssociatedObjectSheet:{isPermanent:!1,isSheetWithInput:!1},ChatMentorshipProgramSheet:{isPermanent:!1,isSheetWithInput:!1},ChatGroupsSyncTabSheet:{isPermanent:!0,isSheetWithInput:!1},ChatGroupNameComposerTabSheet:{isPermanent:!0,isSheetWithInput:!0},ChatIntegrityLandingScreenSheet:{isPermanent:!0,isSheetWithInput:!1}};a={canReplaceOpenSheet:function(a,b){var c=this.getType(b),d=this.isPermanent(b);b=this.isSheetWithInput(b);var e=this.getType(a),f=this.isPermanent(a);a=this.isSheetWithInput(a);if(a)return!!(c!==e&&b);if(f&&!d)return!1;return e===this.sheets.ChatThreadIsMessageBlockedSheet?!1:!0},getType:function(a){var b=a.getType||a.type&&a.type.getType||function(){return a};b=b.call(a);return b},isPermanent:function(a){if(typeof a==="string"&&g[a])return g[a].isPermanent;var b=a.isPermanent||a.type&&a.type.isPermanent||function(){return!1};b=b.call(a);return b},isSheetWithInput:function(a){if(typeof a==="string"&&g[a])return g[a].isSheetWithInput;var b=a.isSheetWithInput||a.type&&a.type.isSheetWithInput||function(){return!1};b=b.call(a);return b},sheets:b("keyMirror")(g)};e.exports=a}),null);
__d("FantaComposeViewReducers",["Bootloader","FantaGetMessageActions","FantaTabSheetActions","MercuryDataSourceWrapper","MercurySheetPolicy","MessengerAdminGroupUtils","ifRequired","qex","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FantaGetMessageActions").Types,h=b("FantaTabSheetActions").Types;function a(a,b){switch(b.type){case g.ON_GET_THREAD_RESPONSE:case g.ON_GET_THREAD_PREVIEW_RESPONSE:var c=b.thread;b=b.tabID||c.thread_id;a=i(a,c,b)}return a}function i(a,c,d){c.participants.length===0&&(a=j(a,d,c),a=l(a,d,b("MercurySheetPolicy").sheets.FantaAddFriendsSheet));return a}function c(a,b){switch(b.type){case g.ON_BOOTLOAD_TYPEAHEAD:b=b.thread;var c=b.thread_id;a=j(a,c,b)}return a}function j(a,c,d){__p&&__p();var e=a.mercury.tabContents.get(c);if(!e||e.typeahead)return a;b("ifRequired")("ChatTabTypeaheadRenderer",function(f){__p&&__p();b("ifRequired")("ContextualTypeaheadView",function(g){__p&&__p();b("ifRequired")("ChatTabAddMemberTypeaheadView",function(h){__p&&__p();b("ifRequired")("MercuryTypeahead",function(i){__p&&__p();if(!a.mercury.tabContents.get(c))return;var j=!!(d&&d.participants&&d.participants.length===0),k=!!(d&&d.associated_object&&d.associated_object.privacy_mode===0),l=j?b("MercuryDataSourceWrapper").chat_typeahead_source:k?b("MercuryDataSourceWrapper").chat_add_people_froup_source:d.work_associated_group!=null&&b("gkx")("995147")?b("MercuryDataSourceWrapper").chat_add_people_restrict_extenal_members:b("qex")._("922586")?b("MercuryDataSourceWrapper").chat_add_people_source_new:b("MercuryDataSourceWrapper").chat_add_people_source;l.setShowThreads(j);j?l.setShowDefaultList(b("MessengerAdminGroupUtils").showDefaultListForNewChatTab()):k||l.setShowDefaultList(b("MessengerAdminGroupUtils").showDefaultListForNewPersonAddChatTab());(k||!j&&b("qex")._("922586"))&&l.setQueryData({thread_id:d.thread_fbid});j=!j&&!k&&b("qex")._("922586")?h:g;k=new i(l,j);k.setViewOption("renderer",f);k.setExcludedParticipantsFromThreadMeta(d);e=e.merge({typeahead:k});a=a.setIn(["mercury","tabContents",c],e)},function(){return k(c,d)})},function(){return k(c,d)})},function(){return k(c,d)})},function(){return k(c,d)});return a}function d(a,c){switch(c.type){case h.OPEN_ADD_MORE_FRIENDS_SHEET:var d=c.tabID,e=a.mercury.tabContents.get(d).thread;if(e){a=j(a,d,e);return l(a,c.tabID,b("MercurySheetPolicy").sheets.FantaAddMoreFriendsSheet)}}return a}function k(a,c){b("Bootloader").loadModules(["ChatTabTypeaheadRenderer","ContextualTypeaheadView","ChatTabAddMemberTypeaheadView","MercuryTypeahead"],function(d,e,f,g){b("FantaGetMessageActions").onBootloadTypeahead(a,c)},"FantaComposeViewReducers")}function l(a,c,d){__p&&__p();var e=a.mercury.tabContents.get(c),f=a.tabGroup.tabs.get(c);if(!f||!e)return a;f=e;f=f.openSheet;if(f&&!b("MercurySheetPolicy").canReplaceOpenSheet(f,d))return a;e=e.merge({openSheet:d});a=a.setIn(["mercury","tabContents",c],e);return a}function f(a,c){switch(c.type){case g.ADD_PARTICIPANTS:var d=c.tokens;c=c.tabID;d=d.length===1&&d[0].getInfo().render_type==="thread";if(!d)return l(a,c,b("MercurySheetPolicy").sheets.FantaAddFriendsSheet)}return a}e.exports={addParticipants:f,onBootloadTypeahead:c,onGetThreadResponse:a,openAddMoreFriends:d}}),null);
__d("FantaReducersCookie",["FantaMessageActions","FantaTabActions","PresenceState","throttle"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FantaMessageActions").Types,h=b("FantaTabActions").Types,i=b("throttle").acrossTransitions(b("PresenceState").doSync,500);function a(a,b){switch(b.type){case g.RECEIVED_NEW_MESSAGE:case h.CLOSE_ALL_TABS:case h.CLOSE_AND_TAB_NEXT:case h.CLOSE_TAB:case h.DELETE_TAB:case h.MINIMIZE_ALL_TABS:case h.MINIMIZE_TAB:case h.OPEN_TAB:case h.OPEN_TAB_WITH_INTERSTITIAL_DATA:case h.REPLACE_TAB:case g.ADD_GROUP_PARTICIPANTS_AS_REPLACE_TAB:case g.ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB:case h.UNMINIMIZE_TAB:case h.OPT_IN_OPEN_TAB_WITH_BLOCKEES:i();return j(a)}return a}function c(a,b){switch(b.type){case h.LOAD_FROM_DATA:var c=a.tabGroup;b=b.tabData;c=c.updatedTime;c=c>=b.updatedTime||b.updatedTime===void 0?c:b.updatedTime;return a.mergeIn(["tabGroup"],{updatedTime:c})}return a}function j(a){return a.mergeIn(["tabGroup"],{updatedTime:Date.now()})}e.exports={updateCookie:a,loadFromData:c}}),null);
__d("FantaReducersDockCalculator",["Arbiter","FantaMessageActions","FantaTabActions","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FantaTabActions").Types,h=b("FantaMessageActions").Types,i=null;function j(a){i=a,b("setImmediate")(function(){b("Arbiter").inform("FantaReducersDockCalculator/shouldRecalculate")})}function k(a){if(!i||a.size!==i.size)j(a);else{var b=!1;a.forEach(function(a){var c=i&&i.get(a.id);(!c||a.isMinimized!==c.isMinimized)&&(b=!0)});b&&j(a)}}function a(a,b){var c=a.tabGroup.tabs;switch(b.type){case g.CLOSE_ALL_TABS:case g.CLOSE_AND_TAB_NEXT:case g.CLOSE_TAB:case g.DELETE_TAB:case g.MINIMIZE_ALL_TABS:case g.MINIMIZE_TAB:case g.OPEN_TAB:case g.OPEN_TAB_WITH_INTERSTITIAL_DATA:case g.UNMINIMIZE_TAB:case h.ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB:j(c);break;case g.LOAD_FROM_DATA:case h.RECEIVED_NEW_MESSAGE:k(c);break}return a}e.exports={recalculateDock:a}}),null);
__d("FantaReducersLogging",["Bootloader","FantaMessageActions","FantaTabActions","FantaTabSheetActions","gkx","requestIdleCallback"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FantaTabActions").Types,h=b("FantaMessageActions").Types,i=b("FantaTabSheetActions").Types;function a(a,c){__p&&__p();if(!b("gkx")("678592"))return a;switch(c.type){case i.OPEN_ADD_MORE_FRIENDS_SHEET:case g.OPEN_TAB:if(c.type===g.OPEN_TAB&&c.entryPoint!=="compose_link"&&c.entryPoint!=="jewel_new_message")return a;var d=a.mercury.tabContents.get(c.tabID);d&&b("Bootloader").loadModules(["MessengerSecondarySearchFunnelLogger","MessengerSecondarySearchFunnelConstants"],function(a,b){var e;switch(c.entryPoint){case"compose_link":e=b.ENTRY_SURFACES.SIDEBAR;break;case"jewel_new_message":e=b.ENTRY_SURFACES.JEWEL;break;default:e=b.ENTRY_SURFACES.EXISTING_TAB}a.startFunnel(b.CLIENTS.WWW,b.SEARCH_SURFACES.OMNIPICKER,e,c.type===i.OPEN_ADD_MORE_FRIENDS_SHEET?d.id:null,d.loggingID)},"FantaReducersLogging");break}return a}function c(a,c){switch(c.type){case g.CLOSE_ALL_TABS:case g.CLOSE_AND_TAB_NEXT:case g.CLOSE_TAB:case g.DELETE_TAB:case g.OPEN_TAB:case g.OPEN_TAB_WITH_INTERSTITIAL_DATA:case h.ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB:b("requestIdleCallback")(function(){var c=a.tabGroup.allowedRaisedTabs,d=a.tabGroup.getRaisedandUnraisedTabs(),e=d.raisedTabs;d=d.unraisedTabs;var f=e.count(),g=f+d.count();b("Bootloader").loadModules(["FantaTabsVisibleTypedLogger"],function(a){new a().setAllowedRaisedTabs(c).setOpenTabs(g).setVisibleTabs(f).log()},"FantaReducersLogging")})}return a}e.exports={updateVisibleTabs:c,logSearchEventsAfterAction:a}}),null);
__d("FantaAvailableStatus",["AvailableListConstants","ChatVisibility","MercuryIDs","PresenceStatus","ShortProfiles"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports={isAvailable:function(a,c){var d;a=this.getStatus(a,c);c=b("MercuryIDs").getUserIDFromThreadID(c);c&&(d=b("ShortProfiles").getNow(c));return a===b("AvailableListConstants").ACTIVE&&(d===void 0||d===null||!d.is_messenger_only)},getStatus:function(a,c){__p&&__p();var d=b("AvailableListConstants").OFFLINE;c=b("MercuryIDs").getUserIDFromThreadID(c);if(c)d=b("PresenceStatus").get(c);else if(a&&a.participants){c=a.participants.map(function(a){return b("MercuryIDs").getUserIDFromParticipantID(a)});d=b("PresenceStatus").getGroup(c)}b("ChatVisibility").isOnline()||(d=b("AvailableListConstants").OFFLINE);return d}}}),null);
__d("FantaTypeJoinableThread",["immutable"],(function(a,b,c,d,e,f){"use strict";a={admins:[],approvalMode:0,associatedObject:null,description:null,friendsInParticipants:[],imageURL:null,isViewerSubscribed:!1,isWorkpaceChat:!1,joinableMode:{mode:0,link:""},linkHash:"",participants:[],threadID:null,threadFBID:null,threadName:null};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FantaTypeSharePreview",["immutable"],(function(a,b,c,d,e,f){"use strict";a={isLoading:!1,params:null,type:null,uri:null};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FantaTypeFileUploader",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=Object.freeze({ANIMATED_IMAGE:"animated_image",AUDIO:"audio",FILE:"file",GENERIC_ATTACHMENT:"generic_attachment",IMAGE:"image",VIDEO:"video"});c={uploadedFiles:b("immutable").Map(),uploadingFiles:b("immutable").Map()};d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getTypeIDs=function(a){return this.uploadedFiles.reduce(function(b,c){c.type===a&&c.uploadedID&&(b=b.concat(c.uploadedID));return b},[])};return b}(b("immutable").Record(c));d.fileTypes=a;e.exports=d}),null);
__d("FantaTypeComposer",["FantaTypeFileUploader","FantaTypeSharePreview","immutable"],(function(a,b,c,d,e,f){"use strict";var g=0;a={fileUploader:new(b("FantaTypeFileUploader"))(),sharePreview:new(b("FantaTypeSharePreview"))(),text:"",replyingToMessage:null,version:g};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,{version:++g})||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FantaTypeTabContents",["ChatPrivacyActionController","FantaGetMessageActions","FantaTypeComposer","MercuryIDs","emptyFunction","immutable","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={composer:new(b("FantaTypeComposer"))(),highlightNewMessage:!1,id:"",isMontageOpen:!1,isMultiCompany:null,isNewMessageTab:!1,isScrolledToBottom:!0,joinableInterstitialData:null,jumpToMessage:null,loggingID:null,membershipParticipants:null,nullStateCTA:null,openSheet:null,pageIndicator:null,pageIndicatorDescription:null,participants:null,privacyController:null,showContextBanner:!1,showUnseenMessages:b("emptyFunction"),signatureID:null,thread:null,threadHref:null,threadPreviewID:null,threadPreviewRecipients:null,timezoneInfo:null,typeahead:null,uri:null,workAvailabilityHumanReadable:null,workAvailabilityStatus:null,newGroupChatName:null};c=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d,e=b("MercuryIDs").getUserIDFromThreadID(c.id);e&&(d=new(b("ChatPrivacyActionController"))(e,function(a){b("setImmediate")(function(){b("FantaGetMessageActions").onPrivacyStateChange(c.id,a)})}));return a.call(this,babelHelpers["extends"]({privacyController:d},c))||this}return c}(b("immutable").Record(a));e.exports=c}),null);
__d("FantaReducersMercury",["Arbiter","AsyncSignal","AvailableList","AvailableListConstants","Bootloader","FantaAvailableStatus","FantaGetMessageActions","FantaMessageActions","FantaTabActions","FantaTabSheetActions","FantaTypeJoinableThread","FantaTypeSharePreview","FantaTypeTabContents","JSLogger","MercuryIDs","MercuryThreadIDMap","TimeSlice","WebMessengerThreadPermalinks","getPageIDFromThreadID","ifRequired","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MercuryThreadIDMap").get(),h=b("JSLogger").create("FantaReducersMercury"),i=b("FantaMessageActions").Types,j=b("FantaTabActions").Types,k=b("FantaGetMessageActions").Types,l=1;function m(){return Math.floor(Math.random()*2147483648).toString(16)}function a(a,c){__p&&__p();switch(c.type){case j.OPEN_TAB:case j.OPEN_TAB_WITH_INTERSTITIAL_DATA:case i.ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB:var d=c.tabID,e=c.defaultText,f=c.defaultPreview;b("ifRequired")("FantaTabsReactApp",function(c){!b("MercuryIDs").isValidThreadID(d)?(a=a.deleteIn(["tabGroup","tabs",d]),t(d)):A(a,d)},function(){return a=n(a,c.tabID)});a=o(a,d);var g=m(),h=a.mercury.tabContents.get(d);h=h.merge({isNewMessageTab:!!c.isNewMessageTab,loggingID:l++,signatureID:g});a=a.setIn(["mercury","tabContents",d],h);new(b("AsyncSignal"))("/ajax/chat/opentab_tracking.php",{threadID:d,userID:b("MercuryIDs").getUserIDFromThreadID(d),signatureID:g}).send();if(c.interstitialData){g=new(b("FantaTypeJoinableThread"))(c.interstitialData);h=h.merge({joinableInterstitialData:g});a=a.setIn(["mercury","tabContents",d],h)}e&&(a=a.setIn(["mercury","tabContents",d,"composer","text"],e));f&&(a=a.setIn(["mercury","tabContents",d,"composer","sharePreview"],new(b("FantaTypeSharePreview"))({params:null,type:null,uri:f})));b("Arbiter").inform("jewel/hide");return a}return a}function n(a,c){b("ifRequired")("FantaTabsSlimApp",function(d){!b("MercuryIDs").isValidThreadID(c)?(a=a.deleteIn(["tabGroup","tabs",c]),t(c)):A(a,c)},function(){A(a,c)});return a}function c(a,b){switch(b.type){case i.RECEIVED_NEW_MESSAGE:a=o(a,b.tabID)}return a}function o(a,c){__p&&__p();var d=a.mercury.tabContents.get(c);if(!d){var e=b("getPageIDFromThreadID")(c);e&&b("Bootloader").loadModules(["PagesMercuryChatTabIndicatorHandler"],function(a){var d=b("AvailableListConstants").OFFLINE,f=new a(e,d,function(a){b("setImmediate")(function(){return b("FantaTabActions").setPageIndicatorDescription(c,a)})},function(){b("setImmediate")(function(){return b("FantaTabActions").clearPageIndicatorDescription(c)})});b("setImmediate")(function(){b("FantaTabSheetActions").onIsPageTab(c,f)});f.checkResponsiveness()},"FantaReducersMercury");return a.setIn(["mercury","tabContents",c],new(b("FantaTypeTabContents"))({id:c}))}return a}function d(a,b){switch(b.type){case j.SET_PAGE_INDICATOR_DESCRIPTION:var c=b.tabID;b=b.description;var d=a.mercury.tabContents.get(c);if(!d)return a;d=d.merge({pageIndicatorDescription:b||""});a=a.setIn(["mercury","tabContents",c],d)}return a}function f(a,b){switch(b.type){case j.CLEAR_PAGE_INDICATOR_DESCRIPTION:b=b.tabID;var c=a.mercury.tabContents.get(b);if(!c)return a;c=c.merge({pageIndicatorDescription:""});a=a.setIn(["mercury","tabContents",b],c)}return a}function p(a,b){switch(b.type){case j.REPLACE_TAB:case i.ADD_GROUP_PARTICIPANTS_AS_REPLACE_TAB:a=s(a,b.newTabID);a=o(a,b.newTabID);return a}return a}function q(a,b){__p&&__p();switch(b.type){case k.ADD_PARTICIPANTS:var c=b.tabID;b=b.previewTabID;var d=a.mercury.tabContents.get(c);if(!d)return a;d=d.merge({threadPreviewID:b});a=a.setIn(["mercury","tabContents",c],d);return a}return a}function r(a,c){switch(c.type){case k.CLEAR_PARTICIPANTS:c=c.tabID;var d=a.mercury.tabContents.get(c),e=d?d.loggingID:null;d=d?d.isNewMessageTab:!1;a=a.setIn(["mercury","tabContents",c],new(b("FantaTypeTabContents"))({id:c,isNewMessageTab:d,loggingID:e}))}return a}function s(a,c){b("ifRequired")("FantaTabsReactApp",function(d){b("MercuryIDs").isValidThreadID(c)||(a=a.deleteIn(["tabGroup","tabs",c]),t(c))},function(){b("ifRequired")("FantaTabsSlimApp",function(d){b("MercuryIDs").isValidThreadID(c)||(a=a.deleteIn(["tabGroup","tabs",c]),t(c))})});return a}function t(a){g.getClientIDFromServerID(a,function(c){return b("setImmediate")(function(){b("MercuryIDs").isValidThreadID(c)?b("FantaTabActions").openTab(c):h.error("invalid id",a)})})}function u(a,b){switch(b.type){case j.FOCUS_TAB:A(a,b.tabID)}return a}function v(a,b){switch(b.type){case j.CLOSE_TAB:b=b.tabID;a=x(a,b)}return a}function w(a,b){switch(b.type){case j.DELETE_TAB:b=b.tabID;a=x(a,b);a=a.deleteIn(["mercury","tabContents",b])}return a}function x(a,c){b("ifRequired")("MessengerVideoAutoplayActions",function(a){a.deleteThread(c)});return a}function y(a,c){switch(c.type){case j.CLOSE_ALL_TABS:b("ifRequired")("MessengerVideoAutoplayActions",function(a){a.deleteAllThreads()});return a}return a}function z(a,b){switch(b.type){case j.FOCUS_NEXT_TAB:case j.FOCUS_PREVIOUS_TAB:case j.CLOSE_AND_TAB_NEXT:b=a.tabGroup.focusedTabID;b&&A(a,b)}return a}function A(a,c){__p&&__p();var d=b("MercuryIDs").getUserIDFromThreadID(c);if(d){var e=function(){b("AvailableList").updateForID(d)};b("TimeSlice").guard(e,"superfluous request to first open DD",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()}e=a.mercury.tabContents.get(c);if(e){a=e.thread;e=e.pageIndicator;e&&e.notifyPageOnlineStatusChanged(b("FantaAvailableStatus").getStatus(a,c))}}function B(a,b){switch(b.type){case j.UNMINIMIZE_TAB:A(a,b.tabID)}return a}function C(a,b){__p&&__p();switch(b.type){case j.LOAD_FROM_DATA:for(var b=a.tabGroup.tabs.keys(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;a=o(a,e)}}return a}function D(a,c){a=a.mercury.tabContents.get(c);(!a||!a.uri)&&b("WebMessengerThreadPermalinks").getThreadURI(c,function(a){b("setImmediate")(function(){return b("FantaTabActions").setPermanentUri(c,a)})})}function E(a,b){__p&&__p();switch(b.type){case j.OPEN_TAB:case j.OPEN_TAB_WITH_INTERSTITIAL_DATA:case i.RECEIVED_NEW_MESSAGE:case i.ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB:D(a,b.tabID);break;case j.LOAD_FROM_DATA:for(var b=a.tabGroup.tabs.keys(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;D(o(a,e),e)}}return a}function F(a,b){switch(b.type){case j.SET_PERMANENT_URI:var c=b.tabID;b=b.uri;var d=a.mercury.tabContents.get(c);if(!d)return a;d=d.merge({uri:b});a=a.setIn(["mercury","tabContents",c],d)}return a}e.exports={addParticipants:q,clearPageIndicatorDescription:f,clearParticipants:r,closeAllTabs:y,closeTab:v,deleteTab:w,focusTab:u,focusTabEvents:z,loadFromData:C,loadUri:E,openTab:a,receivedNewMessage:c,replaceTab:p,setPageIndicatorDescription:d,setUri:F,unminimizeTab:B}}),null);
__d("MercuryIgnoredBlockedParticipants.bs",["bs_belt_Set","bs_caml_obj","MercuryIDs","CurrentUser","bs_js_primitive","ParticipantId.bs","WorkForeignEntityInfo.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return b("bs_belt_Set").fromArray(a,[b("ParticipantId.bs").cmp])}function g(a,c,d){d=d.participants.filter(function(c){return c!==b("MercuryIDs").getParticipantIDFromUserID(a)});return d.filter(function(a){return b("bs_belt_Set").has(c,a)!==!1})}function c(a,b,c){if(c.is_canonical)return!1;else return g(a,b,c).length>0}function d(a,b,c){if(c.is_canonical)return[];else return g(a,b,c)}function e(a,c,d){var e=d.is_canonical;if(e){e=d.participants.filter(function(c){return b("bs_caml_obj").caml_notequal(c,b("MercuryIDs").getParticipantIDFromUserID(a))});return!e.every(function(a){return!b("bs_belt_Set").has(c,a)})}else return!1}var h=b("bs_belt_Set").has;function i(a,c,d){if(!a.is_canonical||b("bs_js_primitive").nullable_to_opt(a.other_user_fbid)===b("bs_js_primitive").some(c))return!1;else if(!b("CurrentUser").isWorkUser()||d==null)return!0;else if(d==null)return!1;else return!b("WorkForeignEntityInfo.bs").isCoworker(d)}f.fromIds=a;f.findIntersection=g;f.isPresentInGroupThread=c;f.participantsInGroupThread=d;f.qualifiesAs=e;f.isInSet=h;f.shouldShowBlock=i}),null);
__d("FantaReducersMessages",["CurrentUser","FantaGetMessageActions","FantaMessageActions","FantaTabActions","FantaTypeComposer","ImmutableObject","MercuryBrowserAlerts","MessengerParticipants.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FantaMessageActions").Types,h=b("FantaTabActions").Types,i=b("FantaGetMessageActions").Types;function a(a,c){switch(c.type){case g.RECEIVED_NEW_MESSAGE:c=c.message;b("MercuryBrowserAlerts").messageReceived(c);return a}return a}function c(a,b){switch(b.type){case g.COMPOSER_TEXT_UPDATE:var c=b.composer,d=b.message;b=b.threadID;var e=a.mercury.tabContents.get(b);return!e||e&&e.composer.version!==c.version?a:a.mergeIn(["mercury","tabContents",b,"composer"],{text:d})}return a}function d(a,c){switch(c.type){case g.REPLY_TO_MESSAGE:var d=c.message;c=c.threadID;var e=a.mercury.tabContents.get(c);return!e?a:a.mergeIn(["mercury","tabContents",c,"composer"],{replyingToMessage:new(b("ImmutableObject"))(babelHelpers["extends"]({},d))})}return a}function f(a,b){switch(b.type){case g.CANCEL_REPLY_TO_MESSAGE:b=b.threadID;var c=a.mercury.tabContents.get(b);if(!c)return a;c=null;return a.mergeIn(["mercury","tabContents",b,"composer"],{replyingToMessage:c})}return a}function j(a,c){switch(c.type){case h.CLOSE_TAB:case h.CLOSE_AND_TAB_NEXT:return!a.mercury.tabContents.get(c.tabID)?a:a.setIn(["mercury","tabContents",c.tabID,"composer"],new(b("FantaTypeComposer"))())}return a}function k(a,c){switch(c.type){case h.CLOSE_ALL_TABS:c=a.mercury.tabContents;c.forEach(function(c){c=c.id;a=a.setIn(["mercury","tabContents",c,"composer"],new(b("FantaTypeComposer"))())});return a}return a}function l(a,b){switch(b.type){case h.SCROLL_BOTTOM_CHANGED:var c=b.tabID,d=b.isScrolledToBottom;b=b.showUnseenMessages;var e=a.mercury.tabContents.get(c);if(!e)return a;e=e.merge({isScrolledToBottom:d,showUnseenMessages:b});a=a.setIn(["mercury","tabContents",c],e)}return a}function m(a,b){switch(b.type){case h.JUMP_TO_MESSAGE:var c=b.tabID;b=b.mid;var d=a.mercury.tabContents.get(c);if(!d)return a;d=d.merge({jumpToMessage:b});a=a.setIn(["mercury","tabContents",c],d)}return a}function n(a,b){switch(b.type){case h.WIPE_JUMP_TO_MESSAGE:b=b.tabID;var c=a.mercury.tabContents.get(b);if(!c)return a;c=c.merge({jumpToMessage:null});a=a.setIn(["mercury","tabContents",b],c)}return a}function o(a,b){switch(b.type){case h.SHOW_UNSEEN_MESSAGES:b=b.tabID;b=a.mercury.tabContents.get(b);b&&b.showUnseenMessages()}return a}function p(a,c){__p&&__p();switch(c.type){case i.ON_GET_THREAD_RESPONSE:c=c.thread;var d=c.thread_id,e=a.mercury.tabContents.get(d);if(!e)return a;var f=null;b("CurrentUser").isWorkUser()&&c.participants&&(f=c.participants.map(b("MessengerParticipants.bs").getNow,b("MessengerParticipants.bs")).find(function(a){return((a=a)!=null?(a=a.work_foreign_entity_info)!=null?a.type:a:a)==="FOREIGN"})!==void 0);e=e.merge({thread:c,isMultiCompany:f});a=a.setIn(["mercury","tabContents",d],e);break}return a}function q(a,b){switch(b.type){case h.HIGHLIGHT_NEW_MESSAGE:return!a.mercury.tabContents.get(b.tabId)?a:a.setIn(["mercury","tabContents",b.tabId,"highlightNewMessage"],!0)}return a}function r(a,b){switch(b.type){case h.UNHIGHLIGHT_NEW_MESSAGE:return!a.mercury.tabContents.get(b.tabId)?a:a.setIn(["mercury","tabContents",b.tabId,"highlightNewMessage"],!1)}return a}function s(a,b){switch(b.type){case g.UPDATE_USER_INPUT_REQUESTED:return a.setIn(["mercury","userInputRequest"],{isUserInputRequested:b.isUserInputRequested,requestNumResults:b.requestNumResults,requestType:b.requestType})}return a}e.exports={cancelReplyToMessage:f,closeAllTabs:k,closeTab:j,composerTextUpdate:c,highlightNewMessage:q,jumpToMessage:m,onGetThreadResponse:p,receivedNewMessage:a,replyToMessage:d,scrollBottomChanged:l,showUnseenMessages:o,unhighlightNewMessage:r,updateUserInputRequested:s,wipeJumpToMessage:n}}),null);
__d("FantaReducersPreLogging",["Bootloader","CurrentUser","FantaMessageActions","FantaTabActions","FantaTabSheetActions","MessengerSecondarySearchFunnelConstants","MessengerState.bs","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FantaTabActions").Types,h=b("FantaTabSheetActions").Types,i=b("FantaMessageActions").Types;c=b("MessengerSecondarySearchFunnelConstants").END_ACTIONS;var j=c.ABANDON,k=c.SEND,l=b("MessengerSecondarySearchFunnelConstants").END_REASONS.ACTION;function a(a,c){__p&&__p();if(!b("gkx")("678592"))return a;switch(c.type){case g.CLOSE_TAB:case g.CLOSE_AND_TAB_NEXT:case h.CLOSE_ADD_FRIENDS_SHEET:case h.CLOSE_ADD_MORE_FRIENDS_SHEET:a=m(a,c.tabID,l,j);break;case g.CLOSE_ALL_TABS:a.mercury.tabContents.forEach(function(b){a=m(a,b.id,l,j)});break;case i.ADD_GROUP_PARTICIPANTS:a=m(a,c.threadID,l,k,!0);break;case i.SEND_HOT_LIKE:case i.SEND_MESSAGE:case i.SEND_PHOTO:case i.SEND_STICKER:a=m(a,c.threadID,l,k);break}return a}function m(a,c,d,e,f){__p&&__p();if(!b("gkx")("678592"))return a;var g=a.mercury.tabContents.get(c),h=g?g.loggingID:null,i=g?g.threadPreviewID:null;h&&b("Bootloader").loadModules(["MessengerSecondarySearchFunnelLogger"],function(j){a=a.setIn(["mercury","tabContents",c],g.merge({loggingID:null}));if(e===k&&(f===null||f===void 0)){var l=b("MessengerState.bs").getCurrentlyLoadedMessages(b("CurrentUser").getID(),g.id);l=g&&l.length===0}else l=f;j.endFunnel(d,e,h,i?i.split(":")[1]:c,l)},"FantaReducersPreLogging");return a}e.exports={logSearchEvents:a}}),null);
__d("FantaTypeTab",["immutable"],(function(a,b,c,d,e,f){"use strict";a={focusCounter:0,id:"",isHovered:!1,isMinimized:!1,showWarningForThreadWithBlockees:!1,openCounter:0,entryPoint:"unknown"};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FantaTypeTabGroup",["FantaConst","immutable","qex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").OrderedMap({});a=b("qex")._("830597")||!1;c={allowedRaisedTabs:a?1:b("FantaConst").DEFAULT_ALLOWED_RAISED_TABS,focusedTabID:null,tabs:b("immutable").Map({}),updatedTime:0};var h=function(a){return a.openCounter*-1},i=function(a){return a.focusCounter*-1};d=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getRaisedandUnraisedTabs=function(){if(this.tabs.size===0||this.allowedRaisedTabs===0)return{raisedTabs:g,unraisedTabs:g};if(this.tabs.size===1&&this.allowedRaisedTabs>=1)return{raisedTabs:this.tabs.toOrderedMap(),unraisedTabs:g};var a=this.tabs.sortBy(i),b=a.slice(this.allowedRaisedTabs);a=a.take(this.allowedRaisedTabs).sortBy(h);return{raisedTabs:a,unraisedTabs:b}};return b}(b("immutable").Record(c));e.exports=d}),null);
__d("FantaReducersTabs",["Bootloader","CurrentUser","EventProfiler","FantaConst","FantaGetMessageActions","FantaMessageActions","FantaTabActions","FantaTypeTab","FantaTypeTabGroup","LogHistory","MercuryIgnoredBlockedParticipants.bs","MessengerState.bs","PinnedConversationNubsConfig","TimeSlice","URI","isWebMessengerURI","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FantaMessageActions").Types,h=b("FantaTabActions").Types,i=b("FantaGetMessageActions").Types,j="tab_",k=b("LogHistory").getInstance("fanta_tabs"),l=1,m=1,n=1;function a(a,c){__p&&__p();switch(c.type){case h.OPEN_TAB:case h.OPEN_TAB_WITH_INTERSTITIAL_DATA:case g.ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB:k.debug(c.type,JSON.stringify({id:c.tabID}));if(m===1){b("EventProfiler").tagCurrentActiveInteractionsAs("FirstChatTabOpen");var d=b("performanceAbsoluteNow")();b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(a,b){a.markerStart(b.FIRSTCHATTABOPEN_WWW,0,d)},"FantaReducersTabs")}return r(a,c.tabID||j+n++,!0,c.entryPoint)}return a}function c(a,b){__p&&__p();switch(b.type){case h.REPLACE_TAB:case g.ADD_GROUP_PARTICIPANTS_AS_REPLACE_TAB:var c=b.tabID,d=b.newTabID,e=a.tabGroup;e=e.tabs;e=e.get(c);k.debug(b.type,JSON.stringify({id:c,isExisting:!!e,newID:d}));if(e){b=e.id===a.tabGroup.focusedTabID;a=a.setIn(["tabGroup","tabs",d],e.merge({id:d})).deleteIn(["tabGroup","tabs",c]);return r(a,d,b,"replace_tab")}return r(a,d,!1,"replace_tab")}return a}function d(a,b){switch(b.type){case h.MINIMIZE_TAB:return s(a,b.tabID,!0)}return a}function f(a,b){switch(b.type){case h.UNMINIMIZE_TAB:a=s(a,b.tabID,!1),a=v(a,b.tabID,(b=a.mercury.tabContents.get(b.tabID))==null?void 0:b.thread)}return a}function o(a,b){switch(b.type){case h.FOCUS_TAB:b=b.tabID;return D(a,b)}return a}function p(a,b){switch(b.type){case h.BLUR_TAB:return E(a,b.tabID)}return a}function q(a,c){__p&&__p();switch(c.type){case g.RECEIVED_NEW_MESSAGE:var d=c.tabID,e=a.tabGroup.tabs.get(d);k.debug(c.type,JSON.stringify({id:d,isOpen:!!e}));if(!e){c=a.tabGroup.focusedTabID;a=r(a,d,!1,"message_received");var f=a.tabGroup.allowedRaisedTabs;e=a.tabGroup.getRaisedandUnraisedTabs();var h=e.raisedTabs;e=e.unraisedTabs;var i=h.count(),j=i+e.count();b("TimeSlice").guard(function(){b("Bootloader").loadModules(["FantaTabsVisibleTypedLogger","ChatOpenTabEventLogger"],function(a,b){new a().setAllowedRaisedTabs(f).setOpenTabs(j).setVisibleTabs(i).log(),b.logAutoOpen("auto_open_on_received_messages",d)},"FantaReducersTabs")},"name",{propagationType:b("TimeSlice").PropagationType.ORPHAN})();h=b("URI").getNextURI();if(b("isWebMessengerURI")(h))return a=s(a,d,!0);else if(c)return D(a,c)}}return a}function r(a,c,d,e){__p&&__p();e===void 0&&(e="unknown");var f=a.tabGroup;f=f.tabs;f=f.get(c);!f?(f=new(b("FantaTypeTab"))({id:c,focusCounter:l,openCounter:m++,entryPoint:e}),a=a.setIn(["tabGroup","tabs",c],f)):f.isMinimized&&d&&(a=s(a,c,!1));d&&(a=D(a,c));if(u(a,c,(e=a.mercury.tabContents.get(c))==null?void 0:e.thread))if(d){a=v(a,c,(f=a.mercury.tabContents.get(c))==null?void 0:f.thread)}else a=s(a,c,!0);return a}function s(a,b,c){var d=a.tabGroup;d=d.tabs.get(b);d&&(a=a.mergeIn(["tabGroup","tabs",b],{isMinimized:c}));return a}function t(a,b){var c,d;switch(b.type){case i.ON_GET_THREAD_RESPONSE:case i.ON_GET_THREAD_PREVIEW_RESPONSE:c=b.tabID||((c=b.thread)==null?void 0:c.thread_id);((d=a.mercury.tabContents.get(c))==null?void 0:d.thread)==null&&((d=a.tabGroup.tabs.get(c))==null?void 0:d.isMinimized)===!1&&(a=v(a,c,b.thread))}return a}function u(a,c,d){if(d==null||d.is_canonical||a.blockedWarning.optedInThreadsWithBlockees.get(c)==!0)return!1;var e=b("CurrentUser").getID();a=!1;b("MessengerState.bs").compute(e,function(c){c=c.blocked_ids;a=b("MercuryIgnoredBlockedParticipants.bs").isPresentInGroupThread(e,c,d)});return a}function v(a,b,c){u(a,b,c)&&a.tabGroup.tabs.get(b)!=null&&(a=a.mergeIn(["tabGroup","tabs",b],{showWarningForThreadWithBlockees:!0}),a=s(a,b,!0));return a}function w(a,b){switch(b.type){case h.CLOSE_GROUP_ENTRANCE_WARNING_DIALOG:a.tabGroup.tabs.get(b.tabID)!=null&&(a=a.mergeIn(["tabGroup","tabs",b.tabID],{showWarningForThreadWithBlockees:!1}))}return a}function x(a,b){switch(b.type){case h.OPT_IN_OPEN_TAB_WITH_BLOCKEES:b=b.tabID;a=a.mergeIn(["tabGroup","tabs",b],{showWarningForThreadWithBlockees:!1});a=a.setIn(["blockedWarning","optedInThreadsWithBlockees",b],!0);a=s(a,b,!1);a=D(a,b)}return a}function y(a,b){__p&&__p();switch(b.type){case h.MINIMIZE_ALL_TABS:for(var b=a.tabGroup.tabs.keys(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;a=s(a,e,!0)}return a}return a}function z(a,b){switch(b.type){case h.CLOSE_TAB:case h.DELETE_TAB:var c=b.tabID;k.debug(b.type,JSON.stringify({id:c}));return A(a,c)}return a}function A(a,b){a=E(a,b);return a.deleteIn(["tabGroup","tabs",b]).deleteIn(["mercury","tabContents",b])}function B(a,b){switch(b.type){case h.CLOSE_ALL_TABS:k.debug(b.type);a=E(a,a.tabGroup.focusedTabID);return a.setIn(["tabGroup","tabs"],a.tabGroup.tabs.clear()).setIn(["mercury","tabContents"],a.mercury.tabContents.clear())}return a}function C(a,b){switch(b.type){case h.CLOSE_AND_TAB_NEXT:k.debug(b.type,JSON.stringify({id:b.tabID}));a=A(a,b.tabID);return M(a)}return a}function D(a,b,c){c===void 0&&(c=!1);var d=a.tabGroup;d=d.tabs.get(b);d&&(a=a.mergeIn(["tabGroup","tabs",b],{focusCounter:l++}));d=c?null:b;a=a.mergeIn(["tabGroup"],{focusedTabID:d});return a}function E(a,b){return a.tabGroup.focusedTabID===b?a.mergeIn(["tabGroup"],{focusedTabID:null}):a}function F(a,b){switch(b.type){case h.HOVERED_TAB:b=b.tabID;return H(a,b,!0)}return a}function G(a,b){switch(b.type){case h.UNHOVERED_TAB:b=b.tabID;return H(a,b,!1)}return a}function H(a,b,c){var d=a.tabGroup;d=d.tabs.get(b);d&&(a=a.mergeIn(["tabGroup","tabs",b],{isHovered:c}));return a}function I(a,c){__p&&__p();switch(c.type){case h.SET_ALLOWED_RAISED_TABS:var d=c.allowedRaisedTabs,e=a.tabGroup.allowedRaisedTabs;if(d!==e){k.debug(c.type,JSON.stringify({count:d}));b("PinnedConversationNubsConfig").chatTabTypingPriority||(d=Math.max(1,d));var f=a.tabGroup.tabs.count(),g=f>d?d:f;c=d>e&&f>e;e=d<e&&f>d;(c||e)&&b("Bootloader").loadModules(["FantaTabsVisibleTypedLogger"],function(a){new a().setAllowedRaisedTabs(d).setOpenTabs(f).setVisibleTabs(g).log()},"FantaReducersTabs")}return J(a,d)}return a}function J(a,c){c===void 0&&(c=b("FantaConst").DEFAULT_ALLOWED_RAISED_TABS);if(c===a.tabGroup.allowedRaisedTabs)return a;b("PinnedConversationNubsConfig").chatTabTypingPriority||(c=Math.max(1,c));return a.mergeIn(["tabGroup"],{allowedRaisedTabs:c})}function K(a,c){__p&&__p();switch(c.type){case h.LOAD_FROM_DATA:var d=a.tabGroup,e=c.tabData,f=d.updatedTime;if(f>=e.updatedTime||e.updatedTime===void 0)return a;var g=Date.now();if(e.updatedTime>g){k.debug(c.type+"_future_date",JSON.stringify({currentTime:g,updatedTime:f,newerTime:e.updatedTime}));return a}a=J(a.set("tabGroup",new(b("FantaTypeTabGroup"))()),d.allowedRaisedTabs);var i=[];e.tabs.sort(function(a,b){return a.openCounter-b.openCounter}).forEach(function(b){i.push(b.id),a=r(a,b.id,!1,["fb_header_dock:loaded_from_browser_cookie"]),b.isMinimized&&(a=s(a,b.id,b.isMinimized))});e.tabs.sort(function(a,b){return a.focusCounter-b.focusCounter}).forEach(function(b){a=D(a,b.id,!0)});k.debug(c.type,JSON.stringify({updatedTime:f,newerTime:e.updatedTime,opened:i}));a=e.focusedTabID?D(a,e.focusedTabID,!0):E(a)}return a}function L(a,b){switch(b.type){case h.FOCUS_NEXT_TAB:return M(a)}return a}function M(a){__p&&__p();var b=a.tabGroup.focusedTabID,c=a.tabGroup.getRaisedandUnraisedTabs();c=c.raisedTabs;c=c.filter(function(a){return!a.isMinimized});if(c.count()<2)return a;var d=c.skipUntil(function(a){return a.id===b}).rest();if(d.count()===0)return D(a,c.first().id);else return D(a,d.first().id)}function N(a,b){__p&&__p();switch(b.type){case h.FOCUS_PREVIOUS_TAB:var c=a.tabGroup.focusedTabID;b=a.tabGroup.getRaisedandUnraisedTabs();b=b.raisedTabs;b=b.filter(function(a){return!a.isMinimized});if(b.count()<2)return a;var d=b.reverse().skipUntil(function(a){return a.id===c}).rest();if(d.count()===0)return D(a,b.last().id);else return D(a,d.first().id)}return a}e.exports={blurTab:p,closeAllTabs:B,closeAndTabNext:C,closeTab:z,focusNextTab:L,focusPreviousTab:N,focusTab:o,hoveredTab:F,loadFromData:K,minimizAllTabs:y,minimizeTab:d,openTab:a,receivedNewMessage:q,replaceTab:c,setAllowedRaisedTabs:I,unhoveredTab:G,unminimizeTab:f,onThreadPayloadReceived:t,closeGroupEntranceWarningDialog:w,optInOpenTabWithBlockees:x}}),null);
__d("FantaTypeBlockedWarningState",["immutable"],(function(a,b,c,d,e,f){"use strict";a={optedInThreadsWithBlockees:b("immutable").Map({})};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FantaTypeMercuryState",["immutable"],(function(a,b,c,d,e,f){"use strict";a={tabContents:b("immutable").Map({}),userInputRequest:{}};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FantaTypeAppState",["FantaTypeBlockedWarningState","FantaTypeMercuryState","FantaTypeTabGroup","immutable"],(function(a,b,c,d,e,f){"use strict";a={tabGroup:new(b("FantaTypeTabGroup"))(),mercury:new(b("FantaTypeMercuryState"))(),blockedWarning:new(b("FantaTypeBlockedWarningState"))()};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FantaAppStore",["FantaComposeViewReducers","FantaDispatcher","FantaReducersCookie","FantaReducersDockCalculator","FantaReducersLogging","FantaReducersMercury","FantaReducersMessages","FantaReducersPreLogging","FantaReducersTabs","FantaTypeAppState","FluxReduceStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[].concat(Object.values(b("FantaReducersPreLogging")),Object.values(b("FantaReducersTabs")),Object.values(b("FantaReducersMercury")),Object.values(b("FantaReducersMessages")),Object.values(b("FantaReducersDockCalculator")),Object.values(b("FantaReducersCookie")),Object.values(b("FantaComposeViewReducers")),Object.values(b("FantaReducersLogging")));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("FantaTypeAppState"))()};d.ignoreReducer=function(a){var b=Object.values(a);g=g.filter(function(a){return!b.find(function(b){return b===a})})};d.addReducers=function(a){this.ignoreReducer(a),g=g.concat(Object.values(a))};d.reduce=function(a,b){return g.reduce(function(a,c){return c(a,b)},a)};return c}(b("FluxReduceStore"));a.__moduleID=e.id;c=new a(b("FantaDispatcher"));e.exports=c}),null);
__d("ChatInput.react",["AbstractMentionsTextEditor.react","AutocompleteSearchSource","AutocompleteStrategy","BootloadedComponent.react","Bootloader","CompositeDraftDecorator","ContentState","DocumentCompositeMentionsSource","DocumentMentionsSource","DraftModifier","EditorState","EmojiFormat.bs","FantaAppStore","FantaDispatcher","JSResource","MercuryIDs","MercuryThreadIDMap","MessengerEmojiSpan.react","MessengerEmoticonSpan.react","MessengerMentionsEntityDecorator.react","MessengerMentionSource","MessengerParticipants.bs","MessengerUploadFilesUtil.bs","MessengerUserInputUtils","React","ReactDOM","TypingDetectorController","cancelAnimationFrame","clearImmediate","createCancelableFunction","createMessengerMentionDraftEntity","debounce","emptyFunction","getDefaultKeyBinding","getEntityMatcher","getProfileRangesForContentState","getThreadTypeNameFromThreadType","getVisibleValueForContentStateWithMessengerEmoji","handleBeforeInputForMessengerEmoji","handleBeforeInputForMessengerEmoticon","handleSoftNewlineForMessengerEmoticon","ifRequired","insertEmoticonIntoEditorState","insertMessengerEmojiIntoContentState","isSoftNewlineEvent","requestAnimationFrame","replaceMentionedTextInEditorState","setImmediate","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MercuryThreadIDMap").get();a=b("React").PropTypes;c=b("emptyFunction").thatReturnsNull;var h=1,i="handled",j=8,k="not-handled";d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$6=b("createCancelableFunction")(function(a,c){var e=a.viewer,f=a.thread;if(!f)return;if(!f.participants)return;d.$3=b("MessengerParticipants.bs").getMulti(f.participants,function(a){d.setState({mentionCreationForContentStateFn:b("createMessengerMentionDraftEntity"),mentionsSource:c(e,f.participants.map(function(b){return a[b]}).filter(Boolean),f,b("gkx")("678578"),b("gkx")("678579"))})})});d.$8=function(){var a=d.$11(d.state.editorState.getCurrentContent());d.$2=b("setImmediate")(function(){d.$2=null;var c=b("EditorState").set(d.state.editorState,{decorator:a});d.setState({editorState:c})})};d.onChange=function(a){__p&&__p();if(a!==d.state.editorState){d.setState({editorState:a});if(d.getValueFromEditorState(a)!==d.getValueFromEditorState(d.state.editorState)){d.$9(a,d.props.composer);a=b("gkx")("964442");var c=b("FantaAppStore").getState().mercury.userInputRequest;if(a&&c.isUserInputRequested){a=new(b("AutocompleteSearchSource"))(d.getValueFromEditorState(d.state.editorState),c.requestNumResults,c.requestType);c=new(b("DocumentMentionsSource"))(b("AutocompleteStrategy"),a);a=new(b("DocumentCompositeMentionsSource"))([c]);d.setState({isUserInputAutocomplete:!0,mentionCreationForContentStateFn:b("MessengerUserInputUtils"),mentionsSource:a})}}}};d.onReturn=function(a,c){__p&&__p();if(b("isSoftNewlineEvent")(a)){var e=b("handleSoftNewlineForMessengerEmoticon");d.setState({editorState:e(c)});return i}a.persist();d.setState({},function(){b("MessengerUploadFilesUtil.bs").sendAttchments(d.props.fileUploader,d.props.uploadPhotoFn),d.$12()&&(d.props.inputKeyDown&&d.props.inputKeyDown(a,d.getValue())),b("Bootloader").loadModules(["M4ComposerTypedLogger","M4ComposerLoggerEvents"],function(a,b){new a().setEvent(b.KEYBOARD_SEND).setVC(d.props.viewer).log()},"ChatInput.react")});return i};d.getValue=function(){return d.getValueFromEditorState(d.state.editorState)};d.$13=function(a,b){d.props.onBeforeInput&&d.props.onBeforeInput();var c=d.$14(a,b);a=d.$15(a,b);return c||a?i:k};d.$17=function(a){return d.$16(a)};d.$18=function(a,b){return d.$16(b)};d.state={editorState:d.$10(d.props.defaultText)};d.$20=function(){var a=(d.state.addedMentionsCount||0)+1;d.setState({addedMentionsCount:a})};d.$22=function(a,c){a=(d.state.mentionsTriggeredCount||0)+1;a={mentionsTriggeredCount:a};d.state.mentionsTriggerSource||(a.mentionsTriggerSource=c===h?b("MessengerMentionSource").ATSIGN:b("MessengerMentionSource").TYPEAHEAD);d.setState(a)};d.$21=function(a){d.refs.input.isShowingMentionables()||d.props.onEscape&&d.props.onEscape(a)};d.state.mentionCreationForContentStateFn=b("createMessengerMentionDraftEntity");return d}var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this,c=b("gkx")("964442");c&&b("FantaDispatcher").explicitlyRegisterStore(b("FantaAppStore"));this.$4=b("ReactDOM").findDOMNode(this).getBoundingClientRect().height;this.props.resizeFn(this.$4);this.setState({triggeredWord:this.props.triggeredWord});this.$5();b("Bootloader").loadModules(["createMentionsSearchSourceFromParticipants"],function(b){a.$6(a.props,b)},"ChatInput.react");b("Bootloader").loadModules(["FantaMessageActions"],b("emptyFunction"),"ChatInput.react");c=this.props;var d=c.thread,e=c.threadID,f=b("ReactDOM").findDOMNode(this.refs.input);f&&g.getServerIDFromClientID(e,function(c){a.$1=new(b("TypingDetectorController"))(d,b("MercuryIDs").getUserIDFromThreadID(e),f,"mercury-chat",null,c,a.getValue)})};d.componentWillUnmount=function(){this.$2&&b("clearImmediate")(this.$2),this.$7&&b("cancelAnimationFrame")(this.$7),this.$6.cancel(),this.$7=null,this.$1&&this.$1.destroy(),this.$3&&b("MessengerParticipants.bs").removeCallback(this.$3)};d.UNSAFE_componentWillReceiveProps=function(a){var c=this;this.state.triggeredWord!==a.triggeredWord&&this.setState({triggeredWord:a.triggeredWord},this.$8);(!this.props.thread||!a.thread||l(a,this.props))&&b("Bootloader").loadModules(["createMentionsSearchSourceFromParticipants"],function(b){c.$6(a,b)},"ChatInput.react");a.composer.version!==this.props.composer.version&&this.resetState()};d.componentDidUpdate=function(){__p&&__p();var a=this;this.$5();this.$7=b("requestAnimationFrame")(function(){if(!a.$7)return;a.$7=null;var c=b("ReactDOM").findDOMNode(a).getBoundingClientRect();c=c.height;a.$4!==c&&a.props.resizeFn(c);a.$4=c});this.state.isUserInputAutocomplete&&!b("FantaAppStore").getState().mercury.userInputRequest.isUserInputRequested&&(this.setState({isUserInputAutocomplete:!1}),b("Bootloader").loadModules(["createMentionsSearchSourceFromParticipants"],function(b){a.$6(a.props,b)},"ChatInput.react"))};d.$5=function(){var a=this,c=this.props.composer,d=this.props.onTextChange;this.$9=d?b("debounce")(function(b){d(a.getValueFromEditorState(b),c,200)},200):b("emptyFunction")};d.$10=function(a){a=b("ContentState").createFromText(a);return b("EditorState").createWithContent(a,this.$11(a))};d.resetState=function(){this.state.typeaheadReporter&&(this.state.typeaheadReporter.sessionEnd(),this.state.typeaheadReporter.sessionStart()),this.setState({editorState:b("EditorState").moveFocusToEnd(this.$10("")),triggeredWord:null,addedMentionsCount:0,mentionsTriggeredCount:0,mentionsTriggerSource:null})};d.onSend=function(a){var c=this.getMentions();if(a&&(c&&c.length||this.state.addedMentionsCount||this.state.mentionsTriggeredCount||this.state.mentionsTriggerSource)){var d=this.state,e=d.addedMentionsCount,f=d.mentionsTriggeredCount,g=d.mentionsTriggerSource,h=this.props.thread;b("Bootloader").loadModules(["MessengerMentionsTypedLogger","MessengerMentionsLoggerEvents"],function(d,i){new d().setEvent(i.MENTION).setGroupSize(h&&h.participants&&h.participants.length).setNumDelivered(c?c.length:0).setNumSelects(e).setNumTriggers(f).setThreadid(h&&h.thread_id).setThreadType(b("getThreadTypeNameFromThreadType")(h&&h.thread_type)).setOfflineThreadid(a.offline_threading_id).updateExtraData({source:g}).log()},"ChatInput.react")}};d.$11=function(a){var c=[{strategy:b("getEntityMatcher")(function(a){return a.getType()==="EMOTICON"},a.getEntity),component:b("MessengerEmoticonSpan.react")}];c.push({strategy:b("getEntityMatcher")(function(a){return a.getType()==="EMOJI"},a.getEntity),component:b("MessengerEmojiSpan.react")});c.push({strategy:b("getEntityMatcher")(function(a){return a.getType()==="MENTION"},a.getEntity),component:b("MessengerMentionsEntityDecorator.react")});return new(b("CompositeDraftDecorator"))(c)};d.$12=function(){var a=this.getValue(),b=this.props.composer.sharePreview;return a&&a.trim().length>0||!!(b&&b.params&&b.type)};d.handleSend=function(){var a=this;this.setState({},function(){b("MessengerUploadFilesUtil.bs").sendAttchments(a.props.fileUploader,a.props.uploadPhotoFn),a.$12()&&(a.props.handleSend&&a.props.handleSend(a.getValue())),b("Bootloader").loadModules(["M4ComposerTypedLogger","M4ComposerLoggerEvents"],function(b,c){new b().setEvent(c.CLICK_SEND).setVC(a.props.viewer).log()},"ChatInput.react")})};d.getValueFromEditorState=function(a){a=a.getCurrentContent();return b("getVisibleValueForContentStateWithMessengerEmoji")(a)};d.getMentions=function(){var a=this.props.thread;return b("getProfileRangesForContentState")(this.state.editorState.getCurrentContent(),a?a.thread_fbid:null)};d.focus=function(){this.refs.input&&this.refs.input.focus&&this.refs.input.focus()};d.$14=function(a,c){a=b("handleBeforeInputForMessengerEmoticon")(c,a);if(a===c)return!1;this.setState({editorState:a});return!0};d.$15=function(a,c){a=b("handleBeforeInputForMessengerEmoji")(c,a);if(a===c)return!1;this.setState({editorState:a});return!0};d.$16=function(a){__p&&__p();var c=this,d=/^image\//,e=a.filter(function(a){return d.test(a.type)});if(e.length){var f=this.props.composer;b("ifRequired")("FantaMessageActions",function(a){a.prepareFilesForSend(c.props.threadID,e,f)},function(){b("Bootloader").loadModules(["FantaMessageActions"],function(a){a.prepareFilesForSend(c.props.threadID,e,f)},"ChatInput.react")});return!0}return!1};d.insertEmoticon=function(a){a=b("insertEmoticonIntoEditorState")(a,this.state.editorState);a!==this.state.editorState&&this.setState({editorState:a})};d.insertEmoji=function(a){var c=this.state.editorState;a=b("insertMessengerEmojiIntoContentState")(b("EmojiFormat.bs").codeArrayToCodeString(a),c.getCurrentContent(),c.getSelection(),c.getCurrentInlineStyle());c=b("EditorState").push(c,a,"insert-characters");c!==this.state.editorState&&this.setState({editorState:b("EditorState").forceSelection(c,a.getSelectionAfter())})};d.appendText=function(a){var c=this.state.editorState,d=c.getSelection(),e=c.getCurrentContent();e=b("DraftModifier").insertText(e,d,a);c=b("EditorState").push(c,e,"insert-characters");this.setState({editorState:c})};d.render=function(){var a=babelHelpers["extends"]({},this.props,this.$19());return b("React").createElement(b("AbstractMentionsTextEditor.react"),babelHelpers["extends"]({ref:"input"},a,{editorState:this.state.editorState,onChange:this.onChange,handleBeforeInput:this.$13,handlePastedFiles:this.$17,handleDroppedFiles:this.$18,handleReturn:this.onReturn,spellCheck:!0,stripPastedStyles:!0,textAlignment:"left"}))};d.$19=function(){return{autoHighlight:!0,handleContentReturn:this.onReturn,maxResults:j,mentionResultsProps:{typeaheadView:b("BootloadedComponent.react").create(b("JSResource")("ChatMentionsInputTypeaheadView.react").__setRef("ChatInput.react")),typeaheadViewProps:{},position:"above",autoflip:!0},mentionResultsComponent:b("BootloadedComponent.react").create(b("JSResource")("MentionsLayer.react").__setRef("ChatInput.react")),mentionCreationForContentStateFn:this.state.mentionCreationForContentStateFn,mentionsSource:this.state.mentionsSource,onAddMention:this.$20,onEscape:this.$21,onShowMentions:this.$22}};d.addMention=function(a){a=b("replaceMentionedTextInEditorState")(a,this.state.editorState,0,b("createMessengerMentionDraftEntity"));this.state.mentionsTriggerSource||this.setState({mentionsTriggerSource:b("MessengerMentionSource").REPLY});this.onChange(a);this.$20()};return c}(b("React").Component);d.propTypes={composer:a.object.isRequired,defaultText:a.string,blockStyleFn:a.func,fileUploader:a.object,inputKeyDown:a.func,handleSend:a.func,keyBindingFn:a.func,onBeforeInput:a.func,onBlur:a.func,onEscape:a.func,onFocus:a.func,onTab:a.func,resizeFn:a.func,thread:a.object,threadID:a.string,viewer:a.string};d.defaultProps={blockStyleFn:c,keyBindingFn:b("getDefaultKeyBinding")};function l(a,b){a=a.thread.participants;b=b.thread.participants;if(!a||!b)return!0;a=a.filter(Boolean);b=b.filter(Boolean);return a.length!==b.length}e.exports=d}),null);
__d("MessengerCustomColorUtils.bs",["cssVar","CurrentUser","MessengerDotComAndInboxM4Check.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(){if(b("CurrentUser").isWorkUser())return"#373e4c";else if(b("MessengerDotComAndInboxM4Check.bs").yes)return"#0099ff";else return"#0084ff"}function a(a){a=a.solid_color;if(a==null)return h(0);else return a}f.defaultColor=h;f.customColorOrBlue=a}),null);
__d("MessengerCustomColorUtils.re",["MessengerCustomColorUtils.bs"],(function(a,b,c,d,e,f){a=b("MessengerCustomColorUtils.bs").defaultColor;f.defaultColor=a}),null);
__d("ChatPhotoUploader.react",["cssVar","cx","fbt","Promise","Bootloader","ChatConfig","CurrentUser","InlineBlock.react","M4IconPhoto.bs","MercuryConfig","MessengerCustomColorUtils.re","MessengerDotComAndInboxM4Check.bs","MessengerEnvironment","MessengerPaperclipIconSVGM4React.re","MessengerPhotoIconSVGM4React.re","React","ReactDOM","SubscriptionsHandler","TooltipData","emptyFunction","gkx","ifRequired","joinClasses","promiseDone"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("M4IconPhoto.bs").jsComponent;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$2=!1;d.$6=!1;d.$14=function(a,b){d.props.onSubmit&&d.props.onSubmit(a,b),d.$15("show_file_placeholder")};d.$16=function(a,b){d.props.onAllUploadsComplete&&d.props.onAllUploadsComplete(a,b),d.$15("upload_files_complete"),d.$6||d.$11()};d.$17=function(a,b){d.props.onLastUploadFail&&d.props.onLastUploadFail(a,b),d.$6||d.$11()};d.$18=function(a,b){d.props.onLastUploadCancel&&d.props.onLastUploadCancel(a,b),d.$6||d.$11()};d.$19=function(a,b){d.props.onUploadError&&d.props.onUploadError(b),d.$15("upload_file_failed"),d.$6||d.$11()};d.$20=function(){__p&&__p();d.$3||(d.$2=!0,d.$3=new(b("Promise"))(function(a){__p&&__p();d.$5.addSubscriptions(b("Bootloader").loadModules(["ChatAutoSendPhotoUploader"],function(c){__p&&__p();b("promiseDone")(d.$4,function(e){__p&&__p();d.$2=!1;if(!d.$7){a(null);return}e=new c(b("ReactDOM").findDOMNode(d.$7),b("ReactDOM").findDOMNode(d.$9),b("ReactDOM").findDOMNode(d.$10),b("MercuryConfig").msgr_region);e.setAllowCrossPage(d.props.allowCrossPage);d.$5.addSubscriptions(e.subscribe("submit",d.$14),e.subscribe("all-uploads-completed",d.$16),e.subscribe("last-upload-failed",d.$17),e.subscribe("last-upload-canceled",d.$18),e.subscribe("file-upload-error",d.$19));d.$1=e;a(d.$1)})},"ChatPhotoUploader.react"))}));return d.$3};d.$4=new(b("Promise"))(function(a,b){d.$8=a});d.$5=new(b("SubscriptionsHandler"))();return d}var d=c.prototype;d.shouldComponentUpdate=function(a){return a.actionURI!=this.props.actionURI||a.disabled!==this.props.disabled||a.threadID!==this.props.threadID||a.color!==this.props.color||a.fill!==this.props.fill};d.componentDidMount=function(){this.$6=!0,typeof this.props.onMount==="function"&&this.props.onMount(this),this.$5.addSubscriptions(b("MessengerEnvironment").messengerui?b("Bootloader").loadModules(["MessengerActions"],b("emptyFunction"),"ChatPhotoUploader.react"):b("Bootloader").loadModules(["FantaMessageActions"],b("emptyFunction"),"ChatPhotoUploader.react"))};d.componentDidUpdate=function(){this.$1&&this.$1.setAllowCrossPage(this.props.allowCrossPage)};d.componentWillUnmount=function(){(!this.isUploading()||!this.props.allowCrossPage)&&this.$11(),this.$6=!1};d.render=function(){var a=this,c=b("ChatConfig").get("single_line_composer")&&!b("MessengerEnvironment").messengerui?i._("Th\u00eam \u1ea3nh, video v\u00e0 file"):"",d=this.props.imagesOnly?i._("Th\u00eam \u1ea3nh"):i._("Th\u00eam file"),e=b("joinClasses")("_4q61"+(this.props.customUI?"":" _5f0v")+(this.props.customUI?"":" _509v"),this.props.linkClassName),f=this.props.threadID,g=null;b("gkx")("834752")&&b("MessengerDotComAndInboxM4Check.bs").yes?g=b("MessengerPhotoIconSVGM4React.re").make({fill:this.props.fill||b("MessengerCustomColorUtils.re").defaultColor()}):!b("MessengerEnvironment").messengerui&&b("ChatConfig").get("single_line_composer")?g=b("React").createElement(j,{filled:!1,color:this.props.color}):b("MessengerEnvironment").messengerui&&b("CurrentUser").isWorkUser()&&b("gkx")("1072568")?g=b("MessengerPaperclipIconSVGM4React.re").make({fill:this.props.fill||b("MessengerCustomColorUtils.re").defaultColor()}):g=b("React").createElement("i",{className:this.props.imageClassName,alt:i._("M\u00e1y \u1ea3nh")});return b("React").createElement("form",babelHelpers["extends"]({action:this.props.actionURI,className:"_vzk _4uld",title:d},b("TooltipData").propsFor(c),{method:"post",onClick:function(b){b.stopPropagation(),a.props.disabled&&b.preventDefault(),a.$12()},ref:function(b){return a.$8(a.$7=b)}}),b("React").createElement("input",{type:"hidden",name:"attach_id",ref:function(b){return a.$10=b}}),b("React").createElement("input",{type:"hidden",name:"images_only",value:this.props.imagesOnly}),b("React").createElement(b("InlineBlock.react"),{className:b("joinClasses")(this.props.className,"_m _4q60 _3rzn"),"data-testid":"photo_upload_button"},b("React").createElement("span",{className:e},g,b("React").createElement("input",{disabled:this.props.disabled,type:"file",className:b("joinClasses")(this.props.inputClassname,"_n _2__f _4e5e"),"data-testid":"photo_input",name:"attachment[]",multiple:!0,accept:this.props.imagesOnly?"image/*":"*",ref:function(b){return a.$9=b},title:d,onChange:function(b){a.$13(b,f)}}))))};d.$12=function(){var a=this.props.imagesOnly;b("Bootloader").loadModules(["M4ComposerTypedLogger","M4ComposerLoggerEvents"],function(b,c){new b().setEvent(a?c.CLICK_PHOTO_UPLOADER:c.CLICK_FILE_UPLOADER).log()},"ChatPhotoUploader.react")};d.$13=function(a,c){__p&&__p();var d=this,e=a.target.files,f=function(){d.$9&&(d.$9.value="")};b("MessengerEnvironment").messengerui?b("ifRequired")("MessengerActions",function(a){a.prepareFilesForSend(c,e,"ComposerIcons"),f()},function(){d.$5.addSubscriptions(b("Bootloader").loadModules(["MessengerActions"],function(a){a.prepareFilesForSend(c,e,"ComposerIcons"),f()},"ChatPhotoUploader.react"))}):b("ifRequired")("FantaMessageActions",function(a){d.props.composer&&a.prepareFilesForSend(c,e,d.props.composer,f)},function(){d.$5.addSubscriptions(b("Bootloader").loadModules(["FantaMessageActions"],function(a){d.props.composer&&a.prepareFilesForSend(c,e,d.props.composer,f)},"ChatPhotoUploader.react"))});this.props.focusInput&&this.props.focusInput()};d.$15=function(a){var c=this.props.threadID;if(!c)return;this.$5.addSubscriptions(b("Bootloader").loadModules(["MessengerShareFilePreviewFunnelLogger","MessengerShareFilePreviewFunnelLoggerConstants"],function(d,e){d.appendAction(!b("MessengerEnvironment").messengerui,a,c),a===e.UPLOAD_FILES_COMPLETE&&d.endFunnel(c)},"ChatPhotoUploader.react"))};d.isUploading=function(){return this.$1&&this.$1.isUploading()||!!this.$2};d.uploadFiles=function(a){b("promiseDone")(this.$20(),function(b){b.uploadFiles(a)})};d.uploadURL=function(a){b("promiseDone")(this.$20(),function(b){b.uploadURL(a)})};d.$11=function(){this.$5.release(),this.$1&&this.$1.destroy()};return c}(b("React").Component);a.defaultProps={actionURI:b("MercuryConfig").upload_url,allowCrossPage:!0,costomUI:!1,disabled:!1,imageClassName:"_509w",imagesOnly:!0,linkClassName:"",onSubmit:b("emptyFunction"),onAllUploadsComplete:b("emptyFunction"),onLastUploadFail:b("emptyFunction"),onLastUploadCancel:b("emptyFunction"),color:"#0084ff"};e.exports=a}),null);
__d("MessengerHotLikeIconSVGM4React.bs",["cx","cssVar","React","gkx","uniqueID","ReactDOMRe.bs","MessengerColors","MessengerCustomColorUtils.bs","MessengerDotComAndInboxM4Check.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){if(b("gkx")("834752")&&b("MessengerDotComAndInboxM4Check.bs").yes||b("gkx")("1072568"))return b("React").createElement("svg",{className:"_7oal",height:"36px",width:"36px",viewBox:"0 1 36 36"},b("React").createElement("path",{id:"Fill-17",d:"M10,30 L7.75,30 C6.625,30 6,27.7515306 6,23.3673469 C6,18.9831633 6.625,16.7346939 7.75,16.7346939 L10,16.7346939 C10.552,16.7346939 11,17.1918367 11,17.755102 L11,28.9795918 C11,29.5428571 10.552,30 10,30 M17,6.02040816 C17,5.44540816 17.4195,5.00255102 18,5 C19.2035,5 22,5.79081633 22,10.6122449 C22,12.2443878 21.8015,13.130102 21.7195,13.7163265 C21.719,13.7183673 21.719,13.7204082 21.7185,13.722449 C21.6865,13.9566327 21.872,14.1647959 22.113,14.1647959 C26.908,14.1647959 29.469,15.4336735 29.469,16.7290816 C29.469,17.3612245 29.211,17.9321429 28.7975,18.3535714 C29.513,18.7591837 30,19.5091837 30,20.3780612 C30,21.3642857 29.4255,22.2045918 28.5475,22.5515306 C28.821,22.9326531 28.9845,23.3954082 28.9845,23.8969388 C28.9845,24.9704082 28.3395,25.8653061 27.3365,26.1438776 C27.4285,26.377551 27.4845,26.6290816 27.4845,26.8943878 C27.4845,28.0459184 25.5485,28.9795918 21,28.9795918 C17.675,28.9795918 15.3815,28.3857143 14.5,27.9591837 C13.851,27.6454082 13,27.0770408 13,25.4081633 L13,18.7755102 C13,15.0403061 17.25,13.7760204 17.25,10.1020408 C17.25,7.78826531 17,6.81326531 17,6.02040816",fill:a}));else return b("React").createElement("svg",{height:"32px",width:"32px",viewBox:"0 0 36 36"},b("React").createElement("path",{id:"Fill-17",d:"M10,30 L7.75,30 C6.625,30 6,27.7515306 6,23.3673469 C6,18.9831633 6.625,16.7346939 7.75,16.7346939 L10,16.7346939 C10.552,16.7346939 11,17.1918367 11,17.755102 L11,28.9795918 C11,29.5428571 10.552,30 10,30 M17,6.02040816 C17,5.44540816 17.4195,5.00255102 18,5 C19.2035,5 22,5.79081633 22,10.6122449 C22,12.2443878 21.8015,13.130102 21.7195,13.7163265 C21.719,13.7183673 21.719,13.7204082 21.7185,13.722449 C21.6865,13.9566327 21.872,14.1647959 22.113,14.1647959 C26.908,14.1647959 29.469,15.4336735 29.469,16.7290816 C29.469,17.3612245 29.211,17.9321429 28.7975,18.3535714 C29.513,18.7591837 30,19.5091837 30,20.3780612 C30,21.3642857 29.4255,22.2045918 28.5475,22.5515306 C28.821,22.9326531 28.9845,23.3954082 28.9845,23.8969388 C28.9845,24.9704082 28.3395,25.8653061 27.3365,26.1438776 C27.4285,26.377551 27.4845,26.6290816 27.4845,26.8943878 C27.4845,28.0459184 25.5485,28.9795918 21,28.9795918 C17.675,28.9795918 15.3815,28.3857143 14.5,27.9591837 C13.851,27.6454082 13,27.0770408 13,25.4081633 L13,18.7755102 C13,15.0403061 17.25,13.7760204 17.25,10.1020408 C17.25,7.78826531 17,6.81326531 17,6.02040816",fill:a}))}var i=b("uniqueID")();function c(a){var c=b("gkx")("1072568");c=c?"#fafbfc":"white";a=b("ReactDOMRe.bs").Style[1](b("ReactDOMRe.bs").Style[1](b("ReactDOMRe.bs").Style[1](b("ReactDOMRe.bs").Style[1](b("MessengerColors").makeLinearGradient(a.gradient_colors,a.solid_color,b("MessengerCustomColorUtils.bs").defaultColor(0)),"backgroundAttachment","fixed"),"height","95%"),"width","95%"),"margin","auto");return b("React").createElement(b("React").Fragment,void 0,b("React").createElement("svg",{style:{height:"100%",position:"absolute",width:"100%"},viewBox:"0 0 36 36"},b("React").createElement("mask",{id:i},b("React").createElement("rect",{height:"100%",width:"100%",fill:c,x:"0",y:"0"}),b("React").createElement("path",{d:"M10,30 L7.75,30 C6.625,30 6,27.7515306 6,23.3673469 C6,18.9831633 6.625,16.7346939 7.75,16.7346939 L10,16.7346939 C10.552,16.7346939 11,17.1918367 11,17.755102 L11,28.9795918 C11,29.5428571 10.552,30 10,30 M17,6.02040816 C17,5.44540816 17.4195,5.00255102 18,5 C19.2035,5 22,5.79081633 22,10.6122449 C22,12.2443878 21.8015,13.130102 21.7195,13.7163265 C21.719,13.7183673 21.719,13.7204082 21.7185,13.722449 C21.6865,13.9566327 21.872,14.1647959 22.113,14.1647959 C26.908,14.1647959 29.469,15.4336735 29.469,16.7290816 C29.469,17.3612245 29.211,17.9321429 28.7975,18.3535714 C29.513,18.7591837 30,19.5091837 30,20.3780612 C30,21.3642857 29.4255,22.2045918 28.5475,22.5515306 C28.821,22.9326531 28.9845,23.3954082 28.9845,23.8969388 C28.9845,24.9704082 28.3395,25.8653061 27.3365,26.1438776 C27.4285,26.377551 27.4845,26.6290816 27.4845,26.8943878 C27.4845,28.0459184 25.5485,28.9795918 21,28.9795918 C17.675,28.9795918 15.3815,28.3857143 14.5,27.9591837 C13.851,27.6454082 13,27.0770408 13,25.4081633 L13,18.7755102 C13,15.0403061 17.25,13.7760204 17.25,10.1020408 C17.25,7.78826531 17,6.81326531 17,6.02040816",fill:"black"})),b("React").createElement("rect",{height:"100%",width:"100%",fill:c,mask:"url(#"+(String(i)+")")})),b("React").createElement("div",{style:a}))}f.make=a;f.uniqueId=i;f.makeWithGradient=c}),null);
__d("MessengerHotLikeOutlineSVG.react",["cssVar","fbt","CurrentUser","MercuryShareAttachmentRenderLocations","React","uniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;var i="transparent",j=h._("D\u1ea5u hi\u1ec7u gi\u01a1 ng\u00f3n c\u00e1i");c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={titleId:b("uniqueID")()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.color||(b("CurrentUser").isWorkUser()?"#373e4c":"#0084ff"),c={height:this.props.height||"85%"};c.width=this.props.width;this.props.location!==b("MercuryShareAttachmentRenderLocations").CHAT&&this.props.location!==b("MercuryShareAttachmentRenderLocations").PAGES_INBOX&&(c.width=this.props.width||"66%");return b("React").createElement("svg",{"aria-labelledby":this.state.titleId,version:"1.1",viewBox:"0 0 40.16 42.24",preserveAspectRatio:"xMinYMax meet",style:c},b("React").createElement("title",{id:this.state.titleId},j),b("React").createElement("path",{d:"M935.36,1582.44a0,0,0,0,0,0,.06,3.59,3.59,0,0,1-.72,6.53,0,0,0,0,0,0,0,3.56,3.56,0,0,1,.71,2.13,3.6,3.6,0,0,1-3,3.54, 0,0,0,0,0,0,.05,3.56,3.56,0,0,1,.38,1.61,3.61,3.61,0,0,1-3.42,3.6H910v-19.6l5.27-7.9a4,4,0,0,0,.66-2.31l-0.1-4c-0.22-2.4-.09-2.06, 1.13-2.37,2-.51,7.16,1.59,5.13,12.17h11.06A3.59,3.59,0,0,1,935.36,1582.44ZM899,1581h7v22h-7v-22Z",transform:"translate(-898.5 -1563.26)",fill:i,fillRule:"evenodd",stroke:a,strokeLinecap:"round",strokeWidth:"5%"}))};return c}(b("React").Component);c.propTypes={color:a.string,height:a.string,width:a.string,location:a.string};e.exports=c}),null);
__d("MessengerHotLikeButtonInnerIcon.react",["cssVar","EmojiLikeConstants","Image.react","MessengerCustomColorUtils.bs","MessengerDotComAndInboxM4Check.bs","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikeOutlineSVG.react","MessengerSupportedEmojiUtils","React","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.CustomRenderer,d=a.customLike,e=a.customColor,f=a.location,g=a.disabled,h=a.renderSize;h=h===void 0?16:h;a=a.thread;var i=null,j={};if(d&&d.emoji){d=d.emoji;d=b("MessengerSupportedEmojiUtils").getNewEmojiData(d,b("EmojiLikeConstants").size.SMALL);j.background="none";i=b("React").createElement(b("Image.react"),{src:d&&d.url,style:{padding:h==16?0:3,display:"block",height:h,width:h}})}else if(c)i=b("React").createElement(c,{color:e,location:f,renderSize:h});else if(e)if(b("MessengerDotComAndInboxM4Check.bs").yes||b("gkx")("1072568")){j=a&&a.gradient_colors&&a.gradient_colors.length?a.gradient_colors[a.gradient_colors.length-1]:e;i=b("MessengerHotLikeIconSVGM4React.bs").make(j)}else i=b("React").createElement(b("MessengerHotLikeOutlineSVG.react"),{color:e,location:f});else b("MessengerDotComAndInboxM4Check.bs").yes&&(i=b("MessengerHotLikeIconSVGM4React.bs").make(g?"rgba(0, 0, 0, 0.12)":b("MessengerCustomColorUtils.bs").defaultColor()));return i}e.exports=a}),null);
__d("MessengerHotLikePreviewEvents",["mixInEventEmitter"],(function(a,b,c,d,e,f){"use strict";a={START:"start",STOP:"stop",STOP_EMOJI:"stop_emoji",POP:"pop",REMOVE:"remove",FINISH_ANIMATION:"finish_animation",FINISH_EMOJI_ANIMATION:"finish_emoji_animation"};b("mixInEventEmitter")(a,{start:!0,stop:!0,stop_emoji:!0,pop:!0,remove:"remove",finish_animation:"finish_animation",finish_emoji_animation:"finish_emoji_animation"});e.exports=a}),null);
__d("MessengerHotLikeUtils",["EmojiLikeConstants","StickerConstants","XStickerAssetController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={SizeTimes:{small:1e3,medium:2e3,large:3e3},getStickerIDForTime:function(a){var c=b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;switch(!0){case a<this.SizeTimes.small:c=b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;break;case a<this.SizeTimes.medium:c=b("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID;break;case a<this.SizeTimes.large:c=b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID;break}return c},getEmojiSizeForTime:function(a){var c=b("EmojiLikeConstants").size.SMALL;a<this.SizeTimes.small?c=b("EmojiLikeConstants").size.SMALL:a<this.SizeTimes.medium?c=b("EmojiLikeConstants").size.MEDIUM:a<this.SizeTimes.large&&(c=b("EmojiLikeConstants").size.LARGE);return c},getMetadataForHotLike:function(a){__p&&__p();var c;switch(a){case b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:c=120;break;case b("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID:c=84;break;case b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID:c=35;break;case b("EmojiLikeConstants").size.LARGE:c=64;break;case b("EmojiLikeConstants").size.MEDIUM:c=64;break;case b("EmojiLikeConstants").size.SMALL:c=32;break}return c?{height:c,width:c}:void 0},getPreviewURI:function(){return b("XStickerAssetController").getURIBuilder().setInt("sticker_id",b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID).setEnum("image_type","BestEffortImage").getURI().toString()},getURIWithID:function(a){return b("XStickerAssetController").getURIBuilder().setInt("sticker_id",a).setEnum("image_type","BestEffortImage").getURI().toString()},getCustomEmojiFromThread:function(a){return a&&a.custom_like_icon}};e.exports=a}),null);
__d("WorkQuickchatHotLikeInnerButton.react",["cssVar","cx","EmojiLikeConstants","Image.react","MessengerCustomColorUtils.bs","MessengerDotComAndInboxM4Check.bs","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikeOutlineSVG.react","MessengerSupportedEmojiUtils","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.CustomRenderer,d=a.customLike,e=a.customColor,f=a.location,g=a.disabled,h=a.renderSize;a=a.thread;var i=null;if(d&&d.emoji){d=d.emoji;d=b("MessengerSupportedEmojiUtils").getNewEmojiData(d,b("EmojiLikeConstants").size.SMALL);i=b("React").createElement(b("Image.react"),{className:"_7rpg",src:d&&d.url})}else if(c){d=this.props.CustomRenderer;i=b("React").createElement(d,{color:e,location:f,renderSize:h})}else if(e)if(b("MessengerDotComAndInboxM4Check.bs").yes){c=a&&a.gradient_colors&&a.gradient_colors.length?a.gradient_colors[a.gradient_colors.length-1]:e;i=b("MessengerHotLikeIconSVGM4React.bs").make(c)}else i=b("React").createElement(b("MessengerHotLikeOutlineSVG.react"),{height:"100%",width:"100%",color:e,location:f});else b("MessengerDotComAndInboxM4Check.bs").yes&&(i=b("MessengerHotLikeIconSVGM4React.bs").make(g?"rgba(0, 0, 0, 0.12)":b("MessengerCustomColorUtils.bs").defaultColor()));return i}e.exports=a}),null);
__d("withMessengerSource",["MessengerSourceContext.re","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useContext;function a(a,c){var d;c===!0?c=b("React").forwardRef(function(c,d){var e=g(b("MessengerSourceContext.re").context);return b("React").createElement(a,babelHelpers["extends"]({},c,{ref:d,source:e}))}):c=function(c){var d=g(b("MessengerSourceContext.re").context);return b("React").createElement(a,babelHelpers["extends"]({},c,{source:d}))};c.displayName=((d=(d=a.displayName)!=null?d:a.name)!=null?d:"Component")+"WithMessengerSource";return c}e.exports=a}),null);
__d("MessengerHotLikeButton.react",["cx","fbt","Bootloader","EmojiLikeConstants","ImmutableObject","Keys","KeyStatus","Link.react","MercuryMessageObject","MessengerEnvironment","MessengerHotLikeButtonInnerIcon.react","MessengerHotLikePreviewEvents","MessengerHotLikeUtils","MessengerSurfaceType.re","MessengerSurfaceContext.re","React","StickerConstants","WorkQuickchatHotLikeInnerButton.react","clearInterval","clearTimeout","ifRequired","joinClasses","setIntervalAcrossTransitions","setTimeoutAcrossTransitions","withMessengerSource"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MercuryMessageObject").get(),j=b("MessengerSurfaceContext.re").context;c=b("React").PropTypes;var k=b("React").useContext,l=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){__p&&__p();var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=c.call.apply(c,[this].concat(f))||this,d.$1=null,d.$2=null,d.$3=null,d.$4=null,d.$6=function(a){(d.props.disabled||d.$3)&&(a.preventDefault(),a.stopPropagation());if(d.props.disabled||a.button!==0)return;d.props.onMouseDown&&d.props.onMouseDown();d.$3=Date.now();d.$9();d.$10()},d.$8=function(){if(!(d.props.threadID&&d.$3))return;d.$3=0;d.$11();d.$12()},d.$14=function(){if(!d.props.threadID)return;b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").POP,d.props.threadID)},d.$7=function(){d.$3&&(d.$3=0,d.$11(),d.$14())},d.$5=function(a){a.stopPropagation();if(d.props.disabled)return;if(b("KeyStatus").getKeyDownCode()===b("Keys").RETURN||!d.props.threadID){a=d.props.sendCustomLike;d.props.customLike&&a?a(d.props.customLike,b("MessengerHotLikeUtils").getEmojiSizeForTime(1)):d.props.sendSticker(b("MessengerHotLikeUtils").getStickerIDForTime(1))}},a)||babelHelpers.assertThisInitialized(d)}var d=a.prototype;d.componentDidMount=function(){var a=this;this.$4=b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").FINISH_ANIMATION,function(c,d,e){c===a.props.threadID&&(a.props.forGameChat&&b("Bootloader").loadModules(["GamesQuicksilverFunnelLogger"],function(a){a.logGameChatSendHotLike(a.getDefaultFunnelName())},"MessengerHotLikeButton.react"),e&&a.props.customLike&&a.props.sendCustomLike?a.props.sendCustomLike(a.props.customLike,e,b("EmojiLikeConstants").source.HOT_LIKE):a.props.forGameChat||a.props.sendSticker(d))})};d.componentWillUnmount=function(){this.$4&&this.$4.remove()};d.render=function(){var a=h._("G\u1eedi l\u01b0\u1ee3t th\u00edch"),c={};this.props.customLike&&this.props.customLike.emoji&&(c.background="none");var d=this.props.surface===b("MessengerSurfaceType.re").workQuickchat?b("WorkQuickchatHotLikeInnerButton.react"):b("MessengerHotLikeButtonInnerIcon.react");return b("React").createElement(b("Link.react"),{"aria-label":a,className:b("joinClasses")(this.props.customColor||this.props.CustomRenderer?"_5j_u":"",this.props.className),disabled:this.props.disabled,href:"#",onClick:this.$5,onDragStart:function(a){return a.preventDefault()},onMouseDown:this.$6,onMouseLeave:this.$7,onMouseUp:this.$8,role:"button",style:c,title:a},b("React").createElement(d,{CustomRenderer:this.props.CustomRenderer,customLike:this.props.customLike,customColor:this.props.customColor,location:this.props.location,disabled:this.props.disabled,renderSize:this.props.renderSize,thread:this.props.thread}))};d.$9=function(){if(!this.props.threadID)return;b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").START,this.$13(),this.props.threadID)};d.$12=function(){__p&&__p();var a=this;if(!this.props.threadID)return;!b("MessengerEnvironment").messengerui?b("ifRequired")("MessengerHotLikePreview.react",function(){b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").STOP,a.props.threadID)},function(){if(a.$1!==null)return;a.$1=b("setIntervalAcrossTransitions")(function(){b("ifRequired")("MessengerHotLikePreview.react",function(){a.$1!==null&&(b("clearInterval")(a.$1),a.$1=null),b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").STOP,a.props.threadID)})},100)}):b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").STOP,this.props.threadID)};d.$13=function(){__p&&__p();var a=this.props.threadID;if(!a)return null;a=i.constructStickerMessageObject(b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID,this.props.source,a);i.normalizeNewMessage(a);a.is_like_preview=!0;a.like_preview_since=this.$3;a.customLike=this.props.customLike&&this.props.customLike.emoji?this.props.customLike:null;a.body="";return new(b("ImmutableObject"))(a)};d.$10=function(){this.$11(),this.$2=b("setTimeoutAcrossTransitions")(this.$14,b("MessengerHotLikeUtils").SizeTimes.large)};d.$11=function(){b("clearTimeout")(this.$2)};return a}(b("React").PureComponent);l.propTypes={CustomRenderer:c.func,onMouseDown:c.func,customLike:c.object,customColor:c.string,forGameChat:c.bool,location:c.string,sendSticker:c.func.isRequired,sendCustomLike:c.func,threadID:c.string,disabled:c.bool,renderSize:c.number,thread:c.object,surface:c.string.isRequired};function a(a){var c=k(j);return b("React").createElement(l,babelHelpers["extends"]({},a,{surface:c}))}e.exports=b("withMessengerSource")(a)}),null);
__d("MessengerHotLikeChatSVGIcon.react",["cssVar","fbt","CurrentUser","React","gkx","uniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("gkx")("678580");a=b("React").PropTypes;var j="transparent",k=h._("D\u1ea5u hi\u1ec7u gi\u01a1 ng\u00f3n c\u00e1i");c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={titleId:b("uniqueID")()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.color||(b("CurrentUser").isWorkUser()?"#373e4c":"#0084ff"),c=this.props.renderSize;c=c?{height:c.toString(),width:c.toString()}:void 0;var d=i?{fill:j,stroke:a,opacity:.2}:{fill:a,opacity:.2},e="bounds_"+this.state.titleId;return b("gkx")("697231")?b("React").createElement("svg",babelHelpers["extends"]({"aria-labelledby":this.state.titleId,preserveAspectRatio:"xMinYMax meet",version:"1.1",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},c),b("React").createElement("title",{id:this.state.titleId},k),b("React").createElement("g",{style:{fill:a}},b("React").createElement("path",{d:"M16,9.1c0-0.8-0.3-1.1-0.6-1.3c0.2-0.3,0.3-0.7,0.3-1.2c0-1-0.8-1.7-2.1-1.7h-3.1c0.1-0.5,0.2-1.3,0.2-1.8 c0-1.1-0.3-2.4-1.2-3C9.3,0.1,9,0,8.7,0C8.1,0,7.7,0.2,7.6,0.4C7.5,0.5,7.5,0.6,7.5,0.7L7.6,3c0,0.2,0,0.4-0.1,0.5L5.7,6.6 c0,0-0.1,0.1-0.1,0.1l0,0l0,0L5.3,6.8C5.1,7,5,7.2,5,7.4v6.1c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,1,1,2,1h5.2c0.9,0,1.4-0.3,1.8-0.9 c0.3-0.5,0.2-1,0.1-1.4c0.5-0.2,0.9-0.5,1.1-1.2c0.1-0.4,0-0.8-0.2-1C15.6,10.3,16,9.9,16,9.1z"}),b("React").createElement("path",{d:"M3.3,6H0.7C0.3,6,0,6.3,0,6.7v8.5C0,15.7,0.3,16,0.7,16h2.5C3.7,16,4,15.7,4,15.3V6.7C4,6.3,3.7,6,3.3,6z"}))):i?b("React").createElement("svg",babelHelpers["extends"]({width:"32px",height:"31px","aria-labelledby":this.state.titleId,preserveAspectRatio:"xMinYMax meet",version:"1.1",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},c),b("React").createElement("title",{id:this.state.titleId},k),b("React").createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},b("React").createElement("rect",{id:e,fill:j,width:"32",height:"32"}),b("React").createElement("g",{style:d},b("React").createElement("path",{d:"M670.93,460a0.08,0.08,0,0,0,0,.15,1.75,1.75,0,0,1,1.29,1.66c0,1.45-1.2,1.66-2,1.75a0.06,0.06,0,0,0,0,.12,1.54,1.54,0,0,1,.88,1.68C671,467,669.17,467,668,467H658a5.63,5.63,0,0,1-5-2.5V455l2.19-1.59a4.39,4.39,0,0,0,1.21-1.75l1.48-5.59v-0.43l-0.41-3.81a0.45,0.45,0,0,1,.16-0.41c1.34-1,3.07-.23,4,2.6a12.83,12.83,0,0,1,0,6.33,0.55,0.55,0,0,0,.54.66c1.77,0,6.77,0,6.77,0,2,0,3.31.62,3.54,2.5a2.39,2.39,0,0,1-1.23,2.4,0.08,0.08,0,0,0,0,.14,1.87,1.87,0,0,1,1.71,2A2,2,0,0,1,670.93,460Zm-20.13-7h-5.6a0.2,0.2,0,0,0-.2.2v15.6a0.2,0.2,0,0,0,.2.2h5.6a0.2,0.2,0,0,0,.2-0.2V453.2A0.2,0.2,0,0,0,650.8,453Z",transform:"translate(-643 -439)"})),b("React").createElement("g",{transform:"translate(1.000000, 0.000000)"},b("React").createElement("path",{d:"M7.195,29.2559 L0.804,29.2559 C0.362,29.2559 0,28.8939 0,28.4509 L0,13.0609 C0,12.6179 0.362,12.2559 0.804,12.2559 L7.195,12.2559 C7.637,12.2559 8,12.6179 8,13.0609 L8,28.4509 C8,28.8939 7.637,29.2559 7.195,29.2559 Z",id:"Stroke-172",stroke:a,strokeWidth:"2"}),b("React").createElement("path",{d:"M15.9694,0 L15.9694,0 C14.6414,0 13.5214,0.568 13.0414,1.097 L12.4654,1.732 L12.5184,2.63 L12.8154,6.635 C12.8204,6.692 12.8074,6.749 12.7804,6.8 L9.5534,12.791 L8.1544,13.443 L6.9994,13.982 L6.9994,15.256 L6.9994,25.256 L6.9994,27.256 L8.5914,27.256 C8.7024,27.35 8.8354,27.47 8.9364,27.562 C9.1404,27.747 9.3424,27.928 9.5324,28.078 C10.4784,28.825 11.8634,29.174 12.8444,29.25 L12.9214,29.256 L12.9994,29.256 L23.3374,29.256 C25.3594,29.256 26.7824,28.521 27.5704,27.072 C28.0124,26.258 28.1384,25.438 28.0904,24.695 C28.9084,24.168 29.5624,23.33 29.7984,22.148 C29.9184,21.549 29.8984,20.985 29.7854,20.474 C30.4514,19.814 30.9374,18.865 30.9374,17.581 C30.9374,16.549 30.6654,15.739 30.2574,15.123 C30.4314,14.637 30.5364,14.081 30.5364,13.459 C30.5364,10.906 28.4954,9.256 25.3374,9.256 L21.0124,9.256 C21.1474,8.379 21.2494,7.521 21.2494,6.931 C21.2494,4.646 20.4484,1.775 18.2014,0.569 C17.4974,0.191 16.7464,0 15.9694,0 M15.9694,2 C16.3574,2 16.7974,2.085 17.2564,2.332 C18.6054,3.056 19.2494,5.021 19.2494,6.931 C19.2494,7.863 18.8974,9.829 18.7254,10.731 C18.6784,10.978 18.8684,11.256 19.1184,11.256 L25.3374,11.256 C26.2704,11.256 28.5364,11.456 28.5364,13.459 C28.5364,14.979 27.5584,15.534 27.5584,15.534 C27.5584,15.534 28.9374,15.673 28.9374,17.581 C28.9374,19.489 27.0854,19.682 27.0854,19.682 C27.0854,19.682 28.0924,20.481 27.8374,21.756 C27.5284,23.3 26.0264,23.391 25.6764,23.391 C25.6294,23.391 25.6044,23.389 25.6044,23.389 C25.6044,23.389 26.5714,24.723 25.8124,26.118 C25.5674,26.57 25.0414,27.256 23.3374,27.256 L12.9994,27.256 C12.2824,27.2 11.3154,26.937 10.7734,26.51 C10.1994,26.056 9.5134,25.256 8.9994,25.256 L8.9994,15.256 L10.6304,14.494 C10.8704,14.383 11.0674,14.197 11.1934,13.965 L14.5404,7.748 C14.7494,7.362 14.8424,6.924 14.8104,6.486 L14.5124,2.482 C14.5114,2.465 14.5114,2.453 14.5234,2.44 C14.5964,2.359 15.1744,2 15.9694,2",id:"Fill-174",fill:a})))):b("React").createElement("svg",babelHelpers["extends"]({"aria-labelledby":this.state.titleId,preserveAspectRatio:"xMinYMax meet",version:"1.1",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},c),b("React").createElement("title",{id:this.state.titleId},k),b("React").createElement("g",null,b("React").createElement("rect",{id:e,fill:j,width:"32",height:"32"}),b("React").createElement("g",{style:d},b("React").createElement("path",{d:"M670.93,460a0.08,0.08,0,0,0,0,.15,1.75,1.75,0,0,1,1.29,1.66c0,1.45-1.2,1.66-2,1.75a0.06,0.06,0,0,0,0,.12,1.54,1.54,0,0,1,.88,1.68C671,467,669.17,467,668,467H658a5.63,5.63,0,0,1-5-2.5V455l2.19-1.59a4.39,4.39,0,0,0,1.21-1.75l1.48-5.59v-0.43l-0.41-3.81a0.45,0.45,0,0,1,.16-0.41c1.34-1,3.07-.23,4,2.6a12.83,12.83,0,0,1,0,6.33,0.55,0.55,0,0,0,.54.66c1.77,0,6.77,0,6.77,0,2,0,3.31.62,3.54,2.5a2.39,2.39,0,0,1-1.23,2.4,0.08,0.08,0,0,0,0,.14,1.87,1.87,0,0,1,1.71,2A2,2,0,0,1,670.93,460Zm-20.13-7h-5.6a0.2,0.2,0,0,0-.2.2v15.6a0.2,0.2,0,0,0,.2.2h5.6a0.2,0.2,0,0,0,.2-0.2V453.2A0.2,0.2,0,0,0,650.8,453Z",transform:"translate(-643 -439)"})),b("React").createElement("g",{style:d},b("React").createElement("rect",{x:"2",y:"14",width:"6",height:"16",rx:"0.2",ry:"0.2"})),b("React").createElement("path",{fill:a,d:"M650.8,453a0.2,0.2,0,0,1,.2.2v15.6a0.2,0.2,0,0,1-.2.2h-5.6a0.2,0.2,0,0,1-.2-0.2V453.2a0.2,0.2,0,0,1,.2-0.2h5.6m0-2h-5.6a2.2,2.2,0,0,0-2.2,2.2v15.6a2.2,2.2,0,0,0,2.2,2.2h5.6a2.2,2.2,0,0,0,2.2-2.2V453.2a2.2,2.2,0,0,0-2.2-2.2h0Z",transform:"translate(-643 -439)"}),b("React").createElement("path",{fill:a,"data-name":"stroke",d:"M658.83,441c1.06,0,2.16,1,2.83,3a12.83,12.83,0,0,1,0,6.33,0.55,0.55,0,0,0,.54.66h1.18l5.59,0c2,0,3.31.62,3.54,2.5a2.39,2.39,0,0,1-1.23,2.4,0.08,0.08,0,0,0,0,.14,1.87,1.87,0,0,1,1.71,2,2,2,0,0,1-2.07,1.91,0.08,0.08,0,0,0,0,.15,1.75,1.75,0,0,1,1.29,1.66c0,1.45-1.2,1.66-2,1.75a0.06,0.06,0,0,0,0,.12,1.54,1.54,0,0,1,.88,1.68C671,467,669.24,467,668.07,467H658a5.63,5.63,0,0,1-5-2.5V455l2.19-1.59a4.39,4.39,0,0,0,1.21-1.75l1.48-5.59v-0.43l-0.41-3.81a0.45,0.45,0,0,1,.16-0.41,2,2,0,0,1,1.17-.41m0-2h0a4,4,0,0,0-2.36.8,2.45,2.45,0,0,0-1,2.23l0.39,3.67h0v0.05l-1.41,5.32a3.64,3.64,0,0,1-.47.69l-2.19,1.59L651,454v11.15l0.36,0.52A7.58,7.58,0,0,0,658,469h10.07c3.25,0,4.95-1.21,5-3.59a4.54,4.54,0,0,0-.05-0.93,3.59,3.59,0,0,0,1.14-2.71,3.77,3.77,0,0,0-.18-1.15,3.85,3.85,0,0,0,1-2.57,4,4,0,0,0-.82-2.55,4.38,4.38,0,0,0,.31-2.25c-0.2-1.59-1.18-4.25-5.53-4.25l-5,0a12.65,12.65,0,0,0-.35-5.63c-0.91-2.75-2.67-4.38-4.73-4.38h0Z",transform:"translate(-643 -439)"})))};return c}(b("React").Component);c.propTypes={color:a.string,location:a.string,renderSize:a.number};e.exports=c}),null);
__d("MessengerQuickCamOrigins",[],(function(a,b,c,d,e,f){"use strict";var g={CHAT_TAB:"chat tab",MESSENGER:"messenger",getValues:function(){return[g.CHAT_TAB,g.MESSENGER]}};e.exports=g}),null);
__d("ChatTabComposer.react",["cssVar","csx","cx","fbt","Bootloader","BootloadOnRender.react","ChatComposerFlyoutButtonBootLoader.react","ChatConfig","ChatInput.react","ChatPhotoUploader.react","CSS","CurrentUser","CustomColorHighlighting.react","ErrorBoundary.react","FantaMessageActions","FantaTabActions","JSResource","Keys","LazyComponent.react","Link.react","M4IconSend.bs","MercuryBootloadOnInteraction.react","MercuryConfig","MercuryIDs","MercuryShareAttachmentRenderLocations","MessageRequestUtils","MessengerCustomColorUtils.bs","MessengerHotLikeButton.react","MessengerHotLikeChatSVGIcon.react","MessengerHotLikeUtils","MessengerParticipants.bs","MessengerQuickCamOrigins","P2PPaymentConfig","P2PSendMoneyContainerBootloader.react","React","ReasonBootloadOnRender.react","ReasonResource","ReplyingToMessageFallbackReact.bs","StickersActions","TooltipData","URI","WorkChatExtensionAvailabilityFetcher","WorkFileUploadsGating","XUISpinner.react","clearImmediate","convertMIGColorToFIGColor","emptyFunction","getPageIDFromThreadID","gkx","isWebGLEnabled","joinClasses","lazyLoadComponent","promiseDone","qex","setImmediate"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=b("M4IconSend.bs").jsComponent,l=b("ReplyingToMessageFallbackReact.bs").jsComponent,m=b("lazyLoadComponent")(b("JSResource")("M4FantaUnconnectedThreadInfoTextReact").__setRef("ChatTabComposer.react")),n=77,o=9,p=350,q="#BEC3C9",r=b("ChatConfig").get("chat_basic_input_module")||b("ChatInput.react");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={inputHeight:0,p2pPaymentConfig:b("P2PPaymentConfig").config,stickerFlyoutShown:!1,hasWorkChatExtension:!1},d.$2=null,d.$3=null,d.$4=null,d.$14=function(){b("setImmediate")(function(){return b("FantaMessageActions").cancelReplyToMessage(d.props.threadID||"")})},d.$12=function(a,c){a.keyCode===b("Keys").RETURN&&(d.refs.emojiButton&&d.refs.emojiButton.hideFlyout()),d.props.inputKeyDown&&d.props.inputKeyDown(a,c)},d.$6=function(a){a=a.target;a instanceof Element&&(b("CSS").matchesSelector(a,"._1d4_")||b("CSS").matchesSelector(a,"._552h")||b("CSS").matchesSelector(a,"._552n"))&&(d.$4&&d.$4.focus())},d.$13=function(a){d.state.stickerFlyoutShown&&b("StickersActions").hideStickerFlyout(),d.props.onEscape&&d.props.onEscape(a)},d.$36=function(a,c){a.platformFBID.toString()!==b("MercuryConfig").MessengerAppID?d.uploadURL({attribution_app_id:a.platformFBID,errorDialogParams:{body:j._("\u0110\u00e3 x\u1ea3y ra l\u1ed7i khi g\u1eedi t\u1ec7p GIF n\u00e0y. H\u00e3y ch\u1ecdn t\u1ec7p kh\u00e1c v\u00e0 th\u1eed l\u1ea1i."),title:j._("Kh\u00f4ng th\u1ec3 g\u1eedi t\u1ec7p GIF")},external_image_url:a.source.url,preview_url:a.media.preview?a.media.preview.url:a.media.thumbnail.url,source:a.source}):d.props.stickerButtonProps&&d.props.stickerButtonProps.onStickerSelect&&d.props.stickerButtonProps.onStickerSelect(a.resultID.toString)},d.$34=function(a){var c=d.$28();if(!c)return;b("Bootloader").loadModules(["BrowserExtensionsDialog"],function(d){d.show(new(b("URI"))(a.getURI()),a.getUniqueID(),c,b("CurrentUser").getID())},"ChatTabComposer.react")},d.$37=function(a){d.$4&&d.$4.insertEmoji&&d.$4.insertEmoji(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(a){a.composer.replyingToMessage!==this.props.composer.replyingToMessage&&(this.$4&&this.$4.focus())};d.render=function(){var a=b("gkx")("678580");a=this.props.disableInput?null:b("React").createElement("ul",{className:"_552n"+(a?" _22v_":"")+(a?" _6jv5":"")+(this.props.isFocused?" _6wm5":"")+(b("gkx")("697231")?" _6jv6":"")},this.$5());var c=this.props.composer.get("replyingToMessage");return b("React").createElement("div",{className:"_1d4_",onClick:this.$6,role:"presentation"},this.props.thread&&b("MessageRequestUtils").shouldShowUnconnectedThreadInfoText(this.props.thread)?this.$7():null,this.$8(c),this.$9(),a)};d.componentWillUnmount=function(){this.$1&&b("clearImmediate")(this.$1)};d.componentDidMount=function(){var a=this,c=b("gkx")("678581");b("CurrentUser").isWorkUser()&&c&&b("promiseDone")(b("WorkChatExtensionAvailabilityFetcher").checkHasChatExtension(),function(b){return a.setState({hasWorkChatExtension:b})})};d.onSend=function(a){this.$4&&this.$4.onSend&&this.$4.onSend(a)};d.uploadURL=function(a){var b=this.$2||this.$3;if(!b)return;b.uploadURL(a)};d.isUploading=function(){return!!(this.$2&&this.$2.isUploading()||this.$3&&this.$3.isUploading())};d.getInput=function(){return this.$4};d.$9=function(){__p&&__p();var a=this,c={};this.state.inputHeight&&(c.minHeight=this.state.inputHeight);var d=null;this.props.showStructuredMenu&&(d=b("React").createElement("div",{className:"_5c6-"},b("React").createElement(b("MercuryBootloadOnInteraction.react"),{component:b("React").createElement(b("LazyComponent.react"),{flyoutAlignment:"left",threadID:this.props.threadID,pageID:this.props.pageID,className:"_5c6_"}),loader:b("JSResource")("MessengerBotMenuButton.react").__setRef("ChatTabComposer.react"),placeholder:b("React").createElement("span",{className:"_5c6_"})})));var e="";this.props.disableInput?e=j._("Tr\u00ecnh bi\u00ean so\u1ea1n b\u1ecb t\u1eaft cho cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y."):this.props.thread&&!this.props.thread.is_canonical?e=j._("Nh\u1eadp tin nh\u1eafn, \u0040name..."):e=j._("Nh\u1eadp tin nh\u1eafn...");return b("React").createElement("div",{className:"_552h",style:c},d,b("React").createElement("div",{className:this.props.showStructuredMenu?"_4yzj":""},b("React").createElement(b("CustomColorHighlighting.react"),{customColor:this.$10()},this.$11(this.props.threadID),b("React").createElement(r,{composer:this.props.composer,defaultText:this.props.defaultText,fileUploader:this.props.fileUploader,inputKeyDown:this.$12,handleSend:this.props.handleSend,onBeforeInput:function(){return a.refs.emojiButton&&a.refs.emojiButton.hideFlyout()},onBlur:b("emptyFunction"),onEscape:this.$13,onFocus:this.props.onFocus,onTab:this.props.onTab,readOnly:this.props.disableInput,ref:function(b){return a.$4=b},resizeFn:function(b){b=Math.min(b,n),a.setState({inputHeight:b})},thread:this.props.thread,threadID:this.props.threadID,onTextChange:this.props.onTextChange,uploadPhotoFn:function(b){a.$3&&a.$3.uploadFiles([].concat(b))},placeholder:e,viewer:this.props.viewer}))))};d.$7=function(){var a=this.props.thread;if(!a)return null;var c=a.folder,d=a.thread_id;a=a.other_user_fbid;a=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(a));return b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},b("React").createElement(m,{folder:c,name:a?a.short_name:j._("Ng\u01b0\u1eddi d\u00f9ng Facebook").toString(),onDelete:function(){return b("FantaTabActions").closeTab(d)},threadID:d}))};d.$8=function(a){if(!a)return null;a=a;var c=b("React").createElement(l,{onCancelReplyingToMessage:this.$14,isChatTab:!0});return b("React").createElement(b("ErrorBoundary.react"),{fallbackComponent:function(){return c}},b("React").createElement(b("ReasonBootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{name:this.$15(a),body:a.body,attachments:a.attachments,onCancelReplyingToMessage:this.$14,isChatTab:!0}),loader:b("ReasonResource")(b("JSResource")("ReplyingToMessageReact.bs").__setRef("ChatTabComposer.react")),placeholder:c}))};d.$15=function(a){a=a.author?b("MessengerParticipants.bs").getNow(a.author):null;return a&&a.short_name};d.$11=function(a){if(!a)return null;var c=this.props.fileUploader;if(!c)return null;c=c.get("uploadedFiles");return c.size==0?null:b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{files:c,small:!0,threadID:a,threadCustomColor:this.$10(),onClick:this.$16}),loader:b("JSResource")("MercuryStageFilePreviewReactComponent").__setRef("ChatTabComposer.react"),placeholder:b("React").createElement(b("XUISpinner.react"),{className:"_2qf"})})};d.$10=function(){var a=this.props.thread;return b("gkx")("697231")&&!this.props.isFocused?q:a&&a.footer_color?b("convertMIGColorToFIGColor")(a.footer_color):b("MessengerCustomColorUtils.bs").defaultColor()};d.$16=function(a,c){b("FantaMessageActions").cancelFileUpload(a,c)};d.$5=function(){var a=this.$17(),c=this.$18(),d=this.$19(),e=this.$20(),f=this.$21(),g=this.$22(),h=this.$23(),i=this.$24(),j=this.$25(),k=this.$26(),l=this.$27(),m;b("qex")._("710587")==="frequency"?m=[e,h,a,d,c,j,f,g,k,i].filter(Boolean).slice(0,o-1):m=[a,c,d,e,f,g,h,i,j,k].filter(Boolean).slice(0,o-1);m.push(l);return m};d.$17=function(){var a=this,c=this.props.photoUploaderProps||{};return b("React").createElement("li",{className:"_13f-","data-testid":"composer_photo_uploader_root",key:"photos"},b("React").createElement(b("ChatPhotoUploader.react"),babelHelpers["extends"]({composer:this.props.composer,onMount:function(b){return a.$3=b},imagesOnly:!0},c)))};d.$26=function(){if(b("gkx")("994335"))return null;var a=this.$28();return a&&this.props.thread&&!this.props.thread.is_canonical?this.$29(a):null};d.$29=function(a){return b("React").createElement(b("ChatComposerFlyoutButtonBootLoader.react"),{key:"grouppolling",interactionClassName:"_6gd _13f_",flyoutProps:{customColor:this.$10(),threadFBID:a},flyoutAlignment:"left",iconClassName:"_6gb _6wm4 _4tjk _6jv7",flyoutLoader:b("JSResource")("MessengerGroupPollingCreatePollFlyoutReactComponent").__setRef("ChatTabComposer.react"),title:j._("T\u1ea1o cu\u1ed9c th\u0103m d\u00f2 \u00fd ki\u1ebfn"),buttonName:"group_poll"})};d.$22=function(){var a=b("gkx")("678262")&&b("isWebGLEnabled")();if(b("MercuryIDs").isLocalThread(this.props.threadID))return null;var c=this.$30();return a&&c&&!this.$31()&&!this.props.forGameChat?this.$32(c):null};d.$32=function(a){return b("React").createElement(b("ChatComposerFlyoutButtonBootLoader.react"),{key:"games",interactionClassName:"_6gd _13ga",flyoutAlignment:"left",iconClassName:"_6gb _6wm4 _4cf0 _6jtp",flyoutProps:{threadID:a,customWidth:p},flyoutLoader:b("JSResource")("MessengerGamesFlyout.react").__setRef("ChatTabComposer.react"),title:j._("Ch\u01a1i tr\u00f2 ch\u01a1i"),buttonName:"game"})};d.$24=function(){return this.$28()&&!this.$31()&&this.state.hasWorkChatExtension?this.$33():null};d.$33=function(){return b("React").createElement(b("ChatComposerFlyoutButtonBootLoader.react"),{key:"chatextension",interactionClassName:"_6gd _13ga",flyoutAlignment:"left",iconClassName:"_6gb _6wm4 _67ew",flyoutProps:{onSelect:this.$34},flyoutLoader:b("JSResource")("MessengerWorkplaceChatExtensionsPickerWrapper.react").__setRef("ChatTabComposer.react"),title:j._("T\u00ecm ti\u1ec7n \u00edch"),buttonName:"chat_extension"})};d.$23=function(){var a=this;if(!b("WorkFileUploadsGating").canUploadFiles)return null;var c=this.props.fileUploaderProps||{};return b("React").createElement("li",{className:"_13gd",key:"files"},b("React").createElement(b("ChatPhotoUploader.react"),babelHelpers["extends"]({composer:this.props.composer,onMount:function(b){return a.$2=b}},c)))};d.$18=function(){var a=this.props.stickerButtonProps;return!a?null:this.$35()};d.$35=function(){var a=this.props.stickerButtonProps;if(!a)return null;var c={className:"_5e-r",position:"above"};return b("React").createElement(b("ChatComposerFlyoutButtonBootLoader.react"),{flyoutProps:a,dialogProps:c,flyoutAlignment:"right",key:"sticker",interactionClassName:"_6gd _13ge",iconClassName:"_6gb _6wm4 _6gf _6jtm",flyoutLoader:b("JSResource")("StickersFlyoutWrapper.react").__setRef("ChatTabComposer.react"),title:j._("Ch\u1ecdn nh\u00e3n d\u00e1n"),buttonName:"sticker"})};d.$19=function(){var a=this,c={getQuery:function(){return a.$4&&a.$4.getValue()},onSelect:this.$36};return b("React").createElement(b("ChatComposerFlyoutButtonBootLoader.react"),{threadID:this.props.threadID,key:"contentSearch",interactionClassName:"_6gd _13gf",flyoutProps:c,flyoutAlignment:"left",iconClassName:"_6gb _6wm4 _6gs _6jtq",threadFBID:this.$28(),flyoutLoader:b("JSResource")("ChatContentSearchFlyoutWrapper.react").__setRef("ChatTabComposer.react"),title:j._("Ch\u1ecdn m\u1ed9t gif"),buttonName:"gif"})};d.$20=function(){var a=this,c={onSelect:this.$37,getInput:function(){return a.$4}};return b("React").createElement(b("ChatComposerFlyoutButtonBootLoader.react"),{threadID:this.props.threadID,key:"emoji",interactionClassName:"_6gd _13gg",flyoutAlignment:"left",iconClassName:"_6gb _6wm4 _3oxr _6jtr",threadFBID:this.$28(),flyoutLoader:b("JSResource")("ChatEmojiFlyout.react").__setRef("ChatTabComposer.react"),dialogProps:{offsetY:10},flyoutProps:c,title:j._("Ch\u1ecdn bi\u1ec3u t\u01b0\u1ee3ng c\u1ea3m x\u00fac"),buttonName:"emoji"})};d.$27=function(){return this.$38()?this.$39():this.$40()};d.$38=function(){var a=this.props.composer,b=a.fileUploader.uploadedFiles||{size:0},c=a.sharePreview;a=a.text&&a.text.trim().length>0;return a||b.size>0||!!(c&&c.params&&c.type)};d.$39=function(){var a=j._("Nh\u1ea5n Enter \u0111\u1ec3 g\u1eedi");return b("React").createElement("li",{className:"_6gd _21u1",key:"send"},b("React").createElement(b("Link.react"),babelHelpers["extends"]({label:"send",className:"_6gb _6wm4 _6987"},b("TooltipData").propsFor(a),{onClick:this.props.handleSendClick}),b("React").createElement(k,{filled:!0,color:this.$10()})))};d.$40=function(){var a=this.props.thread,c=b("ChatConfig").get("new_dlc")&&!this.props.isFocused?q:this.$10(),d=b("MessengerHotLikeChatSVGIcon.react"),e="_6gb _6wm4";return b("React").createElement("li",{className:"_6gd _5ep3 _13gi",key:"like"},b("React").createElement(b("MessengerHotLikeButton.react"),{className:e,customColor:c,customLike:b("MessengerHotLikeUtils").getCustomEmojiFromThread(a)||void 0,CustomRenderer:d,forGameChat:this.props.forGameChat,location:b("MercuryShareAttachmentRenderLocations").CHAT,renderSize:16,sendSticker:this.props.stickerButtonProps&&this.props.stickerButtonProps.onStickerSelect,sendCustomLike:this.props.onCustomLikeSelect,threadID:this.props.threadID}))};d.$21=function(){if(!this.props.p2pProps||!this.props.showP2PButton||this.$31()||b("MercuryIDs").isLocalThread(this.props.threadID))return null;var a=this.props.p2pProps,c=b("joinClasses")(a.className,"");return b("React").createElement("li",{className:"_6gd _13gj",key:"p2p"},b("React").createElement(b("P2PSendMoneyContainerBootloader.react"),babelHelpers["extends"]({},a,{className:c,participantIDs:this.props.participantIDs,p2pPaymentConfig:this.state.p2pPaymentConfig,thread:this.props.thread,threadID:this.props.threadID})))};d.$25=function(){var a=this.props.threadID;if(b("MercuryIDs").isLocalThread(this.props.threadID)||!a)return null;a={className:"_6gb _6wm4 _5yhk _6jtu",threadID:a,location:b("MessengerQuickCamOrigins").CHAT_TAB,viewer:this.props.viewer};var c=b("gkx")("678582");if(!c)return null;c=b("React").createElement(b("MercuryBootloadOnInteraction.react"),{component:b("React").createElement(b("LazyComponent.react"),a),loader:b("JSResource")("MessengerQuickCamButtonHTML5.react").__setRef("ChatTabComposer.react"),placeholder:b("React").createElement("span",{className:a.className})});return b("React").createElement("li",{className:"_6gd _13gk",key:"quickcam"},c)};d.$31=function(){return!!this.$41()};d.$41=function(){return b("getPageIDFromThreadID")(this.props.threadID)};d.$28=function(){if(this.props.threadID&&!b("MercuryIDs").isLocalThread(this.props.threadID))return b("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID);return this.props.thread&&this.props.thread.thread_fbid?this.props.thread.thread_fbid:null};d.$30=function(){var a=this.props,c=a.threadID;a=a.thread;return c&&b("MercuryIDs").isLocalThread(c)&&a&&a.thread_fbid?b("MercuryIDs").getThreadIDFromThreadFBID(a.thread_fbid):c};d.replyToMention=function(a){this.$4&&this.$4.addMention&&this.$4.addMention(a)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ChatTabComposerContainer.react",["cx","fbt","Bootloader","ChatComposer","ChatTabBlockerComposer.react","ChatTabSRXUtil","FantaFRXUtil","FantaMessageActions","FantaTabActions","FBLogger","FDSSpinner.react","JSResource","Keys","LogHistory","MercuryIDs","MercuryIgnoredBlockedParticipants.bs","MercuryMessageActions","MercuryShareAttachmentRenderLocations","MessengerBotMenuDataFetcher","MessengerState.bs","MNCommercePageSetting","P2PGKValues","PhotosUploadWaterfall","React","ReactDOM","SimpleXUIDialog","WaterfallIDGenerator","emptyFunction","getPageIDFromThreadID","getThreadTypeNameFromThreadType","gkx","lazyLoadComponent","performanceAbsoluteNow","setImmediate","shallowCompare"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ChatComposer").ChatComposer,j=b("lazyLoadComponent")(b("JSResource")("ChatTabLeftGroupComposer.react").__setRef("ChatTabComposerContainer.react")),k="right",l=/^\s*$/,m=b("LogHistory").getInstance("chat_tab_view"),n=!1,o=!1,p=140,q=90;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showP2PButton:d.$6(),pageID:b("getPageIDFromThreadID")(d.props.threadID),showStructuredMenu:d.$7(),longInput:!1},d.$9=function(a){d.$2=a},d.$10=function(a){d.$3&&d.$3.uploadFiles([].concat(a))},d.$11=function(a){d.$5=a},d.$12=function(a){d.$3=a},d.onSend=function(a){d.props.forGameChat&&b("Bootloader").loadModules(["GamesQuicksilverFunnelLogger"],function(a){a.logGameChatSendMessage(a.getDefaultFunnelName())},"ChatTabComposerContainer.react");if(a&&a.profile_ranges&&a.profile_ranges.length){var c=a,e=d.props.thread;b("Bootloader").loadModules(["MessengerMentionsTypedLogger","MessengerMentionsLoggerEvents"],function(a,d){new a().setEvent(d.MENTION).setGroupSize(e&&e.participants&&e.participants.length).setNumDelivered((c.profile_ranges||[]).length).setThreadid(e&&e.thread_id).setThreadType(b("getThreadTypeNameFromThreadType")(e&&e.thread_type)).setOfflineThreadid(c.offline_threading_id).log()},"ChatTabComposerContainer.react")}o?d.$2&&d.$2.onSend&&d.$2.onSend(a):d.refs.composer&&d.refs.composer.onSend(a)},d.focusInput=function(){var a=d.getInput();a&&a.focus&&a.focus()},d.$14=function(a){a=d.getInput();a&&typeof a.handleSend==="function"&&(a&&a.handleSend())},d.$35=function(a,c){b("MercuryMessageActions").getForFBID(d.props.viewer).confirmAttachmentPlaceholder(c.upload_id,c),d.$29(c)},d.$37=function(a){var c,e;switch(a.error){case"size-exceeded":c=h._("File m\u00e0 b\u1ea1n \u0111\u00e3 ch\u1ecdn qu\u00e1 l\u1edbn");e=h._("File b\u1ea1n \u0111\u00e3 ch\u1ecdn qu\u00e1 l\u1edbn. K\u00edch th\u01b0\u1edbc t\u1ed1i \u0111a l\u00e0 25MB.");b("FBLogger")("messenger_upload_file").warn("Uploading file is too large");break;default:c=h._("T\u1ea3i file l\u00ean kh\u00f4ng th\u00e0nh c\u00f4ng"),e=h._("\u0110\u00e3 x\u1ea3y ra l\u1ed7i khi t\u1ea3i file l\u00ean.")}d.$40(c,e);d.$24(a)},d.$34=function(a,c){b("MercuryMessageActions").getForFBID(d.props.viewer).cancelAttachmentPlaceholder(c.upload_id,c),d.$28(c)},d.$39=function(a,c){b("MercuryMessageActions").getForFBID(d.props.viewer).cancelAttachmentPlaceholder(c.upload_id,c);a=h._("T\u1ea3i file l\u00ean kh\u00f4ng th\u00e0nh c\u00f4ng");var e=h._("\u0110\u00e3 x\u1ea3y ra l\u1ed7i khi t\u1ea3i file l\u00ean.");c.errorDialogParams&&(a=c.errorDialogParams.title||a,e=c.errorDialogParams.body||e);d.$40(a,e);d.$24(c)},d.$36=function(a,c){b("MercuryMessageActions").getForFBID(d.props.viewer).cancelAttachmentPlaceholder(c.upload_id,c);a=h._("Kh\u00f4ng t\u1ea3i l\u00ean \u0111\u01b0\u1ee3c");var e=h._("Vui l\u00f2ng th\u1eed l\u1ea1i. H\u00e3y \u0111\u1ea3m b\u1ea3o r\u1eb1ng b\u1ea1n \u0111ang t\u1ea3i l\u00ean file h\u1ee3p l\u1ec7.");c.errorDialogParams&&(a=c.errorDialogParams.title||a,e=c.errorDialogParams.body||e);d.$40(a,e);d.$26&&d.$26(c)},d.$38=function(a,b){d.$30&&d.$30(b)},d.$17=function(a,b){d.$22(a,b)},d.$16=function(a){d.props.onEscape&&d.props.onEscape(a)},d.$18=function(a,c){var e=d.props.threadID;e&&(d.$4=b("setImmediate")(function(){d.$4=null,b("FantaMessageActions").composerTextUpdate(e,a,c)}));d.$8()},d.$22=function(a,c){var e=d.props.threadID;a.keyCode===b("Keys").RETURN&&!a.shiftKey&&(a.preventDefault(),d.$13(c));if(a.keyCode===b("Keys").DOWN&&a.shiftKey&&d.hasEmptyInput()){b("FantaTabActions").minimizeTab(e);return}},d.$13=function(a){var b=d.$42();b==null||b.length===0?d.$43(a,[]):d.$43(a,b)},d.$15=function(a){var b=d.getInput();b&&b.insertEmoji(a)},d.$23=function(a,b,c){d.props.onSendHotLike(a.emoji,b,c,d.focusInput)},d.$25=function(){d.props.onSendMessage("",d.props.composer,d.onSend)},d.$27=function(a){d.props.onSelectSticker(a,b("emptyFunction"))},d.$30=function(a){d.$44(b("PhotosUploadWaterfall").UPLOAD_START,a),d.props.onSendPhoto(a,d.onSend),d.$45("submit",a),d.focusInput()},d.$24=function(a){d.$44(b("PhotosUploadWaterfall").CLIENT_ERROR,a),d.$45("failed",a)},d.$26=function(a){d.$44(b("PhotosUploadWaterfall").CLIENT_ERROR,a),d.$45("failed",a)},d.$28=function(a){d.$44(b("PhotosUploadWaterfall").CANCEL_DURING_UPLOAD,a),d.$45("canceled",a)},d.$29=function(a){d.$44(b("PhotosUploadWaterfall").ALL_UPLOADS_DONE,a);d.$45("completed",a);a=a.image_ids.length||a.attachments.length;d.$46(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.componentDidMount=function(){var a=this,c=b("performanceAbsoluteNow")();b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(b,d){b.markerPoint(d.FIRSTCHATTABOPEN_WWW,"mount_composer_container",JSON.stringify(a.state),0,c)},"ChatTabComposerContainer.react");this.props.isFocused&&!this.props.isNewEmptyLocalThread&&this.focusInput();this.state.pageID&&b("MessengerBotMenuDataFetcher").getHasPageSetting(this.state.pageID,function(b){a.setState({showStructuredMenu:b})},function(){a.setState({showStructuredMenu:!1})},b("MNCommercePageSetting").STRUCTURED_MENU_ENABLED)};d.componentDidUpdate=function(a){var b=this.props.thread;b=b?b.thread_id:null;b===this.props.threadID&&(this.props.fileUploader!==a.fileUploader&&this.$8())};d.$6=function(){return b("P2PGKValues").P2PVisible&&this.props.viewer!==b("MercuryIDs").getUserIDFromThreadID(this.props.threadID)};d.$7=function(){var a=b("getPageIDFromThreadID")(this.props.threadID);return a===null||a===void 0?!1:b("MessengerBotMenuDataFetcher").getHasPageSetting(a,function(){},function(){},b("MNCommercePageSetting").STRUCTURED_MENU_ENABLED)};d.render=function(){var a=this.props.composer,c=this.props,d=c.thread;c=c.threadID;var e=c?b("MessengerState.bs").isEmptyLocalThread(this.props.viewer,c):!1;return o?b("React").createElement(i,{composer:a,enableDisappearingIcons:n,fileUploader:this.props.fileUploader,handleSend:this.$13,handleSendClick:this.$14,inputRef:this.$9,isEmptyLocalThread:e,isFocused:this.props.isFocused,defaultText:a.text,onEmojiSelect:this.$15,onEscape:this.$16,onInputKeyDown:this.$17,onTab:this.props.onTab,onTextChange:this.$18,onUploaderMount:this.$12,pageID:this.state.pageID,participantIDs:void 0,disableInput:this.props.disableInput,showP2PButton:this.state.showP2PButton,showStructuredMenu:this.state.showStructuredMenu,thread:d,threadID:c,uploadPhotoFn:this.$10,viewer:this.props.viewer,focusInput:this.focusInput,longInput:this.state.longInput,ref:this.$11,forGameChat:this.props.forGameChat}):this.$19()?b("React").createElement(b("ChatTabBlockerComposer.react"),{onSomethingWrong:this.props.threadID?b("FantaFRXUtil").FRXClicked:null,threadID:c,viewer:this.props.viewer}):this.$20()?b("React").createElement(b("React").Suspense,{fallback:b("React").createElement(b("FDSSpinner.react"),{center:!0})},b("React").createElement(j,null)):b("React").createElement(i,{defaultText:a.text,fileUploaderProps:this.$21(),handleSendClick:this.$14,isEmptyLocalThread:e,ref:"composer",composer:this.props.composer,fileUploader:this.props.fileUploader,handleSend:this.$13,inputKeyDown:this.$22,isFocused:this.props.isFocused,onCustomLikeSelect:this.$23,onEmojiSelect:this.$15,onEscape:this.props.onEscape,onFileUploadFail:this.$24,onP2PTrigger:this.$25,onPhotoUploadFail:this.$26,onStickerSelect:this.$27,onTab:this.props.onTab,onUploadCancel:this.$28,onUploadComplete:this.$29,onUploadSubmit:this.$30,thread:d,threadID:c,viewer:this.props.viewer,disableInput:this.props.disableInput,onTextChange:this.$18,p2pProps:this.$31(),pageID:this.state.pageID,participantIDs:void 0,photoUploaderProps:this.$32(),showP2PButton:this.state.showP2PButton,showStructuredMenu:this.state.showStructuredMenu,stickerButtonProps:this.$33(),forGameChat:this.props.forGameChat})};d.getInput=function(){return o?this.$2:this.refs.composer&&this.refs.composer.getInput&&this.refs.composer.getInput()};d.isUploading=function(){return this.refs.composer.isUploading()};d.$31=function(){return!this.state.showP2PButton?{}:{button:b("React").createElement("i",{className:"hidden_elem"}),className:"_6ga _6gb _6wm4 _6jtl",flyoutAlignment:k,referrer:b("MercuryShareAttachmentRenderLocations").CHAT,threadID:this.props.threadID,onTrigger:this.$25}};d.$33=function(){var a={className:"_6gb _6wm4 _6gf _6jtm",flyoutAlignment:k,threadID:this.props.threadID,onStickerSelect:this.$27};return a};d.$32=function(){var a={className:"_6gd",customUI:!0,imageClassName:"hidden_elem",linkClassName:"_6gb _6wm4 _6ge _6jtn",threadID:this.props.threadID,onLastUploadCancel:this.$34,onAllUploadsComplete:this.$35,onLastUploadFail:this.$36,onUploadError:this.$37,onSubmit:this.$38};return a};d.$21=function(){var a=this.$32();a.linkClassName="_6gb _6wm4 _6gg _6jto";a.imagesOnly=!1;a.onLastUploadFail=this.$39;return a};d.$40=function(a,c){b("SimpleXUIDialog").show(c,a)};d.$8=function(){if(!this.$5)return;var a=b("ReactDOM").findDOMNode(this.$5);if(!a)return;a=a.clientHeight;!this.state.longInput&&a>p?this.setState({longInput:!0}):this.state.longInput&&a<q&&this.setState({longInput:!1})};d.hasEmptyInput=function(){return l.test(this.$41())};d.$41=function(){var a=this.getInput();return a&&a.getValue()||""};d.$43=function(a,b){this.props.onSendMessage({message:a,mentions:b},this.props.composer,this.onSend);return};d.$42=function(){var a=this.getInput();return a&&a.getMentions?a.getMentions():null};d.$19=function(){return b("ChatTabSRXUtil").isSRXEligible(this.props.thread,this.props.threadID)&&this.props.blockedIDs&&b("MercuryIgnoredBlockedParticipants.bs").qualifiesAs(this.props.viewer,this.props.blockedIDs,this.props.thread)};d.$20=function(){var a=this.props.thread;return a&&!a.is_subscribed&&b("gkx")("976852")};d.$44=function(a,c){this.$1==null&&(this.$1=b("WaterfallIDGenerator").generate()),b("PhotosUploadWaterfall").sendSignal(babelHelpers["extends"]({qn:this.$1,step:a,uploader:b("PhotosUploadWaterfall").APP_CHAT},c||{}))};d.$46=function(a){if(a===0)return;this.$44(b("PhotosUploadWaterfall").POST_PUBLISHED,{count:a});this.$1=b("WaterfallIDGenerator").generate()};d.$45=function(a,b){m.debug("photo_uploader:"+a,"{}")};return c}(b("React").Component);e.exports=a}),null);
__d("ChatTabMenuBootloader.react",["cx","fbt","AutoFocusableLink.react","BootloadOnInteraction.react","ChatTabMenuIcon.bs","ErrorBoundary.react","JSResource","LazyComponent.react","MercuryConfig","MercuryThreadInfo","MessageRequestUtils","React","getPageIDFromThreadID","immutable","isEmpty","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ChatTabMenuIcon.bs").jsComponent,j=b("lazyLoadComponent")(b("JSResource")("MessengerReportNUX.react").__setRef("ChatTabMenuBootloader.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=this.props.thread;return!!a&&b("MercuryThreadInfo").showSettingsMenu(a)&&!b("isEmpty")(a.participants)&&!b("MessageRequestUtils").isMessageRequest(a)&&!b("MercuryConfig").ViewerIsReadOnly&&!(b("MercuryConfig").ColdOpenBlock&&(b("MercuryThreadInfo").isColdOpen(a)||b("MercuryThreadInfo").isEmptyLocalThread(a)))&&!(this.props.isPageChat&&a.message_count===0)};d.render=function(){if(!this.$1())return null;var a=h._("T\u00f9y ch\u1ecdn");return b("React").createElement("div",{className:"_461_",ref:"menu"},b("React").createElement(b("BootloadOnInteraction.react"),{component:b("React").createElement(b("LazyComponent.react"),this.props),loader:b("JSResource")("ChatTabMenu.react").__setRef("ChatTabMenuBootloader.react"),placeholder:b("React").createElement(b("AutoFocusableLink.react"),{"aria-label":a,role:"button"},b("React").createElement(i,{iconStyle:this.props.iconStyle}))}),this.$2())};d.$2=function(){var a=this;if(!this.props.showMessengerReportNux||this.props.threadID===null)return null;var c=b("getPageIDFromThreadID")(this.props.threadID);return c===null?null:b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("React").Suspense,{fallback:null},b("React").createElement(j,{contextRef:function(){return a.refs.menu},pageID:c,pageUnsubscribeStatus:this.props.pageUnsubscribeStatus})))};return c}(b("React").Component);e.exports=a}),null);
__d("BadgeReact.bs",["Badge.react","ReasonReact.bs","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("Badge.react"),{size:b("bs_js_null_undefined").fromOption(a),type:b("bs_js_null_undefined").fromOption(c)},d)}f.make=a}),null);
__d("MercuryThreadTitleReact.bs",["fbt","bs_block","bs_curry","React","bs_js_dict","bs_caml_obj","BadgeReact.bs","MercuryIDs","bs_belt_Option","CurrentUser","ReasonReact.bs","bs_js_primitive","bs_js_null_undefined","MessengerParticipants.bs","MercuryParticipantListRenderer","MessengerTextWithEmoticonsReact.bs","WorkUserEmojiWithTooltipBootloader.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ReasonReact.bs").reducerComponent("MercuryThreadTitleReact");function i(a,b){return g._("{conversation-title} ({unread-count})",[g._param("conversation-title",a),g._param("unread-count",String(b))])}function a(a,c,d,e,f,g,j,k,l){__p&&__p();var m=f!==void 0?f:!1,n=g!==void 0?g:!1,o=j!==void 0?j:!1,p=k!==void 0?k:!1,q=function(a){__p&&__p();if(d.name===""){b("bs_curry")._1(a[3],[""]);var c=b("MercuryIDs").getParticipantIDFromUserID(e),f=d.participants.length>1?d.participants.filter(function(a){return a!==c}):d.participants;b("MessengerParticipants.bs").getMulti(f,function(c){__p&&__p();if(a[1][2][0]){var e=[];f.forEach(function(a){a=c[a];if(a!==void 0){e.push(a);return 0}else return 0});var g=b("bs_js_null_undefined").bind(d.custom_nickname,function(a){var c={};b("bs_js_dict").entries(a).forEach(function(a){c[a[0]]=b("ReasonReact.bs").element(void 0,void 0,b("MessengerTextWithEmoticonsReact.bs").make(!0,!0,a[1],void 0,[]));return 0});return c});g=new(b("MercuryParticipantListRenderer"))().setUseShortName(o).setUseAndSeparator(p).setIsNewThread(m).setNickname(g).renderParticipantList(e);g=n&&d.unread_count>0?i(g,d.unread_count):g;return b("bs_curry")._1(a[3],[g])}else return 0});return 0}else return 0},r=function(){if(c!==void 0){var a=c;a=a===0||a>=d.name.length?d.name:d.name.slice(0,a)+"..."}else a=d.name;a=b("ReasonReact.bs").element(void 0,void 0,b("MessengerTextWithEmoticonsReact.bs").make(!0,!0,a,void 0,[]));if(d.unread_count===0||!n)return a;else return i(a,d.unread_count)};return[h[0],h[1],h[2],h[3],function(a){a[1][2][0]=!0;return q(a)},function(a){a=a[1];if(a[1][0][0]!==d){a[1][0][0]=d;return q(a)}else return 0},function(a){a[1][2][0]=!1;return 0},h[7],function(c){__p&&__p();c=d.name!==""?r(0):c[1][1];var e=d.other_user_fbid;e=e==null?void 0:b("bs_js_primitive").some(e);e=b("CurrentUser").isWorkUser()&&e!==void 0?b("React").createElement(b("WorkUserEmojiWithTooltipBootloader.react"),{userID:b("bs_belt_Option").getExn(e),withSpace:!0}):null;var f=b("bs_belt_Option").flatMap(b("bs_js_primitive").nullable_to_opt(b("MercuryIDs").getParticipantIDFromFromThreadID(d.thread_id)),function(a){return b("bs_js_primitive").nullable_to_opt(b("MessengerParticipants.bs").getNow(a))});f=f!==void 0&&b("bs_caml_obj").caml_equal(b("bs_js_primitive").nullable_to_opt(b("bs_js_primitive").valFromOption(f).verification_status),"BLUE_VERIFIED")?b("ReasonReact.bs").element(void 0,void 0,b("BadgeReact.bs").make("medium","verified",[])):null;var g={};a!==void 0&&(g.className=b("bs_js_primitive").valFromOption(a));return b("React").createElement("span",g,c,e,f,l)},function(){return[[d],"",[!1]]},h[10],function(a,c){return b("bs_block").__(0,[[c[0],a[0],c[2]]])},h[12]]}f.component=h;f.renderTitleWithUnreadCount=i;f.make=a}),null);
__d("MercuryThreadTitleReact.re",["bs_curry","MercuryThreadTitleReact.bs","ReasonReact.bs"],(function(a,b,c,d,e,f){a=b("ReasonReact.bs").wrapReasonForJs(b("MercuryThreadTitleReact.bs").component,function(a){return b("bs_curry").app(b("MercuryThreadTitleReact.bs").make,[a.className,a.maxTitle,a.thread,a.viewer,a.isNewThread,a.showUnreadCount,a.useShortName,a.useAndSeparator,a.children])});f.component=a;f["default"]=a}),null);
__d("ChatTitleLink.react",["cx","BanzaiODS","ChatEditParticipantsUtils","Link.react","MercuryIDs","MercuryThreadTitleSafe.react","MessengerAdminGroupUtils","MessengerHoverCardLink","React","TrackingNodes","UserAgent","gkx","goURI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"ChatTitleLink",propTypes:{href:a.string,isNewMessageTab:a.bool,thread:a.object,viewer:a.string},getDefaultProps:function(){return{href:null}},render:function(){var a=this;if(!this.props.thread)return null;var c=this.props,d=c.href,e=c.thread,f=c.viewer;c=babelHelpers.objectWithoutPropertiesLoose(c,["href","thread","viewer"]);var g="";b("gkx")("697231")&&e&&e.thread_id&&(g=b("MessengerHoverCardLink").constructEndpoint({id:b("MercuryIDs").getThreadFBIDFromThreadID(e.thread_id)}));return b("React").createElement(h,babelHelpers["extends"]({className:"titlebarText"+(b("UserAgent").isBrowser("Chrome")&&!b("UserAgent").isPlatform("Windows")?" fixemoji":"")+(d===null?" noLink":""),"data-ft":b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.TITLE),"data-hover":"tooltip",onClick:function(b){return a._handleClick(b)},"data-hovercard":g.toString(),href:d},c),b("React").createElement(b("MercuryThreadTitleSafe.react"),{isNewThread:this.props.isNewMessageTab,thread:e,useAndSeparator:!0,useShortName:!e.is_canonical,viewer:f}))},_handleClick:function(a){var c=this.props,d=c.href;c=c.thread;if(!d)return;c&&c.associated_object?b("goURI")(d):b("MessengerAdminGroupUtils").showParticipantsModal(c.is_canonical,this.props.isNewMessageTab,c)&&(b("BanzaiODS").bumpEntityKey(2966,"messenger_web_dead_code","joinable_thread_show_participants_modal"),b("ChatEditParticipantsUtils").showParticipantsModal(c.thread_id),a.preventDefault())}});var h=function(a){return a.href?b("React").createElement(b("Link.react"),a):b("React").createElement("span",a)};e.exports=c}),null);
__d("ChatTypingIndicator.react",["cx","fbt","Image.react","MercuryIDs","MercuryTypingAnimation_DEPRECATED.react","MessengerParticipants.bs","MessengerPersonas.bs","QE2Logger","React","ReactComponentWithPureRenderMixin"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"ChatTypingIndicator",mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{setBubbleRef:a.func,isOnline:a.bool,userID:a.string,showName:a.bool},componentDidMount:function(){b("QE2Logger").logExposureForUser("messenger_growth_tombstone")},render:function(){var a,c=this.getPersona();this.props.userID&&(a=b("MessengerParticipants.bs").getNow(this.props.userID));return!a&&!c?null:b("React").createElement("div",{className:"_4tdt"},i(a,c),this._renderBubble())},getPersona:function(){var a=this.props.userID;return!a?null:b("MessengerPersonas.bs").getNow(b("MercuryIDs").getUserIDFromParticipantID(a))},_renderBubble:function(){var a=this.props,c=a.setBubbleRef;a=a.showName;return b("React").createElement("div",{className:"_4tdv"},b("React").createElement("div",{className:"_5wd4 _1nc7 _2cnu"+(a?" _5ysy":"")},b("React").createElement("div",{className:"_5wd9 _n4o"},b("React").createElement("div",{className:"_5w1r _5wdf _3_om"},b("React").createElement(b("MercuryTypingAnimation_DEPRECATED.react"),{className:"_5x7x",ref:c})))))}});function i(a,c){var d=c?c.name:a?a.name:null;c=c?c.profile_picture_url:a?a.image_src:null;a=a?a.href:null;d=h._("{name}",[h._param("name",d)]);return b("React").createElement("div",{className:"_31o4 _3njy"},b("React").createElement("a",{"aria-label":d,className:"_4tdw","data-hover":"tooltip","data-tooltip-content":d,"data-tooltip-position":"left",href:a||"#",ref:"link"},b("React").createElement(b("Image.react"),{src:c,ref:"image"})))}e.exports=c}),null);
__d("ChatTypingIndicators.react",["cx","fbt","ChatConfig","ChatTypingIndicator.react","CurrentUser","DOM","MercuryIDs","MessengerEnvironment","MessengerParticipants.bs","MessengerPersonas.bs","MessengerState.bs","MessengerTypingUtils.bs","React","ReactDOM","TooltipData","emptyFunction"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=!1,c.bubbleRefs={},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1=!0};d.componentWillUnmount=function(){this.$1=!1};d.shouldComponentUpdate=function(a){return a.threadID!==this.props.threadID||a.viewer!==this.props.viewer||a.rootClassName!==this.props.rootClassName||a.typingUserIDs!==this.props.typingUserIDs};d.componentDidUpdate=function(){__p&&__p();var a=this,c=b("MessengerTypingUtils.bs").getTypingUserIDs(this.props.typingUserIDs);c.length>0?this.props.indicatorsDidShow():this.props.indicatorsDidHide();b("MessengerParticipants.bs").getMulti(c,function(d){a.$1&&c.forEach(function(c){var e=d[c],f=a.bubbleRefs[c];if(f&&e){c=b("MessengerPersonas.bs").getNow(b("MercuryIDs").getUserIDFromParticipantID(c));c=c?c.name:e.short_name;b("TooltipData").set(b("ReactDOM").findDOMNode(f),a.renderTooltip(c),"above","left")}})})};d.$2=function(){var a=this,c=b("MercuryIDs").isGroupChat(this.props.threadID);return b("React").createElement("div",{className:this.props.rootClassName},b("MessengerTypingUtils.bs").getTypingUserIDs(this.props.typingUserIDs).sort().map(function(b){return a.$3(b,!!c)}))};d.render=function(){if(!b("MercuryIDs").isValid(this.props.threadID))return null;var a=b("MessengerState.bs").getThreadMetaNow(b("CurrentUser").getID(),this.props.threadID);if(a&&!a.is_subscribed)return null;a=b("CurrentUser").isWorkUser()&&b("MessengerEnvironment").messengerui;if(!a&&b("ChatConfig").getBool("chat_tab_has_gradients"))return b("React").createElement("div",{className:"_4gd0"},this.$2());else return this.$2()};d.$3=function(a,c){var d=this,e=this.props.indicatorClass;return b("React").createElement(e,{key:a,setBubbleRef:function(b){d.bubbleRefs[a]=b},showName:c,userID:a})};d.renderTooltip=function(a){var c=b("DOM").create("span");b("ReactDOM").render(b("React").createElement("span",null,h._("{name} \u0111ang nh\u1eadp...",[h._param("name",a)])),c);return c};return c}(b("React").Component);a.defaultProps={indicatorClass:b("ChatTypingIndicator.react"),indicatorsDidShow:b("emptyFunction"),indicatorsDidHide:b("emptyFunction")};e.exports=a}),null);
__d("ChatVideoCallButtonBootloader.react",["cx","AutoFocusableLink.react","BootloadOnInteraction.react","ChatVideoCallIcon.bs","JSResource","LazyComponent.react","React","requireWeak"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ChatVideoCallIcon.bs").jsComponent;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=!1,c.state={RTCComponent:null},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=!0;b("requireWeak")("ChatVideoCallButton.react",function(b){a.$1&&a.setState({RTCComponent:b})})};d.componentWillUnmount=function(){this.$1=!1};d.render=function(){if(this.props.isPageChat||this.props.isBlocked)return null;var a=this.props,c=a.isAudio;a=a.iconStyle;var d=this.state.RTCComponent;return b("React").createElement("div",{className:"_3a61"+(c?" _461a":"")+(c?"":" _461b"),"data-testID":c?"chatTabVoiceButton":"chatTabVideoButton",key:"rtc"+(c?"audio":"video")},d?b("React").createElement(d,this.props):b("React").createElement(b("BootloadOnInteraction.react"),{component:b("React").createElement(b("LazyComponent.react"),this.props),loader:b("JSResource")("ChatVideoCallButton.react").__setRef("ChatVideoCallButtonBootloader.react"),placeholder:b("React").createElement(b("AutoFocusableLink.react"),{role:"button"},b("React").createElement(h,{isAudio:c,iconStyle:a}))}))};return c}(b("React").Component);e.exports=a}),null);
__d("ChatTabHeader.react",["ix","cx","fbt","AutoFocusableLink.react","BootloadOnRender.react","ChatCloseButton.react","ChatTitleLink.react","CurrentUser","ErrorBoundary.react","EventPlanExperiment","EventReminderStateStore","Image.react","JSResource","LayerFadeOnHide","LazyComponent.react","MercuryBootloadOnInteraction.react","MercuryConfig","MercuryIDs","MercuryThreadInfo","MercuryTypingAnimation_DEPRECATED.react","MessageRequestUtils","MessagingTag","MessengerAdminGroupUtils","MessengerPresenceProvider.bs","MessengerState.bs","React","SimpleNUXMessage","TooltipData","WorkChatAvailabilityStatusLoader","XUIAmbientNUX.react","asset","getPageIDFromThreadID","gkx","immutable","isEmpty","lazyLoadComponent","requireWeak"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;var j="118809038721180",k=b("lazyLoadComponent")(b("JSResource")("MessengerReportNUX.react").__setRef("ChatTabHeader.react"));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$1=!1;d.$3=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];d.props.onClick.apply(null,b)};d.$15=function(){return d.refs.menu};d.$16=function(){b("SimpleNUXMessage").markMessageSeenByUser(j),d.setState({eventPlanNuxSeen:!0})};d.state={eventPlanNuxSeen:b("SimpleNUXMessage").hasUserSeenMessage(j)};return d}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=!0;b("requireWeak")("ChatVideoCallButton.react",function(b){a.$1&&a.setState({RTCComponent:b})})};d.componentWillUnmount=function(){this.$1=!1};d.render=function(){var a=this.$2(),c=this.props.isRaised;return b("React").createElement("div",{className:"_15p4 _6t9f"+(this.props.isRaised?"":" _15p5")+(c||!a?" _2pis":""),onMouseUp:this.$3,ref:"root"},b("React").createElement("div",{"aria-level":"2",className:"titlebarTextWrapper _15p6",role:"heading"},b("React").createElement("div",{className:"_61td",role:c?"presentation":"button",tabIndex:c?-1:0},a,this.$4()),this.props.isTyping&&!this.props.isRaised?b("React").createElement(b("MercuryTypingAnimation_DEPRECATED.react"),{className:"_15p8"}):null),b("React").createElement("ul",{className:"_32ca"},this.$5(),b("React").createElement("li",{className:"_32cb"},b("React").createElement(b("ChatCloseButton.react"),{active:this.props.isActive,className:"_3olu _3olv",onClick:this.props.onCloseClick}))))};d.focus=function(){this.refs.root&&this.refs.root.focus()};d.$6=function(){return this.props.thread?b("MessageRequestUtils").isMessageRequest(this.props.thread):!1};d.$7=function(){var a;if(this.props.thread===null)return null;var c=b("MessengerState.bs").getThreadMetaNow(b("CurrentUser").getID(),this.props.threadID);if(!c)return null;c=((a=c.marketplace_thread_data)==null?void 0:a.for_sale_item)||((a=c.marketplace_thread_data)==null?void 0:a.buyer_fbid)||((a=c.marketplace_thread_data)==null?void 0:a.seller_fbid);return Boolean(c)};d.$5=function(){if(!this.props.isRaised)return null;var a=[this.$8(),this.$9(),this.$10(),this.$11(),this.$12()];return a.filter(Boolean)};d.$11=function(){return this.$13({isAudio:!0})};d.$10=function(){return this.$13({isAudio:!1})};d.$13=function(a){__p&&__p();if(this.props.isEmptyChat||this.props.hasBlockedMessages||this.$6()||this.$7())return null;if(this.props.isPageChat)return null;var c=this.props,d=c.isGroupChat,e=c.onRTCNuxCloseButtonClick,f=c.rtcNuxShown,g=c.thread,h=c.threadID;c=c.viewer;if(d){if(!g||!b("MercuryThreadInfo").canReply(g))return null;if(g.joinable_mode&&g.joinable_mode.mode===1)return null}d=babelHelpers["extends"]({isGroupChat:d,onRTCNuxCloseButtonClick:e,rtcCallData:g&&g.rtc_call_data,rtcNuxShown:f&&a.isAudio,threadID:h,thread:g,viewer:c},a);d.className="_3olv"+(d.isAudio?" _2fpc":"")+(d.isAudio?"":" _2fpd");e=this.state.RTCComponent;return b("React").createElement("li",{className:"_3a61"+(d.isAudio?" _461a":"")+(d.isAudio?"":" _461b"),key:"rtc"+(d.isAudio?"audio":"video")},e?b("React").createElement(e,d):b("React").createElement(b("MercuryBootloadOnInteraction.react"),{component:b("React").createElement(b("LazyComponent.react"),d),loader:b("JSResource")("ChatVideoCallButton.react").__setRef("ChatTabHeader.react"),placeholder:b("React").createElement(b("AutoFocusableLink.react"),{className:d.className,role:"button"})}))};d.$14=function(){var a=this.props.thread;return!!a&&b("MercuryThreadInfo").showSettingsMenu(a)&&!b("isEmpty")(a.participants)&&!b("MessageRequestUtils").isMessageRequest(a)&&!b("MercuryConfig").ViewerIsReadOnly&&!(b("MercuryConfig").ColdOpenBlock&&(b("MercuryThreadInfo").isColdOpen(a)||b("MercuryThreadInfo").isEmptyLocalThread(a)))&&!(this.props.isPageChat&&a.message_count===0)};d.$12=function(){__p&&__p();if(!this.$14())return null;var a=this.props,c=a.thread;a=a.isNewMessageTab;if(a||!!c&&c.folder===b("MessagingTag").PENDING)return null;a={attachmentsShelf:this.props.attachmentsShelf,hasBlockedMessages:this.props.hasBlockedMessages,isGroupChat:this.props.isGroupChat,isMultiCompany:this.props.isMultiCompany,isMuted:this.props.isMuted,isPageChat:this.props.isPageChat,membershipParticipants:this.props.membershipParticipants,participants:this.props.participants,sheetController:this.props.sheetController,thread:this.props.thread,threadID:this.props.threadID,uri:this.props.uri,viewer:this.props.viewer};a.className="_3olv _1ll-";c=i._("T\u00f9y ch\u1ecdn");var d=!1;if(this.props.threadID){var e=b("EventReminderStateStore").getEvent(this.props.threadID);d=e&&!e.exists&&!this.state.eventPlanNuxSeen&&b("EventPlanExperiment").shouldShowEntryPointNuxWithExposure()}return b("React").createElement("div",{key:"menu"},b("React").createElement("li",{className:"_3a61 _461_",ref:"menu"},b("React").createElement(b("MercuryBootloadOnInteraction.react"),{component:b("React").createElement(b("LazyComponent.react"),a),loader:b("JSResource")("ChatTabMenu.react").__setRef("ChatTabHeader.react"),placeholder:b("React").createElement(b("AutoFocusableLink.react"),{className:a.className,"aria-label":c,role:"button"})})),b("React").createElement(b("XUIAmbientNUX.react"),{alignment:"right",behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},contextRef:this.$15,onCloseButtonClick:this.$16,shown:d,width:"auto"},i._("Nh\u1ea5p v\u00e0o \u0111\u00e2y \u0111\u1ec3 b\u1eaft \u0111\u1ea7u m\u1ed9t k\u1ebf ho\u1ea1ch m\u1edbi.")),this.$17())};d.$9=function(){var a=this,c=this.props,d=c.isNewMessageTab,e=c.isPageChat;c=c.thread;if(d||e||this.$6()||b("gkx")("678584")||!(c==null?void 0:c.is_subscribed))return null;d={className:"_3olv _3jyj",isFBAtWork:this.props.isWorkUser,shouldAddToApprovalQueue:b("MessengerAdminGroupUtils").shouldAddToApprovalQueue(this.props.thread,this.props.viewer),shown:!0,onClick:function(){return a.props.sheetController.openAddFriendsSheet()},thread:this.props.thread,viewer:this.props.viewer};e=i._("Th\u00eam");return b("React").createElement("li",{className:"_3a61 _4620",key:"add"},b("React").createElement(b("MercuryBootloadOnInteraction.react"),{component:b("React").createElement(b("LazyComponent.react"),d),loader:b("JSResource")("ChatAddToThreadButton.react").__setRef("ChatTabHeader.react"),placeholder:b("React").createElement(b("AutoFocusableLink.react"),{"aria-label":e,className:d.className,role:"button"})}))};d.$8=function(){if(!this.props.isWorkUser||!this.props.isMultiCompany)return null;var a=b("React").createElement(b("AutoFocusableLink.react"),{className:"_kp6",onClick:this.props.onClick,role:"presentation"});return b("React").createElement("li",{key:"multiCompanyBadge"},b("React").createElement("div",{className:"_3olv"},b("React").createElement(b("MercuryBootloadOnInteraction.react"),{component:b("React").createElement(b("LazyComponent.react"),null,a),loader:b("JSResource")("WorkMultiCompanyChatTooltip.react").__setRef("ChatTabHeader.react"),placeholder:a})))};d.$18=function(){var a=this;return b("React").createElement(b("MessengerPresenceProvider.bs").jsComponent,{subscribeToIDs:[b("CurrentUser").getID()]},function(c){return b("React").createElement("span",{className:"_3a61"+(a.props.isRaised?"":" _3-99")},b("React").createElement("span",{className:"_3olv _2nlt"}))})};d.$19=function(){__p&&__p();if(!this.props.isDoNotDisturb)return null;if(!b("gkx")("678573"))return null;var a=this.props.threadID?b("MercuryIDs").getUserIDFromThreadID(this.props.threadID):null;if(!this.props.participants)return null;var c=this.props.participants.filter(function(b){return b.fbid===a})[0];if(!c)return null;c=b("WorkChatAvailabilityStatusLoader").isLoaded()&&a?b("WorkChatAvailabilityStatusLoader").getStoreEnforce().getDescriptionWithUserName(c.short_name,a):"";return b("React").createElement("span",{className:"_4jft"},b("React").createElement(b("Image.react"),{"data-tooltip-content":c,"data-hover":"tooltip",src:g("550341")}))};d.$4=function(){var a=this.props.thread,c=this.props.tooltip;a&&a.is_canonical&&(c="");return b("React").createElement(b("ChatTitleLink.react"),babelHelpers["extends"]({href:this.props.isRaised?this.props.href:void 0,isNewMessageTab:this.props.isNewMessageTab,thread:this.props.thread,viewer:this.props.viewer},b("TooltipData").propsFor(c,"above")))};d.$2=function(){var a=this.props,c=a.isRaised;a=a.thread;return!c&&a&&a.unread_count>0?b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{className:"_3-8_ _3-99",count:a.unread_count,type:"special"}),loader:b("JSResource")("XUIBadge.react").__setRef("ChatTabHeader.react"),placeholder:b("React").createElement("span",null)}):b("React").createElement(b("React").Fragment,null,this.$19(),this.$18())};d.$17=function(){var a=this;if(!this.props.showMessengerReportNux||this.props.threadID===null)return null;var c=b("getPageIDFromThreadID")(this.props.threadID);return c===null?null:b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("React").Suspense,{fallback:null},b("React").createElement(k,{contextRef:function(){return a.refs.menu},pageID:c,pageUnsubscribeStatus:this.props.pageUnsubscribeStatus})))};return c}(b("React").PureComponent);c.propTypes={attachmentsShelf:a.object.isRequired,hasBlockedMessages:a.bool.isRequired,href:a.string,isActive:a.bool.isRequired,isEmptyChat:a.bool,isGroupChat:a.bool,isMuted:a.bool,isPageChat:a.bool,isRaised:a.bool,isTyping:a.bool,isWorkUser:a.bool,onClick:a.func.isRequired,onCloseClick:a.func.isRequired,onRTCNuxCloseButtonClick:a.func.isRequired,participants:a.arrayOf(a.object),rtcNuxShown:a.bool.isRequired,sheetController:a.object.isRequired,showMessengerReportNux:a.bool.isRequired,thread:a.object,threadID:a.string,tooltip:a.string,uri:a.string,viewer:a.string.isRequired};e.exports=c}),null);
__d("ChatTabHeaderContainer.react",["ChatTabHeader.react","CurrentUser","MercuryIDs","MercuryThreadInfo","React","getGroupNameTooltipFromParticipantIDs","getPageIDFromThreadID","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("getGroupNameTooltipFromParticipantIDs").getGroupNameTooltipFromParticipantIDs;a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.state=c.calculateState(b);return c}var d=c.prototype;d.calculateState=function(a){var c=!1,d;if(a.threadID){var e;c=a.isNewMessageTab?(((e=a.thread)==null?void 0:(e=e.participants)==null?void 0:e.length)||0)>2:b("MercuryIDs").isGroupChat(a.threadID);d=b("getPageIDFromThreadID")(a.threadID)}return{isGroupChat:c,pageID:d}};d.componentDidMount=function(){this.props.onMount&&this.props.onMount(this)};d.UNSAFE_componentWillReceiveProps=function(a){this.setState(this.calculateState(a))};d.render=function(){var a=this.props.participants&&this.props.participants.toList().toArray(),c=this.props,d=c.isNewMessageTab;c=c.thread;var e;c&&(e=g(c.participants));var f=c&&c.participants&&c.participants.length===0;return b("React").createElement(b("ChatTabHeader.react"),{attachmentsShelf:this.props.attachmentsShelf,hasBlockedMessages:this.props.hasBlockedMessages,href:this.props.href,isActive:this.props.isActive,isEmptyChat:f,isGroupChat:this.state.isGroupChat,isMultiCompany:this.props.isMultiCompany,isDoNotDisturb:this.props.isDoNotDisturb,isMuted:!!c&&b("MercuryThreadInfo").isMuted(c),isNewMessageTab:this.props.isNewMessageTab,isPageChat:!!this.state.pageID,isRaised:this.props.isRaised,isTyping:this.props.isTyping,isWorkUser:b("CurrentUser").isWorkUser(),membershipParticipants:this.props.membershipParticipants,onClick:this.props.onClick,onCloseClick:this.props.onCloseClick,onRTCNuxCloseButtonClick:this.props.onRTCNuxCloseButtonClick,pageUnsubscribeStatus:this.props.pageUnsubscribeStatus,participants:a,ref:"header",rtcNuxShown:this.props.rtcNuxShown,sheetController:this.props.sheetController,showMessengerReportNux:this.props.showMessengerReportNux,thread:c,threadID:d&&c!=null?c.thread_id:this.props.threadID,uri:this.props.uri,tooltip:e,viewer:this.props.viewer})};d.focus=function(){this.refs.header.focus()};return c}(b("React").PureComponent);c.propTypes={attachmentsShelf:a.object.isRequired,isActive:a.bool.isRequired,isRaised:a.bool,isTyping:a.bool,onClick:a.func.isRequired,onCloseClick:a.func.isRequired,onMount:a.func,onRTCNuxCloseButtonClick:a.func.isRequired,rtcNuxShown:a.bool.isRequired,sheetController:a.object.isRequired,showMessengerReportNux:a.bool.isRequired,thread:a.object,threadID:a.string,uri:a.string,viewer:a.string.isRequired};e.exports=c}),null);
__d("FantaChatHeaderContainer.react",["requireCond","cr:823547"],(function(a,b,c,d,e,f){e.exports=b("cr:823547")}),null);
__d("ChatDetailStack.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.topDetail;a=a.bottomDetail;a=a!==null?b("React").createElement("div",{className:"_4jeh"},a):null;return b("React").createElement("div",{className:"_2rt2"},b("React").createElement("div",{className:"_4jeg"},c),a)}c=a;f.make=c}),null);
__d("ChatTabMenu.bs",["MercuryIDs","ReasonReact.bs","bs_js_primitive","MessengerState.bs","bs_js_null_undefined","getPageIDFromThreadID","ChatTabMenuBootloader.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=a!==void 0?b("bs_js_primitive").some(b("bs_js_primitive").valFromOption(a).thread_id):void 0;if(p!==void 0){var q=b("bs_js_primitive").valFromOption(p);q=[b("MercuryIDs").isGroupChat(q),b("MessengerState.bs").isNewEmptyLocalThread(c,q),b("bs_js_primitive").nullable_to_opt(b("getPageIDFromThreadID")(q))!==void 0]}else q=[!1,!0,!1];var r=a!==void 0?b("bs_js_primitive").valFromOption(a).message_count===0:!0;return b("ReasonReact.bs").wrapJsForReason(b("ChatTabMenuBootloader.react"),{autoFocus:!1,hasBlockedMessages:h,highlightNewMessage:k,isEmptyChat:q[1],isEmptyConversation:r,isFocused:j,isGroupChat:q[0],isMultiCompany:i,isPageChat:q[2],membershipParticipants:b("bs_js_null_undefined").fromOption(d),pageUnsubscribeStatus:e,participantsMap:b("bs_js_null_undefined").fromOption(f),showMessengerReportNux:g,isNewMessageTab:l,thread:b("bs_js_null_undefined").fromOption(a),threadID:b("bs_js_null_undefined").fromOption(p),uri:m,viewer:c,iconStyle:n},o)}f.make=a}),null);
__d("ChatThreadName.bs",["cx","React","LinkReact.bs","MercuryIDs","ReasonReact.bs","bs_js_primitive","MessengerHoverCardLink","MercuryThreadTitleReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.thread,d=a.threadHref,e=a.tooltip,f=a.viewer,g=a.className,h=a.isNewMessageTab;a=a.onHeaderClick;if(c!==void 0){c=b("bs_js_primitive").valFromOption(c);var i=c.thread_id;g=b("ReasonReact.bs").element(void 0,void 0,b("LinkReact.bs").make(void 0,void 0,e,g,void 0,"tooltip",e,void 0,void 0,d,void 0,a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MercuryThreadTitleReact.bs").make("_1ogo",void 0,c,f,h,void 0,!c.is_canonical,!0,[]))]));if(c.is_canonical){e=b("MessengerHoverCardLink").constructEndpoint({id:b("MercuryIDs").getThreadFBIDFromThreadID(i)});return b("React").cloneElement(g,{"data-hovercard":e,"data-hover":""})}else return g}else return null}c=a;f.make=c}),null);
__d("ChatVideoCallButton.bs",["MercuryIDs","ReasonReact.bs","bs_js_primitive","bs_js_null_undefined","ChatVideoCallButtonBootloader.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f,g,h,i,j,k){__p&&__p();a=a!==void 0?a:!0;e=e!==void 0?e:function(){return 0};f=f!==void 0?f:!1;j=j!==void 0?j:!0;if(h!==void 0){var l=b("bs_js_primitive").valFromOption(h);l=[b("bs_js_primitive").some(l.thread_id),b("bs_js_primitive").nullable_to_opt(l.rtc_call_data)]}else l=[void 0,void 0];var m=l[1];m=m!==void 0?b("bs_js_primitive").valFromOption(m):{call_state:"NO_ONGOING_CALL",server_info_data:null,initiator_fbid:null};l=b("bs_js_null_undefined").fromOption(l[0]);var n=b("MercuryIDs").isGroupChat(l);return b("ReasonReact.bs").wrapJsForReason(b("ChatVideoCallButtonBootloader.react"),{isAudio:a,isPageChat:c,isBlocked:d,isGroupChat:n,iconStyle:g,onRTCNuxCloseButtonClick:e,rtcNuxShown:f,threadID:l,thread:b("bs_js_null_undefined").fromOption(h),viewer:i,shown:j,rtcCallData:m},k)}f.make=a}),null);
__d("FantaCloseActionButton.bs",["cx","fbt","bs_curry","React","M4Icon.bs","Link.react","M4IconClose.bs","TrackingNodes","TrackingNodeTypes"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){var c=a.iconStyle,d=a.onClose;a=a.isFocused;var e=b("TrackingNodes").getTrackingInfo(b("TrackingNodeTypes").CLOSE_BUTTON);c=b("M4Icon.bs").getColor(c);a=a?h._("Nh\u1ea5n Esc \u0111\u1ec3 \u0111\u00f3ng"):h._("\u0110\u00f3ng tab");return b("React").createElement(b("Link.react"),{"aria-label":a,"data-ft":e,"data-hover":"tooltip","data-tooltip-content":a,"data-tooltip-position":"above",className:"_7jbw _4vu4 button",onClick:function(a){a.stopPropagation();return b("bs_curry")._1(d,a)},children:b("React").createElement("div",{className:"close"},b("React").createElement(b("M4IconClose.bs").make,{color:c}))})}c=a;f.make=c}),null);
__d("ChatMuteIconReact.bs",["cx","fbt","React","TooltipData","bs_js_primitive","bs_js_null_undefined"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){a=a.isMuted;if(a){a=b("TooltipData").propsFor(h._("Cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y \u0111\u00e3 b\u1ecb t\u1eaft th\u00f4ng b\u00e1o. C\u00e1c tab tr\u00f2 chuy\u1ec7n s\u1ebd kh\u00f4ng b\u1eadt l\u00ean v\u00e0 th\u00f4ng b\u00e1o \u0111\u1ea9y \u0111\u00e3 t\u1eaft."),"above");return b("React").cloneElement(b("React").createElement("div",{className:"_3a61"},b("React").createElement("i",{className:"_7hfn"})),{"data-tooltip-content":b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(a["data-tooltip-content"])),"data-hover":b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(a["data-hover"])),"data-tooltip-position":b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(a["data-tooltip-position"]))})}else return null}c=a;f.make=c}),null);
__d("FantaM4HeaderBottomDetail.bs",["cx","fbt","React","ChatMuteIconReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){__p&&__p();if(a.isNewMessageTab)return null;else{var c=h._("\u0110ang ho\u1ea1t \u0111\u1ed9ng"),d=a.isPage;if(d)d=null;else{var e=a.isActive;d=e?b("React").createElement("div",{"aria-label":c,role:"presentation"},c):null}e=a.isMuted;if(e){c=d!==null&&a.isMuted;return b("React").createElement("div",{className:"_69r-"},d,c?b("React").createElement("span",{"aria-hidden":!0},"\u30fb"):null,b("React").createElement(b("ChatMuteIconReact.bs").make,{isMuted:a.isMuted}))}else return d}}f.make=a}),null);
__d("FantaM4Header.bs",["cx","fbt","React","bs_belt_Set","bs_belt_Array","MercuryIDs","bs_belt_Option","ChatTabMenu.bs","ReasonReact.bs","bs_js_primitive","ParticipantId.bs","ChatThreadName.bs","ChatDetailStack.bs","MercuryThreadInfo","ChatVideoCallButton.bs","MessageRequestUtils","FantaProfilePresence.bs","MessengerParticipants.bs","getPageIDFromThreadID","FantaCloseActionButton.bs","FantaM4HeaderBottomDetail.bs","MessengerCustomColorUtils.bs","MessengerParticipantUtils.bs","MessengerPresenceProvider.bs","ChatGroupMembershipDialogBootloader","getGroupNameTooltipFromParticipantIDs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").statelessComponent("FantaM4Header");function j(a,c){__p&&__p();if(a!==void 0){a=b("bs_js_primitive").valFromOption(a).valueSeq().filter(function(a){return!(a.image_src==null)}).map(function(a,d,e){d=b("bs_belt_Option").getExn(b("bs_js_primitive").nullable_to_opt(a.image_src));return[d,a.fbId!==c]}).take(4).toArray();var d=a.length>3;d=d?a.filter(function(a){return a[1]}):a;return d.slice(0,3).map(function(a){return a[0]})}else return[]}function k(a,c,d){__p&&__p();if(a!==void 0){a=b("bs_js_primitive").valFromOption(a);var e=a.image_src;if(e==null){a=b("MercuryIDs").getParticipantIDFromFromThreadID(a.thread_id);if(a==null)return j(c,d);else{c=b("MessengerParticipants.bs").getNow(a);if(c==null)return[];else{d=c.image_src;if(d==null)return[];else return[d]}}}else return[e]}else return[]}function l(a){__p&&__p();if(a!==void 0){a=b("bs_js_primitive").valFromOption(a);if(a.is_canonical)return"";else{a=b("getGroupNameTooltipFromParticipantIDs").getGroupNameTooltipFromParticipantIDs(a.participants);if(a==null)return"";else return a}}else return""}function m(a){if(a!==void 0)return b("MessageRequestUtils").isMessageRequest(b("bs_js_primitive").valFromOption(a));else return!1}function n(a,c,d,e,f,g,j,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){__p&&__p();var D=u!==void 0?u:"";return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(){__p&&__p();var i=k(t,r,v),p=t!==void 0?b("bs_js_primitive").nullable_to_opt(b("getPageIDFromThreadID")(b("bs_js_primitive").valFromOption(t).thread_id)):void 0;if(t!==void 0){var u=b("bs_js_primitive").valFromOption(t);u=[u.thread_fbid,u.thread_id,u.is_canonical]}else u=[null,"",!0];var C=u[2],E=u[1],F=u[0],G=l(t);if(t!==void 0){u=b("bs_js_primitive").valFromOption(t).header_color;u=u==null?b("MessengerCustomColorUtils.bs").defaultColor(0):u}else u=b("MessengerCustomColorUtils.bs").defaultColor(0);if(c)if(u!==void 0){var H=u;H=[0,H,[H]]}else H=[1,"",1];else if(u!==void 0&&d){u=u;H=[[u],"",[u]]}else H=[1,"",1];var I=H[1];u=H[0];var J="_69pt"+(c?" _2mgn":""),K=function(a){if(C)return 0;else{b("ChatGroupMembershipDialogBootloader").bootload(g,r,E);a.stopPropagation();return 0}},L=C?D:"",M=y?h._("Tin nh\u1eafn m\u1edbi"):b("React").createElement(b("ChatThreadName.bs").make,{thread:t,threadHref:L,tooltip:G,viewer:v,className:"_2mgq",isNewMessageTab:y,onHeaderClick:K});H=p!==void 0;var N=m(t),O=N?b("React").createElement("div",{className:"_69ae"},b("React").createElement("div",{className:"_66n5"},b("React").createElement(b("FantaCloseActionButton.bs").make,{iconStyle:u,onClose:j,isFocused:d}))):t!==void 0?y?b("React").createElement("div",{className:"_69ae"},b("React").createElement("div",{className:"_66n5"},b("React").createElement(b("FantaCloseActionButton.bs").make,{iconStyle:u,onClose:j,isFocused:d}))):b("React").createElement("div",{className:"_69ae"},b("React").createElement("div",{className:"_66n5 _1iti"},b("ReasonReact.bs").element(void 0,void 0,b("ChatVideoCallButton.bs").make(!1,H,a,void 0,void 0,u,t,v,void 0,[]))),b("React").createElement("div",{className:"_66n5 _1iti"},b("ReasonReact.bs").element(void 0,void 0,b("ChatVideoCallButton.bs").make(!0,H,a,q,s,u,t,v,void 0,[]))),b("React").createElement("div",{className:"_66n5"},b("ReasonReact.bs").element(void 0,void 0,b("ChatTabMenu.bs").make(t,v,g,w,r,z,a,e,d,c,y,A,u,[]))),b("React").createElement("div",{className:"_66n5"},b("React").createElement(b("FantaCloseActionButton.bs").make,{iconStyle:u,onClose:j,isFocused:d}))):b("React").createElement("div",{className:"_69ae"},b("React").createElement("div",{className:"_66n5"},b("React").createElement(b("FantaCloseActionButton.bs").make,{iconStyle:u,onClose:j,isFocused:d})));N=b("bs_belt_Option").map(r,function(a){return b("bs_belt_Set").fromArray(b("bs_belt_Array").map(a.toArray(),function(a){return a[0]}),[b("ParticipantId.bs").cmp])});H={children:function(a){a=t!==void 0?!B&&b("MessengerParticipantUtils.bs").findIntersection(v,a,b("bs_js_primitive").valFromOption(t)).length!==0:!1;var c=b("FantaM4HeaderBottomDetail.bs").make({isActive:a,isMuted:b("bs_belt_Option").mapWithDefault(t,!1,function(a){return b("MercuryThreadInfo").isMuted(a)}),isNewMessageTab:y,isPage:p!==void 0});return b("React").createElement("div",{className:J,style:{backgroundColor:I},onClick:o},b("React").createElement("div",{className:"_66n2",onClick:n},y?null:b("ReasonReact.bs").element(void 0,void 0,b("FantaProfilePresence.bs").make(i,28,x!==void 0?!0:a,!0,L,G,I,e,f,C,F==null?void 0:b("bs_js_primitive").some(F),r,K,[])),b("React").createElement("div",{className:"_66n3"+(y?" _6dtv":"")},b("React").createElement(b("ChatDetailStack.bs").make,{topDetail:M,bottomDetail:c}),O)))}};N!==void 0&&(H.subscribeToIDs=b("bs_js_primitive").valFromOption(N));return b("React").createElement(b("MessengerPresenceProvider.bs").make,H)},i[9],i[10],i[11],i[12]]}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){return n(a.hasBlockedMessages,a.highlightNewMessage,a.isFocused,a.isMultiCompany,a.isDoNotDisturb,b("bs_js_primitive").nullable_to_opt(a.membershipParticipants),a.onClose,a.focusOnClick,a.onHeaderToggle,a.onMinimizeButtonClick,a.onRTCNuxCloseButtonClick,b("bs_js_primitive").nullable_to_opt(a.participants),a.rtcNuxShown,b("bs_js_primitive").nullable_to_opt(a.thread),a.threadHref,a.viewer,a.pageUnsubscribeStatus,b("bs_js_primitive").nullable_to_opt(a.pageIndicatorDescription),a.isNewMessageTab,a.showMessengerReportNux,a.uri,a.isMessengerOnlyUser,[])});c=28;f.component=i;f.profile_image_size=c;f.getUpTo3Images=j;f.getProfileImages=k;f.getTooltip=l;f.isThreadMessageRequest=m;f.make=n;f.jsComponent=a}),null);
__d("FantaChatM4HeaderContainer.react",["cx","AsyncRequest","Bootloader","FantaM4Header.bs","FantaTabActions","MercuryIDs","MercuryIgnoredBlockedParticipants.bs","React","ShortProfiles","XGroupCallNuxController","immutable","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FantaM4Header.bs").jsComponent;a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!1,d.state={rtcNuxShown:!1},d.$4=function(a){d.props.onClose&&d.props.onClose(),a.preventDefault()},d.$5=function(a){var c=a.target,e=c&&c.classList&&c.classList.contains("button");c=c&&(c.tagName==="svg"||c.ownerSVGElement!=null);if(e||c)return;a.stopPropagation();b("FantaTabActions").minimizeTab(d.props.threadID)},d.$6=function(a){a.stopPropagation(),b("FantaTabActions").minimizeTab(d.props.threadID)},d.$3=function(){if(d.state.rtcNuxShown&&d.$1){d.setState({rtcNuxShown:!1});var a=b("XGroupCallNuxController").getURIBuilder().setString("action","dismiss").getURI();new(b("AsyncRequest"))(a).send()}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.shouldComponentUpdate=function(a,b){var c=this.props,d=this.state;return c.threadHref!==a.threadHref||c.highlightNewMessage!==a.highlightNewMessage||c.isFocused!==a.isFocused||c.viewer!==a.viewer||c.threadID!==a.threadID||c.isLastGroupTab!==a.isLastGroupTab||c.thread!==a.thread||d.rtcNuxShown!==b.rtcNuxShown||c.customColor!==a.customColor||c.blockedIDs!==a.blockedIDs||!c.membershipParticipants&&!!a.membershipParticipants||!!c.membershipParticipants&&!!a.membershipParticipants&&!c.membershipParticipants.equals(a.membershipParticipants)||!c.participants&&!!a.participants||!!c.participants&&!!a.participants&&!c.participants.equals(a.participants)};d.componentDidMount=function(){var a=this,c=b("performanceAbsoluteNow")();b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(b,d){b.markerPoint(d.FIRSTCHATTABOPEN_WWW,"mount_header",JSON.stringify({isNewMessageTab:a.props.isNewMessageTab,hasThread:!!a.props.thread}),0,c)},"FantaChatM4HeaderContainer.react");this.$1=!0;this.$2()};d.componentWillUnmount=function(){this.$3(),this.$1=!1};d.render=function(){var a=this.props,c=a.blockedIDs,d=a.highlightNewMessage,e=a.isFocused,f=a.isNewMessageTab,g=a.membershipParticipants,i=a.pageIndicatorDescription,j=a.participants,k=a.thread,l=a.threadHref,m=a.threadID,n=a.uri;a=a.viewer;var o=this.state.rtcNuxShown;c=!!k&&b("MercuryIgnoredBlockedParticipants.bs").qualifiesAs(a,c,k);var p=!!k&&k.page_unsubscribe_status,q;m=b("MercuryIDs").getUserIDFromThreadID(m);m&&(q=b("ShortProfiles").getNow(m));m=q&&q.is_messenger_only;return b("React").createElement("div",{className:"clearfix titlebar"},b("React").createElement(h,{hasBlockedMessages:c,highlightNewMessage:d,isMessengerOnlyUser:m,isFocused:e,isMultiCompany:this.props.isMultiCompany,isDoNotDisturb:this.props.isDoNotDisturb,isNewMessageTab:!!f,membershipParticipants:g,onClose:this.$4,onHeaderToggle:this.$5,onMinimizeButtonClick:this.$6,onRTCNuxCloseButtonClick:this.$3,pageUnsubscribeStatus:p,pageIndicatorDescription:i,participants:j,rtcNuxShown:o,showMessengerReportNux:!0,thread:k,focusOnClick:this.props.focusOnClick,threadHref:l,uri:n,viewer:a}))};d.$2=function(){var a=this;if(this.props.isLastGroupTab){var c=b("XGroupCallNuxController").getURIBuilder().setString("action","should_show").getURI();new(b("AsyncRequest"))(c).setHandler(function(b){b=b.payload.shouldShow;a.$1&&a.setState({rtcNuxShown:b})}).send()}};return c}(b("React").Component);c.propTypes={blockedIDs:a.any,customColor:a.string,highlightNewMessage:a.bool,isFocused:a.bool.isRequired,isLastGroupTab:a.bool.isRequired,onClose:a.func.isRequired,focusOnClick:a.func.isRequired,thread:a.object,threadID:a.string.isRequired,uri:a.string,viewer:a.string.isRequired};e.exports=c}),null);
__d("FantaConversation.react",["Bootloader","ChatConversation.react","CurrentUser","EventProfiler","MercuryIDs","MessengerHotLikePreviewEvents","React","StickersTypedLogger","SubscriptionsHandler","emptyFunction","shallowArrayEqual"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$4=function(a){d.props.threadID===a&&d.setState({likePreview:null})};d.$5=function(a,c){if(!a)return;new(b("StickersTypedLogger"))().setEvent("click_sticker").setPackid(a).setStickerid(c).log();b("Bootloader").loadModules(["StickersPackInTrayQuery","StickersActions","StickersStoreController"],function(b,c,e){b.onIsPackInTray(a,"messages",function(b){b.in_sticker_tray?(c.selectTrayPack(a),c.showStickerFlyout(d.props.threadID)):e.showStore(a)})},"FantaConversation.react")};d.state={likePreview:null};d.$1=new(b("SubscriptionsHandler"))();return d}var d=c.prototype;d.shouldComponentUpdate=function(a,c){var d=this.props,e=this.state;return!b("shallowArrayEqual")(d.messages,a.messages)||d.threadID!==a.threadID||d.thread!==a.thread||e.likePreview!==c.likePreview};d.componentDidMount=function(){this.$2(),this.$3()};d.componentDidUpdate=function(){this.$3()};d.componentWillUnmount=function(){this.$1.release()};d.$3=function(){b("EventProfiler").informManualInteractionTimestamp(["MessageJewelListItem","ChatSideBarLink"],!0,"click")};d.$2=function(){var a=this;this.$1.addSubscriptions(b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").START,function(b,c){a.props.threadID===c&&a.setState({likePreview:b})}),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").STOP,this.$4),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").STOP_EMOJI,this.$4),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").REMOVE,this.$4))};d.render=function(){var a=this,c=this.props.messages,d=this.props,e=d.forGameChat,f=d.onLoadMoreMessages,g=d.thread;d=d.threadID;var h=this.state.likePreview,i=b("CurrentUser").getID();h&&(c=[].concat(c,[h]));return g?b("React").createElement(b("ChatConversation.react"),{forGameChat:e,isCanonical:b("MercuryIDs").isCanonical(d),loadMoreMessages:f,maxBubbleWidth:181-this.props.scrollbarPadding,messages:c,onAttachmentLoad:function(){return a.props.onAttachmentLoad()},onMount:b("emptyFunction"),onStickerClick:this.$5,readReceipts:this.props.readReceipts,ref:"conversation",thread:g,threadID:d,viewer:i}):b("React").createElement("div",null)};d.getMessageList=function(){return this.refs.conversation&&this.refs.conversation.getMessageList()};return c}(b("React").Component);c.propTypes={forGameChat:a.bool.isRequired,onLoadMoreMessages:a.func.isRequired,scrollbarPadding:a.number,thread:a.object,threadID:a.string.isRequired};e.exports=c}),null);
__d("ChatTypingIndicatorsWrapper.bs",["React","ReasonReact.bs","bs_belt_MapString","MessengerState.bs","ChatTypingIndicators.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ReasonReact.bs").statelessComponent("ChatTypingIndicatorsWrapper");function h(a,c,d,e,f,h,i){return[g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],function(){return b("React").createElement(b("MessengerState.bs").Provider[0],{fbid:e,children:function(g){return b("React").createElement(b("ChatTypingIndicators.react"),{indicatorClass:a,indicatorsDidShow:d,indicatorsDidHide:c,rootClassName:f,threadID:h,viewer:e,typingUserIDs:b("bs_belt_MapString").get(g[6],h),key:h})}})},g[9],g[10],g[11],g[12]]}a=b("ReasonReact.bs").wrapReasonForJs(g,function(a){return h(a.indicatorClass,a.indicatorsDidHide,a.indicatorsDidShow,a.viewer,a.rootClassName,a.threadID,[])});f.component=g;f.make=h;f.jsComponent=a}),null);
__d("FantaPageGreetingLoader.react",["cx","BootloadOnRender.react","JSResource","LazyComponent.react","React","getPageIDFromThreadID"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){var c=a.thread;a=a.threadID;if(c!=null){c=((c=c)!=null?c.is_canonical_neo_user:c)||!1;if(c)return null}else return null;return b("getPageIDFromThreadID")(a)?b("React").createElement("div",{className:"_7bl4"},b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("MercuryPagesGreetingContainer.react").__setRef("FantaPageGreetingLoader.react"),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),{threadID:a})})):null};e.exports=a}),null);
__d("M4ThreadFillDetect.bs",["bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return a.style}function c(a,b){a.appendChild(b);return 0}try{d=document.createElement("div");e=document.createElement("div");var g=document.createElement("div"),h=document.createElement("div"),i=document.createElement("div"),j=document.createElement("div"),k=document.createElement("div"),l=document.createElement("table");d.appendChild(e);d.appendChild(k);e.appendChild(g);k.appendChild(l);g.appendChild(h);h.appendChild(i);h.appendChild(j);d.style.position="absolute";d.style.marginLeft="-999px";d.style.contain="layout";e.style.height="200px";e.style.display="flex";e.style.visibility="hidden";e.style.flexDirection="column";e.style.position="relative";g.style.flexBasis="0px";g.style.flexGrow="1";g.style.flexShrink="0";g.style.position="relative";h.style.display="flex";h.style.flexDirection="column";h.style.minHeight="100%";i.style.flexGrow="1";j.style.height="50px";k.style.height="200px";k.style.visibility="hidden";k.style.position="relative";l.style.minHeight="100%";e=document.body;e.appendChild(d);g=i.clientHeight===150;h=l.clientHeight===200;document.body.removeChild(d);j=g?0:h?1:2}catch(a){if(a===b("bs_caml_builtin_exceptions").not_found)j=3;else throw a}k=j===2||j===1?1:0;e=k?"TABLE":"FLEX";f.getStylesheet=a;f.appendChild=c;f.measuredTechnique=j;f.technique=k;f.forJS=e}),null);
__d("FantaThread.react",["cx","M4ThreadFillDetect.bs","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("M4ThreadFillDetect.bs").forJS;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.setRef=function(a){c.$1=a,typeof c.props.scrollRef==="function"&&c.props.scrollRef(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.children;a=a.spacerContent;return b("React").createElement("div",{className:"_1i6a",onClick:this.props.onClick},b("React").createElement("div",{className:"_4po3"+(h==="FLEX"?" _4poa":"")+(h==="TABLE"?" _4po4":""),ref:this.setRef},b("React").createElement("div",{className:"_4po5"},b("React").createElement("div",{className:"_4po6"},b("React").createElement("div",{className:"_4po7"},a)),b("React").createElement("div",{className:"_4po8"},b("React").createElement("div",{className:"_4po9"},c)))))};return c}(b("React").Component);e.exports=a}),null);
__d("WorkBotLandingPageHelper",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("immutable").List;function a(a){__p&&__p();var b;if(a.length===0)return!0;if(a.length>1)return!1;a=a[a.length-1];b=(b=a)!=null?(b=b.log_message_data)!=null?b.message_type:b:b;if(b==="work_bot_installed"){a=(b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.show_landing_page:b:b:b;return a===!0}return!1}function c(a){__p&&__p();var b;if(a.size===0)return!0;if(a.size>1)return!1;a=a.last();b=(b=a)!=null?(b=b.log_message_data)!=null?b.message_type:b:b;if(b==="work_bot_installed"){a=(b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.show_landing_page:b:b:b;return a===!0}return!1}e.exports={shouldShowBotLandingPage:c,shouldShowBotLandingPageArray:a}}),null);
__d("FantaConversationScroller.react",["ix","csx","cx","fbt","Animation","Arbiter","BootloadedComponent.react","Bootloader","ChatTypingIndicatorsWrapper.bs","CurrentUser","Event","FantaAppStore","FantaConversation.react","FantaMessageActions","FantaPageGreetingLoader.react","FantaTabActions","FantaThread.react","Image.react","JSResource","Link.react","MercuryAttachment","MercuryConfig","MercuryIDs","MercuryLastMessageIndicator.react","MercuryQuickReply.react","MercuryShareAttachmentRenderLocations","MessengerHotLikePreviewEvents","shallowArrayEqual","MessengerParticipants.bs","MessengerQuickCamOrigins","MessengerTabsThreadSearchLoader","MessengerVideoAutoplayActions","MessengerVideoAutoplayStore","Parent","QE2Logger","React","ReactDOM","Scroll","ScrollBoundaryContain","Style","SubscriptionsHandler","TimeSlice","WebMessengerConstants","WorkBotLandingPageHelper","XUIButton.react","XUISpinner.react","asset","clearImmediate","emptyFunction","getElementPosition","getPageIDFromThreadID","gkx","immutable","isEventSupported","joinClasses","performanceAbsoluteNow","promiseDone","setImmediate","shallowEqual","throttle"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=b("ChatTypingIndicatorsWrapper.bs").jsComponent,l=b("WorkBotLandingPageHelper").shouldShowBotLandingPageArray;a=b("React").PropTypes;var m=0,n=15,o=null,p=20,q=1e3;function r(a){__p&&__p();if(o===null){var c=a.firstElementChild;if(c){b("Style").set(a,"overflow","scroll");var d=c.clientWidth;b("Style").set(a,"overflow","hidden");c=c.clientWidth;o=Math.max(c-d,0);b("Style").set(a,"overflow","")}else o=0}return o}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$8=[];d.state={loadingMessages:!d.props.isEmptyLocalThread,scrollbarPadding:o===null?n:o,hideLastMessageIndicator:!1,searchResults:null};d.$19=function(a){a=b("ReactDOM").findDOMNode(d.refs.scrollContainer);a&&(d.$20(),d.$21()&&!d.$22()&&!d.$2&&!d.props.hasFetchedAll&&!(d.state.searchResults&&d.state.searchResults.mid)&&(d.setState({loadingMessages:!0}),d.props.onLoadMoreMessages()),d.$23(),d.$9())};d.$15=function(){__p&&__p();if(!d.refs||d.state.loadingMessages||!d.props.thread){d.$8=[];return}var a=b("ReactDOM").findDOMNode(d.refs.scrollContainer),c=b("getPageIDFromThreadID")(d.props.threadID);if(!a||!c){d.$8=[];return}var e=10,f,g;try{f=a.getBoundingClientRect(),g=d.refs.conversation?d.refs.conversation.getMessageList():null}catch(a){return}if(!g||!f)return;var h=[];d.$7.forEach(function(a){if(!g)return;var i=a.message_id,j=g.getMessageElement(i);if(j){j=j.getBoundingClientRect();j.top>f.top-e&&j.bottom<f.bottom+e&&(h.push(i),d.$8.includes(i)||b("Bootloader").loadModules(["MessengerAdsWebLogger","MNAdsLoggerEventEnum"],function(b,d){b.log(a.ad_client_token,a.ad_id,d.MESSAGE_SEEN_THREAD,!0,i,c)},"FantaConversationScroller.react"))}},babelHelpers.assertThisInitialized(d));d.$8=h};d.$25=function(){d.$1=null,b("FantaTabActions").scrollBottomChanged(d.props.threadID,d.$5,d.$26)};d.$26=function(){d.$27(!1),d.$17()};d.$29=function(){var a=b("performanceAbsoluteNow")();b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(b,c){return b.markerEnd(c.FIRSTCHATTABOPEN_WWW,"SUCCESS",0,a)},"FantaConversationScroller.react")};d.$32=function(a){a=b("Parent").byClass(a.target,"._1dlq");a||d.props.onFocus&&d.props.onFocus()};d.$5=!0;return d}var d=c.prototype;d.shouldComponentUpdate=function(a,c){var d=this.props,e=this.state;return d.hasFetchedAll!==a.hasFetchedAll||d.isFocused!==a.isFocused||!b("shallowArrayEqual")(d.messages,a.messages)||d.showContextBanner!==a.showContextBanner||d.readReceipts!==a.readReceipts||d.thread!==a.thread||d.threadID!==a.threadID||e.loadingMessages!==c.loadingMessages||e.hideLastMessageIndicator!==c.hideLastMessageIndicator||!b("shallowEqual")(e.searchResults,c.searchResults)||d.jumpToMessage!==a.jumpToMessage};d.componentDidMount=function(){__p&&__p();var a=this,c=b("performanceAbsoluteNow")();b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(b,d){b.markerPoint(d.FIRSTCHATTABOPEN_WWW,"mount_conversation_scroller",JSON.stringify({messageSize:a.props.messages.length,hasThread:!!a.props.thread}),0,c)},"FantaConversationScroller.react");this.$6=new(b("SubscriptionsHandler"))();this.$10();this.$11();this.$12();b("MessengerVideoAutoplayActions").updateStore(this.props.threadID,this.$13());this.setState({scrollbarPadding:r(this.refs.scrollContainer),searchResults:this.$14()});this.$9=b("throttle")(this.$15,q);this.$7=this.props.messages.filter(function(a){return a.is_sponsored});this.$9();this.$16()};d.componentDidUpdate=function(a){__p&&__p();this.$12();if(this.$2){var c=b("ReactDOM").findDOMNode(this.refs.scrollContainer);if(c){var d=this.$2||0;c=c.scrollHeight-d;this.scrollToPosition(c,!1)}this.$2=null}if(!b("shallowArrayEqual")(a.messages,this.props.messages)){b("MessengerVideoAutoplayActions").updateStore(this.props.threadID,this.$13());d=a.messages[a.messages.length-1];c=this.props.messages[this.props.messages.length-1];if(d!==c&&c&&c.author){a=b("MercuryIDs").getUserIDFromParticipantID(c.author);a===b("CurrentUser").getID()&&(this.scrollToBottom(!1),this.$17())}}this.$18();this.$9()};d.componentWillUnmount=function(){this.$1&&b("clearImmediate")(this.$1),this.$6.release(),b("MessengerTabsThreadSearchLoader").isLoaded()&&b("MessengerTabsThreadSearchLoader").getActionsEnforce().updateThreadState(this.props.threadID,null)};d.UNSAFE_componentWillReceiveProps=function(a){__p&&__p();var c=this.state.loadingMessages&&a.messages.length>0&&!b("shallowArrayEqual")(a.messages,this.props.messages);if(c||a.hasFetchedAll||a.showContextBanner){this.setState({loadingMessages:!1});c=b("ReactDOM").findDOMNode(this.refs.scrollContainer);if(c){var d=c.scrollHeight;c=b("Scroll").getTop(c);this.$2=d-c}}this.$7=a.messages.filter(function(a){return a.is_sponsored})};d.$14=function(){return b("MessengerTabsThreadSearchLoader").isLoaded()?b("MessengerTabsThreadSearchLoader").getStoreEnforce().getThreadState(this.props.threadID):null};d.$16=function(){var a=this;(b("gkx")("678588")||b("MercuryConfig").M3CRE)&&b("promiseDone")(b("MessengerTabsThreadSearchLoader").load(),function(b){var c=b.store;b.actions;a.$6.addSubscriptions(c.get().addListener("change",function(){return a.setState({searchResults:a.$14(),loadingMessages:!1})}))})};d.$12=function(a){var c=this;a===void 0&&(a=!1);this.$5&&b("TimeSlice").guard(function(){c.scrollToBottom(a)},"post load chat animations",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()};d.renderGroupWave=function(){var a=this.props.thread;return b("MercuryIDs").isLocalThread(this.props.threadID)&&a&&!a.associated_object&&!a.is_canonical&&!a.thread_fbid?b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement(b("XUISpinner.react"),{background:"light",className:"loading",size:"small"}),bootloadLoader:b("JSResource")("ChatWaveImage.react").__setRef("FantaConversationScroller.react"),thread:a,m4Thread:!0}):null};d.maybeRenderNullStateWave=function(){__p&&__p();var a=this.props,c=a.thread;a=a.threadID;if(!c||!c.is_canonical||c.timestamp)return null;b("QE2Logger").logExposureForUser("wave_in_www_null_state");if(!b("MercuryConfig").MNWNS)return null;c=b("MercuryIDs").getParticipantIDFromFromThreadID(a);c=c?b("MessengerParticipants.bs").getNow(c):null;c=c?c.short_name:null;return b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("JSResource")("MessengerNewWavePrompt.react").__setRef("FantaConversationScroller.react"),threadID:a,recipientName:c,entrypoint:"canonical_null_state"})};d.$23=function(){__p&&__p();var a=this.props.threadID,c=b("ReactDOM").findDOMNode(this.refs.scrollContainer);if(!c)return;var d;try{c=c.getBoundingClientRect(),d=this.refs.conversation?this.refs.conversation.getMessageList():null}catch(a){return}if(!d||!c)return;var e=[],f=b("MessengerVideoAutoplayStore").getMessageIDs(a),g=f||this.$13()||b("immutable").List();g.map(function(a){var c=b("MercuryAttachment").getVideoElem(a,d);c&&e.push([a,c.getBoundingClientRect()])});e.length&&b("MessengerVideoAutoplayActions").onScroll(a,f?null:g,b("immutable").Map(e),c)};d.$13=function(){var a=this.props.messages.filter(function(a){return b("MercuryAttachment").isSingleVideoAttachment(a)||b("MercuryAttachment").isSharedVideoAttachmentMessage(a)}).reverse().map(function(a){return a.message_id});return b("immutable").List(a)};d.$24=function(a,c){__p&&__p();var d=this.refs.conversation?this.refs.conversation.getMessageList():null;if(!d)return;var e=b("ReactDOM").findDOMNode(this.refs.scrollContainer),f=b("ReactDOM").findDOMNode(this.refs.conversation);d=d.getMessageComponent(a);a=b("ReactDOM").findDOMNode(d);if(!a||!f||!e)return;f=f.getBoundingClientRect().top;a=a.getBoundingClientRect().top;a=Math.abs(a-f)-e.getBoundingClientRect().height/2;this.$5=!1;this.scrollToPosition(Math.max(a,0),!1);b("CurrentUser").isWorkUser()&&d.highlightMessage();var g=c;g&&b("setImmediate")(function(){return g()})};d.scrollToBottom=function(a){var c=b("ReactDOM").findDOMNode(this.refs.scrollContainer);c&&this.scrollToPosition(c.scrollHeight,a)};d.scrollToPosition=function(a,c){var d=b("ReactDOM").findDOMNode(this.refs.scrollContainer);if(!d)return;this.$4&&this.$4.stop();c?this.$4=new(b("Animation"))(d).to("scrollTop",a).ease(b("Animation").ease.end).duration(400).go():b("Scroll").setTop(d,a)};d.$22=function(a){var c=b("ReactDOM").findDOMNode(this.refs.scrollContainer);if(!c)return!1;a=a===0?0:a||p;return b("Scroll").getTop(c)+c.clientHeight>=c.scrollHeight-a};d.$21=function(){var a=b("ReactDOM").findDOMNode(this.refs.scrollContainer);return!a?!1:b("Scroll").getTop(a)<a.clientHeight};d.$17=function(){var a=this.$5;this.$22()?this.$5=!0:this.$5=!1;a!==this.$5&&(this.$1=b("setImmediate")(this.$25))};d.$10=function(){__p&&__p();var a=this,c=b("ReactDOM").findDOMNode(this.refs.scrollContainer);if(!c)return;var d=b("isEventSupported")("mousewheel")?"mousewheel":b("isEventSupported")("wheel")?"wheel":"DOMMouseScroll",e=function(){a.$17()},f=function(){c.addEventListener(d,e,{passive:!0})},g=function(){c.removeEventListener(d,e,{passive:!0})};this.$6.addSubscriptions(b("Arbiter").subscribe("overflow-applied-to-body",function(){return a.$12()}),b("Event").listen(c,"mousedown",e),b("Event").listen(c,"mouseup",e),b("Event").listen(c,"mouseenter",f),b("Event").listen(c,"mouseleave",g),{cancel:g},b("Event").listen(c,"scroll",b("throttle")(this.$19,50)));f=b("ScrollBoundaryContain").applyToElem(c);f&&this.$6.addSubscriptions(f)};d.$11=function(){var a=this;this.$6.addSubscriptions(b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").START,function(b,c){a.props.threadID===c&&(a.$27(!1),window.clearInterval(a.$3),a.$3=window.setInterval(function(){a.$27(!1)},50))}),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").FINISH_ANIMATION,function(b){window.clearInterval(a.$3)}),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").FINISH_EMOJI_ANIMATION,function(b){window.clearInterval(a.$3)}),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").REMOVE,function(b){a.props.threadID===b&&window.clearInterval(a.$3)}))};d.$28=function(a){a=a&&a.platform_xmd&&JSON.parse(a.platform_xmd);return a&&a.user_input};d.$30=function(a){var c=b("gkx")("964442");if(c){c=this.$28(a);a=b("FantaAppStore").getState().mercury.userInputRequest.isUserInputRequested;c&&!a?b("FantaMessageActions").updateUserInputRequested(!0,c.data.num_results,c.type):!c&&!!a&&b("FantaMessageActions").updateUserInputRequested(!1,m,null)}return};d.$31=function(){return b("CurrentUser").isWorkUser()?l(this.props.messages):this.props.messages.length===0};d.render=function(){__p&&__p();var a=this,c=this.props,d=c.forGameChat,e=c.hasFetchedAll,f=c.isEmptyLocalThread,g=c.messages,h=c.showContextBanner,i=c.thread;c=c.threadID;var l=b("CurrentUser").getID();f=f||e||h;e=this.state.loadingMessages||!i?b("React").createElement("div",{className:"_1xdl"},b("React").createElement(b("XUISpinner.react"),{background:"light",className:"loading",size:"small"})):null;e||(this.$29(),this.$29=b("emptyFunction"));h=function(){return a.$12()};var m=this.$31()?b("React").createElement(b("FantaPageGreetingLoader.react"),{thread:i,threadID:c}):null;f=f?b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("JSResource")("MessengerContextBannerContainer.react").__setRef("FantaConversationScroller.react"),isContinuation:!1,location:b("MercuryShareAttachmentRenderLocations").CHAT,viewer:l,thread:i,threadID:c}):null;var n=b("React").createElement("div",{className:b("joinClasses")("accessible_elem","_2kwv")},j._("B\u1eaft \u0111\u1ea7u cu\u1ed9c tr\u00f2 chuy\u1ec7n")),o=b("React").createElement("div",{className:b("joinClasses")("accessible_elem","_2kwv")},j._("K\u1ebft th\u00fac cu\u1ed9c tr\u00f2 chuy\u1ec7n"));this.$30(g[g.length-1]);var p=null,q=this.state.searchResults;if(q&&q.messages){var r=j._("T\u1ea3i th\u00eam...");p=b("React").createElement(b("React").Fragment,null,q.upExhausted?null:b("React").createElement("div",{className:"_7fim"},b("React").createElement(b("XUIButton.react"),{className:"_41jf",label:r,onClick:function(){return b("MessengerTabsThreadSearchLoader").isLoaded()&&b("MessengerTabsThreadSearchLoader").getActionsEnforce().getMoreSearchContext(b("WebMessengerConstants").MORE_SEARCH_CONTEXT_UP,a.props.threadID)},type:"primary",use:"default"})),b("React").createElement(b("FantaConversation.react"),{forGameChat:d,onAttachmentLoad:h,scrollbarPadding:this.state.scrollbarPadding,ref:"conversation",messages:q.messages,onLoadMoreMessages:b("MessengerTabsThreadSearchLoader").isLoaded()&&b("MessengerTabsThreadSearchLoader").getActionsEnforce().getMoreSearchContext,hasFetchedAll:this.props.hasFetchedAll,isFocused:this.props.isFocused,onFocus:this.props.onFocus,readReceipts:this.props.readReceipts,showContextBanner:this.props.showContextBanner,thread:this.props.thread,threadID:this.props.threadID}),q.downExhausted?null:b("React").createElement("div",{className:"_7fim"},b("React").createElement(b("XUIButton.react"),{className:"_41jf",label:r,onClick:function(){return b("MessengerTabsThreadSearchLoader").isLoaded()&&b("MessengerTabsThreadSearchLoader").getActionsEnforce().getMoreSearchContext(b("WebMessengerConstants").MORE_SEARCH_CONTEXT_DOWN,a.props.threadID)},type:"primary",use:"default"})),b("React").createElement(k,{threadID:c,indicatorClass:void 0,indicatorsWillShow:b("emptyFunction"),indicatorsDidShow:function(){return a.setState({hideLastMessageIndicator:!0},function(){a.$12(!0)})},indicatorsDidHide:function(){return a.setState({hideLastMessageIndicator:!1})},rootClassName:void 0,viewer:l}))}else p=b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FantaConversation.react"),babelHelpers["extends"]({forGameChat:d,onAttachmentLoad:h,scrollbarPadding:this.state.scrollbarPadding,ref:"conversation"},this.props)),b("React").createElement(b("MercuryQuickReply.react"),{lastMessage:g.length>0?g[g.length-1]:void 0,threadID:c,quickReplyDidShow:function(){return a.$12(!0)},viewer:l,quickCamOriginLocation:b("MessengerQuickCamOrigins").CHAT_TAB}),b("React").createElement(k,{threadID:c,indicatorClass:void 0,indicatorsWillShow:b("emptyFunction"),indicatorsDidShow:function(){return a.setState({hideLastMessageIndicator:!0},function(){a.$12(!0)})},indicatorsDidHide:function(){return a.setState({hideLastMessageIndicator:!1})},rootClassName:void 0,viewer:l}),this.renderGroupWave(),this.maybeRenderNullStateWave(),b("React").createElement(b("MercuryLastMessageIndicator.react"),{isTyping:this.state.hideLastMessageIndicator,indicatorDidShow:function(){a.$12(!0)},indicatorWillShow:b("emptyFunction"),lastMessage:g.length>0?g[g.length-1]:null,readReceipts:this.props.readReceipts,thread:i,threadID:c}));return b("React").createElement(b("FantaThread.react"),{onClick:this.$32,spacerContent:b("React").createElement(b("React").Fragment,null,n,f,m,e),scrollRef:function(b){a.refs.scrollContainer=b}},p,o,this.$33())};d.$33=function(){var a=this;return this.state.searchResults&&this.state.searchResults.messages?b("React").createElement(b("Link.react"),{className:"_2llh",onClick:function(){b("MessengerTabsThreadSearchLoader").isLoaded()&&b("MessengerTabsThreadSearchLoader").getActionsEnforce().updateThreadState(a.props.threadID,null),a.$5=!0}},b("React").createElement(b("Image.react"),{className:"_2llt",src:g("415098")})):null};d.$18=function(){var a=this,c=this.props.jumpToMessage;if(!c)return;this.props.messages.some(function(a){return a.message_id===c})||this.state.searchResults&&this.state.searchResults.messages&&this.state.searchResults.messages.some(function(a){return a.message_id===c})?this.$24(c,function(){return b("FantaTabActions").wipeJumpToMessage(a.props.threadID)}):b("MessengerTabsThreadSearchLoader").isLoaded()&&b("MessengerTabsThreadSearchLoader").getActionsEnforce().updateThreadState(this.props.threadID,c)};d.$20=function(){var a=b("ReactDOM").findDOMNode(this.refs.scrollContainer);if(!a)return;var c=b("getElementPosition")(a);b("Arbiter").inform("chatScrolled/"+this.props.threadID,{scrollTop:b("Scroll").getTop(a),top:c.y,viewHeight:c.height})};d.$27=function(a){var c=b("ReactDOM").findDOMNode(this.refs.scrollContainer);c&&this.$34(c.scrollHeight,a)};d.$34=function(a,c){var d=b("ReactDOM").findDOMNode(this.refs.scrollContainer);this.$4&&this.$4.stop();if(!d)return;c===!0?this.$4=new(b("Animation"))(d).to("scrollTop",a).ease(b("Animation").ease.end).duration(400).go():b("Scroll").setTop(d,a)};return c}(b("React").Component);c.propTypes={forGameChat:a.bool.isRequired,hasFetchedAll:a.bool.isRequired,isEmptyLocalThread:a.bool.isRequired,isFocused:a.bool.isRequired,onFocus:a.func,onLoadMoreMessages:a.func.isRequired,showContextBanner:a.bool,thread:a.object,threadID:a.string.isRequired,jumpToMessage:a.string};e.exports=c}),null);
__d("FantaCookieUtil",["CurrentUser","FantaConst","MercuryIDs","MessengerState.bs","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={convertCookieData:function(a,c,d){__p&&__p();var e={tabs:[],focusedTabID:null,updatedTime:0,interstitialData:d};d=[];var f=this._getCookieKeys();a=a||{};a[f.tabs]&&(d=a[f.tabs]);d.forEach(function(a){var d=b("gkx")("810752")&&!c?!0:!a.r;e.tabs.push({id:a.i,isMinimized:d,openCounter:a.o,focusCounter:a.f})});if(c)for(var d=c.tabs.values(),g=Array.isArray(d),h=0,d=g?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=d.length)break;i=d[h++]}else{h=d.next();if(h.done)break;i=h.value}i=i;b("MessengerState.bs").isEmptyLocalThread(b("CurrentUser").getID(),i.id)&&e.tabs.push({id:i.id,isMinimized:i.isMinimized,openCounter:i.openCounter,focusCounter:i.focusCounter})}e.focusedTabID=a[f.focusedTabID];e.updatedTime=a[f.updatedTime];return e},createCookieData:function(a,c){__p&&__p();var d=[],e=this._getCookieKeys();if(c[e.updatedTime]>a.updatedTime)return c;for(var f=a.tabs.values(),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;!b("MercuryIDs").isLocalThread(i.id)&&!this._shouldDisableForCookie(i.id,i.entryPoint)&&d.push({i:i.id,r:i.isMinimized?void 0:1,o:i.openCounter,f:i.focusCounter})}c[e.tabs]=d;c[e.focusedTabID]=a.focusedTabID;c[e.updatedTime]=a.updatedTime;return c},_shouldDisableForCookie:function(a,c){if(!c.includes("fb_page:user_message_prompt"))return!1;c=b("MessengerState.bs").getThreadMessagesRangeNow(b("CurrentUser").getID(),a,0,1)[0];return c===void 0},_getCookieKeys:function(){var a=b("CurrentUser").isWorkUser();return{tabs:a?b("FantaConst").cookieIDs.WORK_COOKIE_ID:b("FantaConst").cookieIDs.PERSONAL_COOKIE_ID,focusedTabID:a?b("FantaConst").cookieIDs.WORK_FOCUS_COOKIE_ID:b("FantaConst").cookieIDs.PERSONAL_FOCUS_COOKIE_ID,updatedTime:a?b("FantaConst").cookieIDs.WORK_TIME_COOKIE_ID:b("FantaConst").cookieIDs.PERSONAL_TIME_COOKIE_ID}}};e.exports=a}),null);
__d("FantaDragAndDrop.react",["Bootloader","JSResource","MercuryShareAttachmentRenderLocations","MessengerEnvironment","React","emptyFunction","ifRequired","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=960;a=b("React").PropTypes;var h=b("lazyLoadComponent")(b("JSResource")("MercurySharePreview.react").__setRef("FantaDragAndDrop.react"));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){var b=c.props.composer;c.$4(function(c){c.removeSharePreview(a,b)})},c.$2=function(a,b){var d=c.props.composer;c.$4(function(c){c.loadedShareData(a,b,d)})},c.$3=function(a){var b=c.props.composer;c.$4(function(c){c.loadingShareData(a,b)})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){b("MessengerEnvironment").messengerui?b("Bootloader").loadModules(["MessengerActions"],b("emptyFunction"),"FantaDragAndDrop.react"):b("Bootloader").loadModules(["FantaMessageActions"],b("emptyFunction"),"FantaDragAndDrop.react")};d.shouldComponentUpdate=function(a){var b=this.props,c=b.composer,d=a.composer;c=c.sharePreview;d=d.sharePreview;return b.threadID!==a.threadID||!!(!c&&d)||!!(c&&d&&!c.equals(d))};d.render=function(){var a=this.props,c=a.composer;a=a.threadID;c=c.sharePreview;var d=c.share;c=c.uri;return b("React").createElement("div",{className:"fbNubFlyoutAttachments"},b("React").createElement("div",{className:"chatAttachmentShelf"},d||c?b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},b("React").createElement(h,{onClose:this.$1,onLoaded:this.$2,onLoading:this.$3,threadID:a,imageSize:{width:g,height:g},location:b("MercuryShareAttachmentRenderLocations").CHAT_PREVIEW,share:d,uri:c})):null))};d.$4=function(a){b("MessengerEnvironment").messengerui?b("ifRequired")("MessengerActions",function(b){a(b)},function(){b("Bootloader").loadModules(["MessengerActions"],function(b){a(b)},"FantaDragAndDrop.react")}):b("ifRequired")("FantaMessageActions",function(b){a(b)},function(){b("Bootloader").loadModules(["FantaMessageActions"],function(b){a(b)},"FantaDragAndDrop.react")})};return c}(b("React").Component);c.propTypes={composer:a.object.isRequired,threadID:a.string.isRequired};e.exports=c}),null);
__d("FantaMercuryTabOverflowBootloader.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("gkx")("697231")?b("JSResource")("FantaM4TabOverflow.react").__setRef("FantaMercuryTabOverflowBootloader.react"):b("JSResource")("FantaMercuryTabOverflow.react").__setRef("FantaMercuryTabOverflowBootloader.react");return b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{items:this.props.items,tabContents:this.props.tabContents}),loader:a,placeholder:b("React").createElement("div",null)})};return c}(b("React").Component);e.exports=a}),null);
__d("FantaTab.react",["cx","CurrentUser","EventProfiler","FantaTabActions","JSResource","LoadingDialog.react","MercuryIgnoredBlockedParticipants.bs","MessengerState.bs","React","lazyLoadComponent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("lazyLoadComponent")(b("JSResource")("ChatGroupBlockedEntranceWarning.react").__setRef("FantaTab.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=!1,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){b("EventProfiler").informManualInteractionTimestamp(["MessageJewelListItem","ChatSideBarLink"],!0,"click")};d.render=function(){__p&&__p();var a=this.props,c=a.isFocused,d=a.isLastTab,e=a.isLastTabOfType,f=a.MainComponent,g=a.messengerState,i=a.MinimizedComponent,j=a.nonMinimizedRaisedTabCount,k=a.tab,l=a.tabContent,m=a.messages,n=a.forGameChat;a=a.hasFetchedAll;i=k.isMinimized?i:f;f=k.id+(k.isMinimized?"-minimized":"-maximized");var o=this.$1&&!k.isMinimized;this.$1=k.isMinimized;var p=l==null?void 0:l.participants;return b("React").createElement("div",{className:"_5qi9 _5qib"+(this.props.isFocused?" _5qic":"")+(k.isMinimized?" _3001":"")},b("React").createElement(i,{isFocused:c,isHovered:k.isHovered||o,isLastTab:d,isLastTabOfType:e,key:f,messengerState:g,nonMinimizedRaisedTabCount:j,tab:k,tabContent:l,messages:m,forGameChat:n,hasFetchedAll:a}),k.showWarningForThreadWithBlockees&&l!=null&&p!=null?b("React").createElement(b("React").Suspense,{fallback:b("React").createElement(b("LoadingDialog.react"),null)},b("React").createElement(h,{allParticipants:Array.from(p.values()),isShown:!0,blockees:b("MercuryIgnoredBlockedParticipants.bs").participantsInGroupThread(b("CurrentUser").getID(),b("MessengerState.bs").blockedIds(g),l.thread).map(function(a){return p.get(a)}).filter(function(a){return a!=null}),onHide:function(){return b("FantaTabActions").closeGroupEntranceWarningDialog(k.id)},threadID:k.id})):null)};return c}(b("React").Component);e.exports=a}),null);
__d("FantaTabGroup.react",["cx","CurrentUser","FantaTab.react","MessengerState.bs","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){return!this.props.tabGroup.equals(a.tabGroup)||this.props.messengerState!==a.messengerState||!!(!this.props.tabContents&&a.tabContents)||!!(this.props.tabContents&&a.tabContents&&!this.props.tabContents.equals(a.tabContents))};d.render=function(){__p&&__p();var a=this.props,c=a.isLastOfTypeChecker,d=a.MainComponent,e=a.messengerState,f=a.MinimizedComponent,g=a.OverflowComponent,h=a.tabContents;a=a.tabGroup;var i=a.focusedTabID,j=a.getRaisedandUnraisedTabs(),k=j.raisedTabs;j=j.unraisedTabs;var l;c&&(l=k.findLastKey(function(a){return c(a)&&a.id}));a=a.allowedRaisedTabs===0?null:this.$1(j,g);var m=k.filter(function(a){return!a.isMinimized}).count();return b("React").createElement("div",{className:"_59v1"},a,k.map(function(a){var c=h&&h.get(a.id),g=c&&c.threadPreviewID||a.id;return b("React").createElement(b("FantaTab.react"),{forGameChat:!1,isFocused:a.id===i,isLastTab:a===k.last(),isLastTabOfType:a.id===l,key:a.id,messengerState:e,MainComponent:d,MinimizedComponent:f,nonMinimizedRaisedTabCount:m,tab:a,tabContent:c,messages:b("MessengerState.bs").getCurrentlyLoadedMessages(b("CurrentUser").getID(),g),hasFetchedAll:b("MessengerState.bs").hasLoadedAllMessages(b("CurrentUser").getID(),g)})}).toArray())};d.$1=function(a,c){return!a.isEmpty()?b("React").createElement("div",{className:"_1kws"},b("React").createElement(c,{items:a,tabContents:this.props.tabContents})):null};return c}(b("React").Component);c.propTypes={MainComponent:a.func.isRequired,messengerState:a.array,MinimizedComponent:a.func.isRequired,OverflowComponent:a.func.isRequired,tabContents:a.object,tabGroup:a.object.isRequired};e.exports=c}),null);
__d("FantaPendingActions.react",["Bootloader","BootloadOnRender.react","FantaTabActions","JSResource","LazyComponent.react","MercuryThreadActions","MessengerMessageRequestsTypedLogger","MessageRequestUtils","MessagingTag","React","MercuryIDs","CurrentUser"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MercuryThreadActions").get();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){var a=d.props.thread;a=!!a&&b("MessageRequestUtils").isFiltered(a);var c=b("CurrentUser").getID();c=b("MercuryIDs").getThreadKeyfromThreadIDUserID(d.props.threadID,c);new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_delete_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(d.props.threadID)).setSurface("thread").setFolderType(a?"other":"pending").setThreadKey(c).setEntryPoint(null).log()},d.$4=function(a){var c=d.props.thread;c=!!c&&b("MessageRequestUtils").isFiltered(c);var e=b("CurrentUser").getID();e=b("MercuryIDs").getThreadKeyfromThreadIDUserID(d.props.threadID,e);a==="hide"&&new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_decline_cancel").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(d.props.threadID)).setSurface("thread").setFolderType(c?"other":"pending").setThreadKey(e).setEntryPoint("inbox_banner").log()},d.$1=function(){__p&&__p();var a=d.props,c=a.thread,e=a.threadID;a=!!c&&b("MessageRequestUtils").isFiltered(c);var f=b("CurrentUser").getID();f=b("MercuryIDs").getThreadKeyfromThreadIDUserID(d.props.threadID,f);if(a)b("Bootloader").loadModules(["WebMessengerDeleteThreadDialog"],function(a){a.show(e,d.$3,d.$4,function(){return b("FantaTabActions").closeTab(e)})},"FantaPendingActions.react");else{var g=b("MercuryIDs").isGroupChat(e);b("Bootloader").loadModules(["WebMessengerDeclineMRDialog"],function(a){a.show(c.folder,e,function(){return b("FantaTabActions").closeTab(e)},g)},"FantaPendingActions.react")}new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_decline_attempt").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(d.props.threadID)).setSurface("thread").setFolderType(a?"other":"pending").setThreadKey(f).setEntryPoint(null).log()},d.$2=function(){var a=d.props.thread;a=!!a&&b("MessageRequestUtils").isFiltered(a);var c=b("CurrentUser").getID();c=b("MercuryIDs").getThreadKeyfromThreadIDUserID(d.props.threadID,c);g.changeFolder(d.props.threadID,b("MessagingTag").INBOX);new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_accept_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(d.props.threadID)).setSurface("thread").setFolderType(a?"other":"pending").setThreadKey(c).setEntryPoint(null).log()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.thread;a=!!a&&b("MessageRequestUtils").isFiltered(a);return b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("ChatPendingActions.react").__setRef("FantaPendingActions.react"),placeholder:b("React").createElement("div",{style:{height:27}}),component:b("React").createElement(b("LazyComponent.react"),{isFiltered:a,onDeleteClick:this.$1,onReplyClick:this.$2})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("FantaTabComposer.react",["ChatTabComposerContainer.react","MessengerState.bs","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(a){c.$1=a},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this.props.participants;this.props.isFocused&&a.length>0&&!this.props.isEmptyLocalThread&&this.focusInput()};d.componentDidUpdate=function(a){this.props.isFocused&&this.props.isFocused!==a.isFocused&&!this.props.isEmptyLocalThread&&this.focusInput()};d.shouldComponentUpdate=function(a){var b=this.props;return!b.composer.equals(a.composer)||b.disableInput!==a.disableInput||!b.fileUploader&&!!a.fileUploader||b.fileUploader&&!b.fileUploader.equals(a.fileUploader)||b.isEmptyLocalThread!==a.isEmptyLocalThread||b.isFocused!==a.isFocused||b.isNewEmptyLocalThread!==a.isNewEmptyLocalThread||b.threadID!==a.threadID||b.viewer!==a.viewer||b.forGameChat!==a.forGameChat||b.participants.length!==a.participants.length};d.render=function(){var a=this,c=this.props,d=c.participants,e=c.threadID,f=c.viewer,g=c.isFocused;return d.length===0?b("React").createElement("div",null):b("React").createElement(b("MessengerState.bs").jsComponent,{fbid:f},function(c){return b("React").createElement(b("ChatTabComposerContainer.react"),{blockedIDs:a.props.blockedIDs,composer:a.props.composer,disableInput:a.props.disableInput,fileUploader:a.props.fileUploader,isFocused:g,onEscape:a.props.onEscape,onSelectSticker:a.props.onSelectSticker,onSendHotLike:a.props.onSendHotLike,onSendPhoto:a.props.onSendPhoto,onTab:a.props.onTab,onSendMessage:a.props.onSendMessage,isNewEmptyLocalThread:a.props.isNewEmptyLocalThread,ref:a.$2,thread:b("MessengerState.bs").threads(c)[e],threadID:e,viewer:f,forGameChat:a.props.forGameChat})})};d.focusInput=function(){this.$1&&this.$1.focusInput()};d.hasEmptyInput=function(){var a=this.$1;return!a?!1:a.hasEmptyInput()};return c}(b("React").Component);e.exports=a}),null);
__d("FantaTabSheetPlaceholder.react",["cx","React","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return b("React").createElement("div",{className:"_w_z"},b("React").createElement(b("XUISpinner.react"),null))};e.exports=a}),null);
__d("FantaTabSheet.react",["cx","BootloadedComponent.react","FantaTabSheetPlaceholder.react","JSResource","LazyComponent.react","MercuryIDs","MercurySheetPolicy","MessengerParticipants.bs","React","ReasonBootloadOnRender.react","ReasonResource","emptyFunction","lazyLoadComponent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("lazyLoadComponent")(b("JSResource")("ChatGroupsSyncTabSheet.react").__setRef("FantaTabSheet.react")),i=b("lazyLoadComponent")(b("JSResource")("ChatGroupNameComposerTabSheet.react").__setRef("FantaTabSheet.react")),j=b("lazyLoadComponent")(b("JSResource")("ChatIntegrityLandingScreenSheet.react").__setRef("FantaTabSheet.react"));a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){var b=this.props;return b.threadID!==a.threadID||!b.tabContent.equals(a.tabContent)};d.maybeRenderMontage=function(){var a=this.props,c=a.threadID;a=a.tabContent;return a.isMontageOpen?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatMontageSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:"Montage",threadID:c,onResize:b("emptyFunction")}):null};d.render=function(){__p&&__p();var a=this.props,c=a.threadID,d=a.tabContent,e=a.composerComponent,f=a.pageUser;a=a.isGroupChat;var g=d.loggingID,k=d.openSheet,l=d.privacyController,m=d.thread,n=d.typeahead,o,p;switch(k){case b("MercurySheetPolicy").sheets.ChatThreadIsMutedTabSheet:o=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaTabSheetChatThreadIsMuted.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:k,threadID:c});break;case b("MercurySheetPolicy").sheets.ChatNameConversationTabSheet:o=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaTabSheetNameConversation.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement(b("FantaTabSheetPlaceholder.react"),null),key:k,thread:m,threadID:c});break;case b("MercurySheetPolicy").sheets.ChatUserBlockedTabSheet:p=b("MercuryIDs").getUserIDFromThreadID(c);if(p){var q=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(p));q&&l&&(o=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatUserBlockedTabSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),gender:q.gender,key:k,privacyActionController:l,shortName:q.short_name}))}break;case b("MercurySheetPolicy").sheets.ChatOfflineTabSheet:o=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaTabSheetOffline.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:k,privacyController:l,threadID:c});break;case b("MercurySheetPolicy").sheets.ChatReadOnlyTabSheet:case b("MercurySheetPolicy").sheets.ChatReadOnlyPermanentTabSheet:o=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaTabSheetReadOnly.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:k,threadID:c});break;case b("MercurySheetPolicy").sheets.FantaAddFriendsSheet:o=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaTabSheetAddFriends.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement(b("FantaTabSheetPlaceholder.react"),null),key:k,loggingID:g,thread:m,threadID:c,typeahead:n,composerComponent:e,tabContent:d});break;case b("MercurySheetPolicy").sheets.FantaAddMoreFriendsSheet:o=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaTabSheetAddMoreFriends.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement(b("FantaTabSheetPlaceholder.react"),null),key:k,loggingID:g,thread:m,threadID:c,typeahead:n});break;case b("MercurySheetPolicy").sheets.ChatThreadIsMessageBlockedSheet:p=b("MercuryIDs").getUserIDFromThreadID(c);if(p){q=b("MercuryIDs").getParticipantIDFromUserID(p);l=b("MessengerParticipants.bs").getNow(q);l&&(o=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaTabSheetMessageBlocked.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),isGroupChat:a,key:k,pageUser:f,participants:d.participants,shortName:l.short_name,threadID:c}))}break;case b("MercurySheetPolicy").sheets.ChatUserFocusSheet:o=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatUserFocusSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:k,thread:m,threadID:c});break;case b("MercurySheetPolicy").sheets.ChatUserFocusBypassSheet:o=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatUserFocusBypassSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:k});break;case b("MercurySheetPolicy").sheets.ChatUploadWarningTabSheet:o=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatUploadWarningTabSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:k});break;case b("MercurySheetPolicy").sheets.ChatNoRecipientsTabSheet:b("MercuryIDs").isCanonical(c)||(o=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatNoRecipientsTabSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:k}));break;case b("MercurySheetPolicy").sheets.ChatNewMessagesTabSheet:o=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaNewMessagesTabSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:k,threadID:c});break;case b("MercurySheetPolicy").sheets.ChatEmployeeAwaySheet:o=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatEmployeeAwaySheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:k});break;case b("MercurySheetPolicy").sheets.ChatEventReminderTabSheet:o=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaEventReminderTabSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:k,threadID:c});break;case b("MercurySheetPolicy").sheets.ChatJoinCallSheet:if(m){g=m.rtc_call_data;n=m.thread_fbid;o=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatJoinCallSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:k,rtcCallData:g,threadFBID:n})}break;case b("MercurySheetPolicy").sheets.ChatRoomAssociatedObjectSheet:if(m){p=m.associated_object;o=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatRoomAssociatedObjectSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:k,associatedObject:p})}break;case b("MercurySheetPolicy").sheets.ChatMentorshipProgramSheet:m&&(o=b("React").createElement(b("ReasonBootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{thread:m}),loader:b("ReasonResource")(b("JSResource")("MentorshipProgramSheet.bs").__setRef("FantaTabSheet.react")),placeholder:b("React").createElement("div",null)}));break;case b("MercurySheetPolicy").sheets.ChatGroupsSyncTabSheet:m&&m.work_associated_group&&(o=b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null),key:k},b("React").createElement(h,{group:m.work_associated_group,imageURL:m.image_src,name:m.name})));break;case b("MercurySheetPolicy").sheets.ChatGroupNameComposerTabSheet:o=b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null),key:k},b("React").createElement(i,{threadID:c,composerComponent:e}));break;case b("MercurySheetPolicy").sheets.ChatIntegrityLandingScreenSheet:f&&(o=b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null),key:k},b("React").createElement(j,{pageUser:f,threadID:c})));break}q=this.maybeRenderMontage();if(o)return b("React").createElement("div",{className:"_1sk5"},b("React").createElement("div",{className:"_1sk6"},o));else if(q)return q;return null};return c}(b("React").Component);c.propTypes={threadID:a.string.isRequired,tabContent:a.object.isRequired};e.exports=c}),null);
__d("FantaTabMain.react",["cx","fbt","invariant","Bootloader","ChatBehavior","ChatConfig","ChatTabBlinking","CoworkerThreadContextBanner.react","CurrentUser","DragDropTarget","FantaChatHeaderContainer.react","FantaConversationScroller.react","FantaDispatcher","FantaDragAndDrop.react","FantaMessageActions","FantaPendingActions.react","FantaTabActions","FantaTabComposer.react","FantaTabSheet.react","FBIDCheck","JSResource","Keys","MercuryIDs","MercurySheetPolicy","MessageRequestUtils","MessagingTagConstants","MessengerBotMenuDataFetcher","MessengerColors","MessengerCustomColorUtils.bs","MessengerParticipants.bs","MessengerParticipantUtils.bs","MessengerPresenceProvider.bs","MessengerState.bs","MNCommercePageSetting","Parent","React","ReactDOM","ShortProfiles","SimpleXUIDialog","TrackingNodes","WorkBotLandingPageHelper","WorkChatAvailabilityStatusLoader","WorkFileUploadsGating","XUISpinner.react","clearTimeout","convertMIGColorToFIGColor","getPageIDFromThreadID","gkx","immutable","joinClasses","lazyLoadComponent","performanceAbsoluteNow","promiseDone","setTimeout","throttle"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MessengerPresenceProvider.bs").jsComponent,k=b("WorkBotLandingPageHelper").shouldShowBotLandingPageArray,l=b("lazyLoadComponent")(b("JSResource")("MarketplaceMessengerContextBanner.react").__setRef("FantaTabMain.react")),m=b("lazyLoadComponent")(b("JSResource")("ChatJoinableInterstitialPreview.react").__setRef("FantaTabMain.react")),n=b("lazyLoadComponent")(b("JSResource")("P2PChatThreadBannerContainer.react").__setRef("FantaTabMain.react")),o=b("lazyLoadComponent")(b("JSResource")("MessengerGameBotPlayButton.react").__setRef("FantaTabMain.react")),p=b("lazyLoadComponent")(b("JSResource")("FantaPageComposerNullState.react").__setRef("FantaTabMain.react")),q=b("gkx")("697231");a=b("React").PropTypes;var r=function(a){a=b("MercuryIDs").getUserIDFromThreadID(a.tab.id);return a&&b("gkx")("678573")&&b("WorkChatAvailabilityStatusLoader").isLoaded()?b("WorkChatAvailabilityStatusLoader").getStoreEnforce().getIsDoNotDisturb(a):!1};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$9=null,d.state={closing:!1,disableInput:!1,isDoNotDisturb:r(d.props)},d.$23=function(a){__p&&__p();var c=!!b("Parent").byClass(a.target,"fantaTabMain-"+d.props.tab.id);a=!!b("Parent").byClass(a.relatedTarget,"fantaTabMain-"+d.props.tab.id);if(!c||!a){if(d.$8){b("clearTimeout")(d.$8);d.$8=null;return}b("FantaTabActions").hoveredTab(d.props.tab.id)}},d.$24=function(a){var c=!!b("Parent").byClass(a.target,"fantaTabMain-"+d.props.tab.id);a=!!b("Parent").byClass(a.relatedTarget,"fantaTabMain-"+d.props.tab.id);(!c||!a)&&(d.$8&&b("clearTimeout")(d.$8),d.$8=b("setTimeout")(function(){d.$8=null,b("FantaTabActions").unhoveredTab(d.props.tab.id)},500))},d.$22=function(a){var c=!!b("Parent").byClass(a.target,"fantaTabMain-"+d.props.tab.id),e=!!b("Parent").byClass(a.relatedTarget,"fantaTabMain-"+d.props.tab.id);(!c||!e)&&(!a.relatedTarget||!a.target?d.$6=b("setTimeout")(function(){d.$6=null,d.$25(d.props.tab.id)},100):d.$25(d.props.tab.id))},d.$21=function(a){if(d.$6){b("clearTimeout")(d.$6);d.$6=null;return}var c=!!b("Parent").byClass(a.target,"fantaTabMain-"+d.props.tab.id),e=!!b("Parent").byClass(a.relatedTarget,"fantaTabMain-"+d.props.tab.id);a=a.target;a&&a.classList&&(a.classList.contains("_3olu")||a.classList.contains("_61td")||a.classList.contains("_7jbw")||a.classList.contains("_4zs3"))||(!c||!e)&&(b("FantaDispatcher").isDispatching()||b("FantaTabActions").focusTab(d.props.tab.id))},d.$27=function(a){b("FantaMessageActions").linkPreview(d.props.tab.id,a)},d.$26=function(a){var c=d.props.tabContent;c=c||{};c=c.composer;var e=d.props.tab.id;c&&b("FantaMessageActions").prepareFilesForSend(e,a,c)},d.$17=function(a){a.keyCode===b("Keys").ESC&&(d.$1(!0),a.preventDefault(),a.stopPropagation())},d.$18=function(a){a.keyCode===b("Keys").TAB&&d.$19(a)},d.$19=function(a){var b=d.props.nonMinimizedRaisedTabCount;b>1&&(a.preventDefault(),d.$2(a.ctrlKey,a.shiftKey))},d.$1=function(a){var c=d.props,e=c.tab;c=c.tabContent;!c||c&&c.composer.text.length===0&&!d.$28()?(d.$29(),a?b("FantaTabActions").closeAndTabNext(e.id):b("FantaTabActions").closeTab(e.id)):d.$30();d.$31()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1=b("throttle")(this.$1,100),this.$2=b("throttle")(this.$2,100)};d.componentDidMount=function(){var a=this,c=b("performanceAbsoluteNow")();b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(b,d){b.markerPoint(d.FIRSTCHATTABOPEN_WWW,"mount_fanta_main",JSON.stringify({messageSize:a.props.messages?a.props.messages.length:0,hasThread:!!a.props.thread}),0,c)},"FantaTabMain.react");this.$10();this.$11();this.$12(this.props.tab.id);this.$13();this.$14();this.$15()};d.componentDidUpdate=function(a){this.$11();if(b("gkx")("678573")&&b("WorkChatAvailabilityStatusLoader").isLoaded()&&a.thread!==this.props.thread){var c=b("MercuryIDs").getUserIDFromThreadID(this.props.tab.id);a=b("MercuryIDs").getUserIDFromThreadID(a.tab.id);var d=b("WorkChatAvailabilityStatusLoader").getStoreEnforce();a&&d.unsubscribeUser(a,this);c&&(d.subscribeUser(c,this),d.fetchUsers([c]))}};d.componentWillUnmount=function(){this.$3&&this.$3.disable();this.$9&&this.$9.remove();var a=b("MercuryIDs").getUserIDFromThreadID(this.props.tab.id);a&&b("WorkChatAvailabilityStatusLoader").isLoaded()&&b("WorkChatAvailabilityStatusLoader").getStoreEnforce().unsubscribeUser(a,this)};d.shouldComponentUpdate=function(a,b){var c=this.props,d=this.state;return c.hasFetchedAll!==a.hasFetchedAll||c.isFocused!==a.isFocused||c.isHovered!==a.isHovered||c.isLastGroupTab!==a.isLastGroupTab||!c.tab.equals(a.tab)||!c.tabContent&&!!a.tabContent||c.tabContent&&!c.tabContent.equals(a.tabContent)||c.thread!==a.thread||c.fbid!==a.fbid||c.blockedIDs!==a.blockedIDs||c.readReceipts!==a.readReceipts||c.ignoredIds!==a.ignoredIds||d.closing!==b.closing||d.disableInput!==b.disableInput||d.isDoNotDisturb!==b.isDoNotDisturb||c.messages&&a.messages&&(c.messages.length!==a.messages.length||!c.messages.every(function(b,c){return b===a.messages[c]}))};d.$11=function(){__p&&__p();var a=this;if(b("gkx")("697231"))return;var c=this.props,d=c.tab;c=c.thread;d=d.id;if(!c)return;var e=this.$5&&b("ReactDOM").findDOMNode(this.$5);if(!e)return;c=c.unread_count;if(c!==void 0){c=!!c&&(!b("ChatBehavior").showsTabUnreadUI||b("ChatBehavior").showsTabUnreadUI());c?b("ChatTabBlinking").blinkTab(d,{getTabElem:function(){return e},isFocused:function(){return a.props.isFocused},isHovered:function(){return!1}}):b("ChatTabBlinking").unblinkTab(d)}};d.$16=function(){var a=this.props.tabContent&&this.props.tabContent.nullStateCTA;if(!a)return!1;if(this.props.thread&&this.props.thread.message_count===0)return!0;return b("CurrentUser").isWorkUser()?k(this.props.messages):!1};d.render=function(){__p&&__p();var a=this,c=this.props,d=c.blockedIDs,e=c.forGameChat,f=c.hasFetchedAll,g=c.isFocused,k=c.isHovered,r=c.isLastGroupTab,s=c.messages,t=c.onLoadMoreMessages,u=c.onSelectSticker,v=c.onSendHotLike,w=c.onSendMessage,x=c.onSendPhoto,y=c.readReceipts,z=c.showContextBanner,A=c.tab,B=c.tabContent,C=c.thread,D=A.id,E=b("CurrentUser").getID();c=B&&B.composer.fileUploader;A=C&&b("convertMIGColorToFIGColor")(C.header_color);var F=B&&B.nullStateCTA,G=this.$16(),H=C&&C.participants||[],I=B&&B.threadPreviewRecipients||b("immutable").List();H=H.length>0?H:I.toArray();I=(I=this.props)!=null?(I=I.thread)!=null?I.other_user_fbid:I:I;I=I?b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(I)):null;var J=b("getPageIDFromThreadID")(this.props.tab.id),K=b("MessengerState.bs").isEmptyLocalThread(E,D),L=b("MessengerState.bs").isNewEmptyLocalThread(E,D);G=C&&b("MessageRequestUtils").shouldShowComposerPendingActions(C)?b("React").createElement(b("FantaPendingActions.react"),{thread:C,threadID:D}):G&&F?b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",{className:"_2xh0"},b("React").createElement("div",{className:"_2xh4 _59w_"},b("React").createElement(b("XUISpinner.react"),{size:"small"})))},b("React").createElement(p,{threadID:D,nullStateCTA:F,pageName:I&&I.short_name})):B?b("React").createElement("div",{className:"fbNubFlyoutFooter"+(this.state.disableInput?" fbNubFlyoutComposerDisabled":""),"data-testid":"composer_root"},b("React").createElement(b("FantaTabComposer.react"),{blockedIDs:d,composer:B.composer,disableInput:this.state.disableInput,fileUploader:c,forGameChat:e,isEmptyLocalThread:K,isFocused:g,isNewEmptyLocalThread:L,onEscape:this.$17,onKeyDown:this.$17,onKeyPress:this.$18,onSelectSticker:u,onSendHotLike:v,onSendMessage:w,onSendPhoto:x,onTab:this.$19,participants:H,ref:"composer",threadID:D,viewer:E})):null;var M;F=b("MercuryIDs").getUserIDFromThreadID(D);F&&(M=b("ShortProfiles").getNow(F));var N=M&&M.is_messenger_only;!B&&i(0,6156);I=this.$20();c=!1;if(D){c=B.isNewMessageTab?((C==null?void 0:(L=C.participants)==null?void 0:L.length)||0)>2:b("MercuryIDs").isGroupChat(D)}var O;u=b("React").createElement(b("FantaTabSheet.react"),{tabContent:B,threadID:D,composerComponent:this.refs.composer,pageUser:I,isGroupChat:c});I&&B.openSheet===b("MercurySheetPolicy").sheets.ChatIntegrityLandingScreenSheet&&(O=b("React").createElement("div",{className:"fbNubFlyoutFooter"},u,G));w=(v=C)!=null?v.marketplace_thread_data:v;H=(x=w)!=null?x.for_sale_item:x;c=(L=w)!=null?L.buyer_fbid:L;v=(I=w)!=null?I.seller_fbid:I;var P;H&&c&&v&&(P=b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},b("React").createElement(l,{buyerID:c,forSaleItem:H,renderLocation:"chat",sellerID:v})));L=(x=C)!=null?x.group_thread_subtype:x;var Q;L===13&&(Q=b("React").createElement(b("CoworkerThreadContextBanner.react"),null));w=C&&b("ChatConfig").getBool("chat_tab_has_gradients")?b("MessengerColors").makeLinearGradient(C.gradient_colors,C.solid_color,b("MessengerCustomColorUtils.bs").defaultColor()):void 0;I=B&&B.isMultiCompany;c=!!B&&!!B.openSheet;var R=B&&B.joinableInterstitialData?b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},b("React").createElement(m,{data:B.joinableInterstitialData,isActive:g,onClose:this.$1})):b("React").createElement("div",{className:(c?"_6vu4":"")+(q?" _6vu5":"")+(b("gkx")("697231")?" _6z9d":"")+" fbNubFlyoutInner _6vu1"},b("React").createElement(b("FantaChatHeaderContainer.react"),{blockedIDs:d,composer:B.composer,customColor:A,highlightNewMessage:B&&B.highlightNewMessage,isDoNotDisturb:this.state.isDoNotDisturb,isFocused:g,isLastGroupTab:r,isMultiCompany:I,isNewMessageTab:B&&B.isNewMessageTab,membershipParticipants:B.membershipParticipants,onClose:this.$1,pageIndicatorDescription:B.pageIndicatorDescription,participants:B.participants,thread:C,threadHref:B&&B.threadHref,threadID:D,uri:B.uri,viewer:E,focusOnClick:this.$21}),b("React").createElement("div",{className:"_1ia _2sz2",ref:function(b){a.$4=b},style:w},O?b("React").createElement("div",null):u,b("React").createElement(b("FantaConversationScroller.react"),{forGameChat:e,hasFetchedAll:f,isFocused:g,isEmptyLocalThread:K,messages:s,onFocus:function(){return a.refs.composer&&a.refs.composer.focusInput()},onLoadMoreMessages:t,readReceipts:y,showContextBanner:z,thread:C,threadID:D,viewer:E,jumpToMessage:B.jumpToMessage}),b("React").createElement("div",{className:"_2hc2"},b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},F?b("React").createElement(n,{isVisible:!0,otherUserID:F,threadID:D}):b("React").createElement(n,{isVisible:!0,threadID:D}))),b("React").createElement("div",{className:"_4g6x"},b("React").createElement("div",{className:"_4g6y"},b("React").createElement("div",{className:"_4g6z _4g71"},h._("K\u00e9o li\u00ean k\u1ebft\/file v\u00e0o \u0111\u00e2y")),b("React").createElement("div",{className:"_4g6z _4g6- _4g6_"},h._("Th\u1ea3 t\u1ec7p t\u1ea1i \u0111\u00e2y")),b("React").createElement("div",{className:"_4g6z _4g6- _4g70"},h._("Th\u1ea3 li\u00ean k\u1ebft t\u1ea1i \u0111\u00e2y")))),O?O:J?b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},b("React").createElement(o,{originalElement:G,pageID:J,playLinkClassName:"_2xh6 _2h_r",showGameImage:!0,threadFBID:(H=this.props)!=null?(H=H.thread)!=null?H.thread_fbid:H:H,threadID:D})):G,b("React").createElement(b("FantaDragAndDrop.react"),{composer:B.composer,threadID:D}),P,Q));return b("React").createElement(j,{subscribeToIDs:[E]},function(c){return b("React").createElement("div",{className:b("joinClasses")((a.state.closing?"_2suj":"")+" _3_9e _s0f _50mz _50m_"+(C&&!N&&b("MessengerParticipantUtils.bs").findIntersection(E,c,C).length>0&&!a.state.isDoNotDisturb?" _4-0b":"")+(a.state.isDoNotDisturb?" _1oh2":"")+" fbNub _50-v"+(g?" focusedTab":"")+(k?" hoveredTab":"")+" opened _27_3","fantaTabMain-"+D),"data-ft":b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.CHAT_FLYOUT),onBlur:a.$22,onFocus:a.$21,onKeyDown:a.$17,onKeyPress:a.$18,onMouseEnter:a.$23,onMouseLeave:a.$24,ref:function(b){return a.$5=b}},b("React").createElement("div",{className:"fbNubFlyout fbDockChatTabFlyout uiContextualLayerParent",role:"complementary"},b("React").createElement("div",{className:"fbNubFlyoutOuter"},R)))})};d.$14=function(){var a=this,c=b("MercuryIDs").getUserIDFromThreadID(this.props.tab.id);c&&b("gkx")("678573")&&b("promiseDone")(b("WorkChatAvailabilityStatusLoader").load(),function(b){var d=b.store;a.$9=d.addListener(function(){a.setState({isDoNotDisturb:d.getIsDoNotDisturb(c)})})})};d.$25=function(a){b("FantaDispatcher").isDispatching()||b("FantaTabActions").blurTab(this.props.tab.id),this.$8&&(b("clearTimeout")(this.$8),this.$8=null),b("setTimeout")(function(){b("FantaTabActions").unhoveredTab(a)})};d.$15=function(){var a=this,c=b("getPageIDFromThreadID")(this.props.tab.id);c&&b("MessengerBotMenuDataFetcher").getHasPageSetting(c,function(b){a.setState({disableInput:b})},function(){a.setState({disableInput:!1})},b("MNCommercePageSetting").COMPOSER_INPUT_DISABLED)};d.$10=function(){__p&&__p();if(b("WorkFileUploadsGating").canUploadFiles&&!this.$3){var a=b("ReactDOM").findDOMNode(this.$4);if(a){a=new(b("DragDropTarget"))(a);this.$3=a;a.setOnFilesDropCallback(this.$26);a.setOnURLDropCallback(this.$27);a.enable()}}};d.$2=function(a,c){a||(c?b("FantaTabActions").focusPreviousTab():b("FantaTabActions").focusNextTab())};d.$29=function(){var a=this.props.tab.id;b("Bootloader").loadModules(["MessengerShareFilePreviewFunnelLogger"],function(b){return b.endFunnel(a)},"FantaTabMain.react")};d.$28=function(){return this.$32()||this.$33()};d.$32=function(){var a,b=this.props.tabContent;a=((a=b)!=null?(a=a.composer)!=null?(a=a.fileUploader)!=null?a.uploadedFiles:a:a:a)||{size:0};b=((b=b)!=null?(b=b.composer)!=null?(b=b.fileUploader)!=null?b.uploadingFiles:b:b:b)||{size:0};return a.size>0||b.size>0};d.$33=function(){var a=this.props.tabContent;a=(a=a)!=null?(a=a.composer)!=null?a.sharePreview:a:a;return!!(a&&a.params&&a.type)};d.$20=function(){var a=this.props,c=a.tab;a=a.tabContent;a=a==null?void 0:a.participants;a&&(a=a.toList().toArray());var d=b("getPageIDFromThreadID")(c.id);return!d||!a||!((c=a)==null?void 0:c.length)?null:a.find(function(a){return a.fbid===d})};d.$30=function(a){var c=this,d=this.props.tab,e=d.id;b("FantaTabActions").blurTab(e);d=h._("B\u1ea1n c\u00f3 ch\u1eafc b\u1ea1n mu\u1ed1n \u0111\u00f3ng c\u1eeda s\u1ed5 chat n\u00e0y kh\u00f4ng?");var f=h._("B\u1ea1n ch\u01b0a g\u1eedi tin nh\u1eafn c\u1ee7a m\u00ecnh.");b("SimpleXUIDialog").showConfirm(d,f,function(d){d?(c.$29(),a?b("FantaTabActions").closeAndTabNext(e):b("FantaTabActions").closeTab(e)):b("FantaTabActions").focusTab(e)},{autofocusConfirm:!0,useReactFocusBehavior:!0})};d.$13=function(){this.$7=Math.floor(Date.now()/1e3)};d.$31=function(){var a=this.props,c=a.thread,d=a.tab,e=c?c.other_user_fbid:null,f=Math.floor(Date.now()/1e3),g=this.$7;c&&e&&!b("FBIDCheck").isUser_deprecated(e)&&b("Bootloader").loadModules(["PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","PagesEventObserver","PagesEventType"],function(a,b,h,i,j){a.log(e,b.CLICK,h.MESSAGE_FANTA_TAB_CLOSE,"",["pages_surface_team"],{open_tab_timestamp:g,close_tab_timestamp:f,last_message_timestamp:c.last_message_timestamp,message_count:c.message_count,snippet_sender:c.snippet_sender,participants:c.participants,entrypoint:d.entryPoint}),i.notify(j.MESSAGES_FANTA_TAB_CLOSE,e,{open_tab_timestamp:g,close_tab_timestamp:f,last_message_timestamp:c.last_message_timestamp,message_count:c.message_count,snippet_sender:c.snippet_sender,participants:c.participants,entrypoint:d.entryPoint})},"FantaTabMain.react")};d.$12=function(a){__p&&__p();var c=this;if(!b("MercuryIDs").isValidThreadID(a))return;b("Bootloader").loadModules(["GroupChatMessageBlockAlert","GroupChatMessageIgnoreAlert","MercuryIgnoredBlockedParticipants.bs","MercuryThreadActions"],function(d,e,f,g){__p&&__p();var h=g.get();b("MessengerState.bs").getThreadMeta(b("CurrentUser").getID(),a,function(d){var g=c.props,i=g.fbid,j=g.ignoredIds;b("MessengerState.bs").compute(i,function(c){c=c.blocked_ids;c=f.isPresentInGroupThread(i,c,d);var g=b("MessengerParticipantUtils.bs").areParticipantsInGroupThread(i,j,d)&&d.folder==="inbox";!c&&g&&e.show(b("MessengerParticipantUtils.bs").participantsInGroupThread(i,j,d),b("MercuryIDs").getThreadFBIDFromThreadID(a),function(){b("FantaTabActions").focusTab(a)},function(){b("FantaTabActions").closeTab(a),b("Bootloader").loadModules(["IgnoreMessagesTypedLogger","IgnoreMessagesLoggingEvent","IgnoreMessagesPlatforms"],function(c,d,e){h.changeFolder(a,b("MessagingTagConstants").other),new c().setEvent(d.IGNORE_CONFIRMED).setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(a)).setPlatform(e.CHAT_TABS).log()},"FantaTabMain.react")})})})},"FantaTabMain.react")};return c}(b("React").Component);c.propTypes={hasFetchedAll:a.bool.isRequired,isFocused:a.bool.isRequired,isHovered:a.bool.isRequired,isLastGroupTab:a.bool.isRequired,onLoadMoreMessages:a.func.isRequired,onSelectSticker:a.func.isRequired,onSendHotLike:a.func.isRequired,onSendMessage:a.func.isRequired,onSendPhoto:a.func.isRequired,nonMinimizedRaisedTabCount:a.number,showContextBanner:a.bool,tab:a.object.isRequired,tabContent:a.object,thread:a.object,forGameChat:a.bool.isRequired};e.exports=c}),null);
__d("FantaTabMainLoader.react",["Bootloader","CurrentUser","FantaAppStore","FantaGetMessageActions","FantaMessageActions","FantaTabMain.react","MercuryThreadActions","MessageRequestUtils","MessagingTag","MessengerState.bs","React","TimeSlice","emptyFunction","requestIdleCallback","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;function g(a){return!!a.preview_attachments[0].preview_url}var h=function(a){__p&&__p();b("FantaAppStore").addReducers(a);a=b("FantaAppStore").getState();a=(a=a)!=null?(a=a.mercury)!=null?a.tabContents:a:a;if(a){var c=a.reduce(function(a,b){b=b.thread;b&&a.push(b);return a},[]);b("setImmediate")(function(){return b("FantaGetMessageActions").threadsUpdated(c)})}h=b("emptyFunction")};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.props.tab;b("MessengerState.bs").fetchMoreMessages(b("CurrentUser").getID(),a.id,0,d.props.messages.length+10,b("emptyFunction"))},d.$2=function(a,c){var e=d.props.tab;b("FantaMessageActions").sendSticker(e.id,a,c)},d.$3=function(a,c,e,f){var g=d.props.tab;b("FantaMessageActions").sendHotLike(g.id,a,c,e,f)},d.$4=function(a,c,e){var f=d.props.tabContent.thread,g=d.props.tab;f&&b("MessageRequestUtils").isMessageRequest(f)&&b("MercuryThreadActions").get().changeFolder(f.thread_id,b("MessagingTag").INBOX);b("FantaMessageActions").sendMessage(g.id,a,c,e)},d.$5=function(a,c){var e=d.props.tab;g(a)?b("FantaMessageActions").sendGif(e.id,a,c):b("FantaMessageActions").sendPhoto(e.id,a,c)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.shouldComponentUpdate=function(a){var b=this.props;return b.isFocused!==a.isFocused||b.isHovered!==a.isHovered||b.isLastTabOfType!==a.isLastTabOfType||b.messengerState!==a.messengerState||!b.tab.equals(a.tab)||!b.tabContent.equals(a.tabContent)};d.componentDidMount=function(){var a=function(){b("Bootloader").loadModules(["FantaReducersTabSheets"],h,"FantaTabMainLoader.react")};b("TimeSlice").guard(function(){b("requestIdleCallback")(a)},"additional request not needed for initial display",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()};d.render=function(){var a=this.props,c=a.isFocused,d=a.isHovered,e=a.isLastTabOfType,f=a.messengerState,g=a.nonMinimizedRaisedTabCount,h=a.tab,i=a.tabContent,j=a.forGameChat,k=a.messages;a=a.hasFetchedAll;var l=i.showContextBanner,m=i.thread,n=i.threadPreviewID;n=n?h.id+"-"+n:h.id;return!i?b("React").createElement("div",{key:"noContent-"+n}):b("React").createElement(b("FantaTabMain.react"),{blockedIDs:b("MessengerState.bs").blockedIds(f),fbid:b("MessengerState.bs").fbid(f),forGameChat:j,hasFetchedAll:a,ignoredIds:b("MessengerState.bs").ignoredIds(f),isFocused:c,isHovered:d,isLastGroupTab:e,key:n,messages:k,onLoadMoreMessages:this.$1,onSelectSticker:this.$2,onSendHotLike:this.$3,onSendMessage:this.$4,onSendPhoto:this.$5,nonMinimizedRaisedTabCount:g,readReceipts:b("MessengerState.bs").readReceiptsPerThread(f),showContextBanner:l,tab:h,tabContent:i,thread:m})};return c}(b("React").Component);c.propTypes={isFocused:a.bool.isRequired,isHovered:a.bool.isRequired,isLastTabOfType:a.bool.isRequired,messengerState:a.array,nonMinimizedRaisedTabCount:a.number,tab:a.object.isRequired,tabContent:a.object};e.exports=c}),null);
__d("FantaM4HeaderMinimized.bs",["cx","fbt","bs_block","bs_curry","React","qex","bs_belt_Set","setTimeout","bs_belt_Option","ReasonReact.bs","bs_js_primitive","FantaM4Header.bs","ParticipantId.bs","XUIBadgeReact.bs","ChatThreadName.bs","ChatDetailStack.bs","MercuryThreadInfo","FantaProfilePresence.bs","FantaCloseActionButton.bs","MessengerCustomColorUtils.bs","MessengerParticipantUtils.bs","MessengerPresenceProvider.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").reducerComponentWithRetainedProps("FantaM4HeaderMinimized");function j(a,c,d,e,f,g,j,k,l,m){__p&&__p();return[i[0],i[1],i[2],i[3],i[4],function(a){var c=a[1];if(!a[0][2][0]&&c[2][0]){b("bs_curry")._1(c[3],0);b("setTimeout")(function(){return b("bs_curry")._1(c[3],1)},1e3);return 0}else return 0},i[6],i[7],function(i){__p&&__p();var m=b("FantaM4Header.bs").getProfileImages(f,e,g),n=f!==void 0?b("bs_js_primitive").valFromOption(f).unread_count:0,o=b("FantaM4Header.bs").getTooltip(f);if(f!==void 0){var p=b("bs_js_primitive").valFromOption(f).header_color;p=p==null?b("MessengerCustomColorUtils.bs").defaultColor(0):p}else p=b("MessengerCustomColorUtils.bs").defaultColor(0);var q=a&&i[1][0],r,s=0;q?p!==void 0?r=[0,p,"_69pt _2mgn _6d6l"]:s=1:p!==void 0?r=[2,"","_69pt _6d6l"]:s=1;s===1&&(r=[1,"","_69pt _6d6l"]);var t=r[1];if(f!==void 0){q=b("bs_js_primitive").valFromOption(f);p=[q.thread_fbid,q.is_canonical]}else p=[null,!0];var u=p[1],v=p[0];s=b("bs_belt_Option").map(f,function(a){return b("bs_belt_Set").fromArray(a.participants,[b("ParticipantId.bs").cmp])});var w=function(){return 0};if(j)q=null;else{p={children:function(c){var a=b("qex")._("967984");return b("ReasonReact.bs").element(void 0,void 0,b("FantaProfilePresence.bs").make(m,20,l!==void 0?a:f!==void 0?b("MessengerParticipantUtils.bs").areParticipantsInThread(g,c,b("bs_js_primitive").valFromOption(f))&&!k:!1,!0,"",o,t,!1,void 0,u,v==null?void 0:b("bs_js_primitive").some(v),e,w,[]))}};s!==void 0&&(p.subscribeToIDs=b("bs_js_primitive").valFromOption(s));q=b("React").createElement(b("MessengerPresenceProvider.bs").make,p)}s=j?h._("Tin nh\u1eafn m\u1edbi"):b("React").createElement(b("ChatThreadName.bs").make,{thread:f,threadHref:"",tooltip:o,viewer:g,className:"_2mgq",isNewMessageTab:j,onHeaderClick:w});p=n>0&&!(a&&i[1][0]);i=b("qex")._("830274");p=p?i?b("React").createElement("div",{className:"_7joc"},b("React").createElement("div",{className:"_7joj"})):b("ReasonReact.bs").element(void 0,void 0,b("XUIBadgeReact.bs").make(0,"_429n",n,99,[])):null;i=b("bs_belt_Option").mapWithDefault(f,!1,function(a){return b("MercuryThreadInfo").isMuted(a)});return b("React").createElement("div",{className:r[2],style:{backgroundColor:t},onClick:d},b("React").createElement("div",{className:"_66n2"},q,b("React").createElement("div",{className:"_66n3"},b("React").createElement(b("ChatDetailStack.bs").make,{topDetail:s,bottomDetail:null}),b("React").createElement("div",{className:"_69ae"},p,i?b("React").createElement("div",{className:"_66n5"},b("React").createElement("i",{className:"_7kxx"})):null,b("React").createElement("div",{className:"_66n5"},b("React").createElement(b("FantaCloseActionButton.bs").make,{iconStyle:r[0],onClose:c,isFocused:!1}))))))},function(){return[!1]},[a],function(c,a){if(c)return b("bs_block").__(0,[[!1]]);else return b("bs_block").__(0,[[!0]])},i[12]]}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){return j(a.highlightNewMessage,a.onClose,a.onHeaderToggle,b("bs_js_primitive").nullable_to_opt(a.participants),b("bs_js_primitive").nullable_to_opt(a.thread),a.viewer,a.isNewMessageTab,a.isMessengerOnlyUser,b("bs_js_primitive").nullable_to_opt(a.pageIndicatorDescription),[])});c=20;d=1e3;f.component=i;f.small_profile_image_size=c;f.blink_threshold_ms=d;f.make=j;f.jsComponent=a}),null);
__d("FantaTabMinimized.react",["cx","fbt","Bootloader","ChatBehavior","ChatTabBlinking","ChatTabHeaderContainer.react","CurrentUser","FantaAvailableStatus","FantaM4HeaderMinimized.bs","FantaTabActions","MercuryIDs","React","ReactDOM","ShortProfiles","SimpleXUIDialog","emptyFunction","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("FantaM4HeaderMinimized.bs").jsComponent,j=b("gkx")("697231");a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={closing:!1},d.$3=function(a){a=d.props;var c=a.tab;a=a.tabContent;!a||a&&a.composer.text.length===0&&!d.$5()?(d.$6(),b("FantaTabActions").closeTab(c.id)):d.$7()},d.$4=function(a){var c=a.target;c&&c.classList&&!c.classList.contains("button")&&(a.stopPropagation(),b("FantaTabActions").unminimizeTab(d.props.tab.id),b("FantaTabActions").focusTab(d.props.tab.id))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1()};d.componentDidUpdate=function(){this.$1()};d.shouldComponentUpdate=function(a){var b=this.props;return!b.tab.equals(a.tab)||!b.tabContent&&!!a.tabContent||!!b.tabContent&&!b.tabContent.equals(a.tabContent)};d.$1=function(){__p&&__p();if(j)return;var a=this.props,c=a.tab;a=a.tabContent;c=c.id;if(!a)return;a=a.thread;if(!a)return;var d=this.refs.root&&b("ReactDOM").findDOMNode(this.refs.root);if(!d)return;a=a.unread_count;if(a!==void 0){a=!!a&&(!b("ChatBehavior").showsTabUnreadUI||b("ChatBehavior").showsTabUnreadUI());a?b("ChatTabBlinking").blinkTab(c,{getTabElem:function(){return d},isFocused:function(){return!1},isHovered:function(){return!1}}):b("ChatTabBlinking").unblinkTab(c)}};d.$2=function(){var a=this.props.tabContent,c=a&&a.thread,d=a&&a.thread&&a.thread.header_color,e=d?{color:d}:null,f=b("CurrentUser").getID();if(j){var g=a?b("MercuryIDs").getUserIDFromThreadID(a.id):null;g=g?b("ShortProfiles").getNow(g):null;g=g&&g.is_messenger_only;return b("React").createElement("div",{className:"clearfix titlebar"},b("React").createElement(i,{highlightNewMessage:a&&a.highlightNewMessage,isNewMessageTab:a&&a.isNewMessageTab,onClose:this.$3,onHeaderToggle:this.$4,isMessengerOnlyUser:g,pageIndicatorDescription:a&&a.pageIndicatorDescription,participants:a&&a.participants,thread:c,viewer:f}))}return b("React").createElement("div",{className:(this.state.closing?"_2suj":"")+" clearfix fbNubFlyoutTitlebar titlebar"+(d?" _1m34":""),style:e},b("React").createElement(b("ChatTabHeaderContainer.react"),{attachmentsShelf:document.createElement("div"),hasBlockedMessages:!1,href:a&&a.threadHref,isActive:!1,isNewMessageTab:!!(a&&a.isNewMessageTab),isRaised:!1,isTyping:!1,membershipParticipants:a&&a.membershipParticipants,onClick:this.$4,onCloseClick:this.$3,onRTCNuxCloseButtonClick:b("emptyFunction"),participants:a&&a.participants,pageUnsubscribeStatus:!1,rtcNuxShown:!1,sheetController:{},showMessengerReportNux:!1,showAddFriend:b("emptyFunction"),thread:c,threadID:this.props.tab.id,viewer:f}))};d.render=function(){var a=this.props,c=a.tab;a=a.tabContent;c=c.id;a=a&&!!a.thread&&b("FantaAvailableStatus").isAvailable(a.thread,c);return b("React").createElement("div",{className:"_4cd8 _50mz _50m_ fbNub _50-v"+(a?" _4-0b":"")+" _27_3",ref:"root"},this.$2())};d.$6=function(){var a=this.props.tab.id;b("Bootloader").loadModules(["MessengerShareFilePreviewFunnelLogger"],function(b){return b.endFunnel(a)},"FantaTabMinimized.react")};d.$5=function(){return this.$8()||this.$9()};d.$8=function(){var a,b=this.props.tabContent;a=((a=b)!=null?(a=a.composer)!=null?(a=a.fileUploader)!=null?a.uploadedFiles:a:a:a)||{size:0};b=((b=b)!=null?(b=b.composer)!=null?(b=b.fileUploader)!=null?b.uploadingFiles:b:b:b)||{size:0};return a.size>0||b.size>0};d.$9=function(){var a=this.props.tabContent;a=(a=a)!=null?(a=a.composer)!=null?a.sharePreview:a:a;return!!(a&&a.params&&a.type)};d.$7=function(){var a=this.props.tab,c=h._("B\u1ea1n c\u00f3 ch\u1eafc b\u1ea1n mu\u1ed1n \u0111\u00f3ng c\u1eeda s\u1ed5 chat n\u00e0y kh\u00f4ng?");b("FantaTabActions").blurTab(a.id);var d=h._("B\u1ea1n ch\u01b0a g\u1eedi tin nh\u1eafn c\u1ee7a m\u00ecnh.");b("SimpleXUIDialog").showConfirm(c,d,function(c){c?b("FantaTabActions").closeTab(a.id):b("FantaTabActions").focusTab(a.id)},{autofocusConfirm:!0,useReactFocusBehavior:!0})};return c}(b("React").Component);c.propTypes={tab:a.object.isRequired,tabContent:a.object};e.exports=c}),null);
__d("FantaMercuryTabsWithMain.react",["Bootloader","CurrentUser","FantaAppStore","FantaCookieUtil","FantaMercuryTabOverflowBootloader.react","FantaTabActions","FantaTabGroup.react","FantaTabMainLoader.react","FantaTabMinimized.react","FluxContainer","LazyComponent.react","LoadOnRender.react","MercuryIDs","MessengerState.bs","PresenceState","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MessengerState.bs").jsComponent,h=function(a){b("Bootloader").loadModules(["MessengerReasonDialogContainerReact.bs"],function(b){b=b.jsComponent;return a(b)},"FantaMercuryTabsWithMain.react")};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("FantaAppStore")]};c.calculateState=function(){return{tabGroup:b("FantaAppStore").getState().tabGroup,tabContents:b("FantaAppStore").getState().mercury.tabContents}};var d=c.prototype;d.componentDidMount=function(){this.props.loadDataOnMount&&b("FantaTabActions").loadFromData(b("FantaCookieUtil").convertCookieData(b("PresenceState").get()))};d.render=function(){var a=this;return b("React").createElement(g,{fbid:b("CurrentUser").getID()},function(c){return[b("React").createElement(b("FantaTabGroup.react"),{key:"tabgroup",messengerState:c,MainComponent:b("FantaTabMainLoader.react"),MinimizedComponent:b("FantaTabMinimized.react"),OverflowComponent:b("FantaMercuryTabOverflowBootloader.react"),tabGroup:a.state.tabGroup,tabContents:a.state.tabContents,isLastOfTypeChecker:a.$1}),b("React").createElement(b("LoadOnRender.react"),{key:"dialog",component:b("React").createElement(b("LazyComponent.react"),null),loader:h,placeholder:b("React").createElement("span",null)})]})};d.$1=function(a){return b("MercuryIDs").isGroupChat(a.id)};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("FantaMercuryThreadEventsBootloaded",["Bootloader","CurrentUser","MercuryThreadInformer","MercuryViewer","MessengerState.bs","WorkplaceChatHelper","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MercuryThreadInformer").get(),h=60*60*1e3;function i(a,c,d){var e=b("gkx")("793912")&&d.timestamp<Date.now()-h,f=b("gkx")("797694")?d.action_type==="ma-type:log-message"||d.is_unread:d.is_unread;d.author!==b("MercuryViewer").getID()&&f&&!e&&b("MessengerState.bs").getThreadMeta(b("CurrentUser").getID(),c,function(e){b("Bootloader").loadModules(["ChatTabPolicy"],function(b){b.messageIsAllowed(e,d,function(){a(c,d)})},"FantaMercuryThreadEventsBootloaded")})}a={registerForNewMessage:function(a){g.subscribe("new-message",function(c,d){c=d.threadID;d=d.message;b("WorkplaceChatHelper").suppressChatIfActiveOnDesktop()||i(a,c,d)})},registerForNewLogMessage:function(a){g.subscribe("new-log-message",function(c,d){c=d.threadID;d=d.message;b("WorkplaceChatHelper").suppressChatIfActiveOnDesktop()||i(a,c,d)})},registerForMessagesReceived:function(a){g.subscribe("messages-received",function(c,d){if(!b("WorkplaceChatHelper").suppressChatIfActiveOnDesktop())for(var e in d){c=d[e];for(var f=0;f<c.length;f++){var g=c[f];i(a,e,g)}}})}};e.exports=a}),null);
__d("FantaTabViewportManager",["Arbiter","DockTabsViewportCalculator","DockTabsViewportFantaTabUtils","FantaTabActions","ifRequired","immutable","isWebMessengerURI","qex","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("qex")._("830597");function a(a){__p&&__p();var c=b("DockTabsViewportCalculator").getInstance(a);if(!c)return;c.registerFantaTabCallbacks({fantaTabModelStateGetter:function(){var a=b("immutable").Map({});b("ifRequired")("FantaAppStore",function(b){a=b.getState().tabGroup.tabs});return a},onAvailableWidthChanged:function(a){var c=g?1:b("DockTabsViewportFantaTabUtils").getTabCountToFitWidth(a),d=function(){b("FantaTabActions").setAllowedRaisedTabs(c)};b("ifRequired")("FantaAppStore",function(a){a=a.getState().tabGroup.allowedRaisedTabs;c!==a&&b("setImmediate")(d)},function(){b("setImmediate")(d)})}});b("Arbiter").subscribe("FantaReducersDockCalculator/shouldRecalculate",function(){c.forceRecalculateChatTabs()});c.forceRecalculateFBDockWidth();b("Arbiter").subscribe("page_transition",function(a,c){b("isWebMessengerURI")(c.uri)&&b("setImmediate")(function(){return b("FantaTabActions").minimizeAllTabs()})})}e.exports={init:a}}),null);
__d("FantaTabsAppBase",["Bootloader","ChatAppActions","ChatAppStore","ChatPerfInstrumentation","CSS","JSLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.init=function(a,c,d){__p&&__p();if(this.isInitialized()){b("JSLogger").create("chat_app").error("repeated_init");return}this.$1=a;this.tabsElem=c;var e=b("ChatAppStore").addListener(function(){var a=b("ChatAppStore").getPreviousState(),c=b("ChatAppStore").getState();a.initialDisplayDone===!1&&c.initialDisplayDone===!0&&(b("ChatPerfInstrumentation").logDisplayDone(),e.remove())});b("ChatPerfInstrumentation").init();this.$2(d);this.initializeFantaData(d.interstitial_data);this.initializeFantaUI();this.$3();b("ChatAppActions").tti();b("ChatPerfInstrumentation").logTTI()};c.isInitialized=function(){return!!b("ChatAppStore").getState().isInitialized};c.isHidden=function(){var a=b("ChatAppStore").getState();return!!(!a.isInitialized||a.isHidden)};c.hide=function(){if(this.isHidden())return;b("CSS").hide(this.$1);b("ChatAppActions").hide()};c.unhide=function(){var a=b("ChatAppStore").getState();a.isInitialized?a.isHidden&&(b("CSS").show(this.$1),d(["Dock"],function(a){a.resizeAllFlyouts()}),b("ChatAppActions").unhide()):a.isLoaded||(d(["UIPagelet"],function(a){a.loadFromEndpoint("ChatTabsPagelet","ChatTabsPagelet"),a.loadFromEndpoint("BuddylistPagelet","BuddylistPagelet")}),b("ChatAppActions").load())};c.initializeFantaData=function(a){};c.initializeFantaUI=function(){};c.$2=function(a){d(["MercuryDeliveryState","MessengerParticipants.bs","MercuryServerPayloadPreprocessor","MessengerState.bs","MercurySyncEnvironment","P2PSendMoneyDialogStore"],function(c,d,e,f,g,h){c.get(),d,g.setUp(),b("ChatPerfInstrumentation").logInitStores(),a.graphql_payload?b("Bootloader").loadModules(["ChatInitialDataTransformer.bs"],function(b){var c=a.graphql_payload;b=b.transform(c);b.message_blocked_ids=c.message_blocked_ids;b.message_ignored_ids=c.message_ignored_ids;b.payload_source=c.payload_source;e.get().handleUpdate(b)},"FantaTabsAppBase"):e.get().handleUpdate(a.initial_data)})};c.$3=function(){d(["HotLikeSound","ChatOptions"],function(a,c){a.setCheckSoundEnabledFunc(function(){return c.getSetting("sound")}),b("ChatPerfInstrumentation").logInitSound()})};return a}();e.exports=a}),null);
__d("FantaTabsReactApp",["ChatPerfInstrumentation","FantaMercuryTabsWithMain.react","FantaTabsAppBase","React","ReactDOM","UserActivity","gkx","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=500,h;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var e=c.prototype;e.initializeFantaData=function(a){__p&&__p();d(["FantaAppStore","FantaCookieUtil","FantaGetMessageActions","FantaTabActions","MercuryThreadInformer","PresenceState"],function(c,d,e,f,i,j){__p&&__p();f.loadFromData(d.convertCookieData(j.get(),null,a)),j.registerStateLoader(function(b){f.loadFromData(d.convertCookieData(b,c.getState().tabGroup,a))}),j.registerStateStorer(function(a){if(!b("UserActivity").isOnTab()&&!b("UserActivity").isActive(g)&&!b("gkx")("678595"))return a;var e=c.getState().tabGroup;if(!h||h&&!h.equals(e)){h=e;return d.createCookieData(e,a)}else return a}),i.get().subscribe("threads-updated",function(a,c){Object.keys(c).forEach(function(a){b("setImmediate")(function(){e.refreshThread(a)})})}),b("ChatPerfInstrumentation").logInitData()})};e.initializeFantaUI=function(){__p&&__p();var a=this;d(["FantaAppStore","FantaMercuryThreadEventsBootloaded","FantaMessageActions","FantaTabActions","FantaTabViewportManager","FBRTCMessageHandler","MercuryBrowserAlerts"],function(c,d,e,f,g,h,i){__p&&__p();h.init();i.init();b("ReactDOM").render(a.getViewComponent(),a.tabsElem);f=function(a,c){b("setImmediate")(function(){e.receivedNewMessage(a,c)})};d.registerForNewLogMessage(f);d.registerForNewMessage(f);g.init(a.tabsElem);b("ChatPerfInstrumentation").logInitUI();h=c.getState().tabGroup.tabs;h.toArray().length===0&&b("ChatPerfInstrumentation").logDisplayDone()})};e.getViewComponent=function(){return b("React").createElement(b("FantaMercuryTabsWithMain.react"),{loadDataOnMount:!1})};return c}(b("FantaTabsAppBase"));e.exports=new a()}),null);