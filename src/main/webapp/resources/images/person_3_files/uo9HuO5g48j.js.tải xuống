if (self.CavalryLogger) { CavalryLogger.start_js(["55+ge"]); }

__d("MessengerContextualDialog.react",["cx","AccessibleLayer","ContextualLayerAutoFlipHorizontal","ContextualLayerUpdateOnScroll","LayerHideOnEscape","ReactAbstractContextualDialog","ReactLayer"],(function(a,b,c,d,e,f,g){"use strict";a=12;c=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({addedBehaviors:[b("ContextualLayerAutoFlipHorizontal"),b("ContextualLayerUpdateOnScroll"),b("LayerHideOnEscape"),b("AccessibleLayer")],displayName:"MessengerContextualDialog",shouldSetARIAProperties:!1,theme:{wrapperClassName:"_1r_9",arrowDimensions:{offset:a,length:16}}}));e.exports=c}),null);
__d("MessengerGlobalSearchContainer.react",["cx","MessengerActions","MessengerDotComAndInboxM4Check.bs","MessengerGraphQLSearchTypeahead.react","MessengerView","React","emptyFunction","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("React").useState;function a(a){var c=h(""),d=c[0],e=c[1];c=!d||d.length<2;return b("React").createElement(b("MessengerGraphQLSearchTypeahead.react"),{className:"_5iwm _6-_b _5iwn _150g",enableMessageSearch:!0,excludeGroups:!1,excludePages:!1,hasHoverState:!1,hideClearButton:d==="",hideResults:!1,isFacebookChat:!1,isFocused:!0,isTokenizer:!1,onBackspace:b("emptyFunction"),onBlur:function(a){},onChange:function(a){e(a.target.value)},onClear:function(a){b("MessengerActions").changeMasterView(b("MessengerView").MASTER.RECENT)},onFocus:function(a){},onScrollIntoView:b("emptyFunction"),onSelect:function(a,c){b("MessengerActions").selectThread(a,c)},originalEntryIDs:b("immutable").Set(),placeholder:"Search",queryString:(d=d)!=null?d:"",selectedEntryIDs:b("immutable").Set(),scrollableViewClassName:"",shouldQueryInternalBot:!0,shouldQueryVCEndpoint:!0,typeaheadViewClassName:"_11_d"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _705p":"")+(c?" _8cg4":""),useLayer:!1,viewer:a.viewer})}e.exports=a}),null);
__d("MessengerThread.bs",[],(function(a,b,c,d,e,f){}),null);
__d("makeMarketplaceFolderPayload",["ImmutableObject","MessagingTag","makeMercuryThreadPayload"],(function(a,b,c,d,e,f){"use strict";function a(a){a===void 0&&(a={});return new(b("ImmutableObject"))(babelHelpers["extends"]({},b("makeMercuryThreadPayload")({folder:b("MessagingTag").INBOX,name:"Marketplace",thread_id:"marketplace",thread_type:6}),a))}e.exports=a}),null);
__d("MercuryThreadlistContainer.react",["LogHistory","MercuryAPIArgsSource","MercuryFilters.bs","MercuryServerRequests","MercuryThreadlistConstants","MessagingTag","MessengerConfig","MessengerEnvironment","MessengerState.bs","MessengerThread.bs","React","emptyFunction","gkx","immutable","makeMarketplaceFolderPayload","qex","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="search";a=3;var h=5e3,i=b("MercuryThreadlistConstants").JEWEL_THREAD_COUNT+a,j=b("LogHistory").getInstance("threadlist_container");function k(a,b,c){a=a[b];return a?a[c]:null}function l(a,b,c){a=k(a,b,c);return a?a.reachedEnd:!1}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),i=0;i<e;i++)f[i]=arguments[i];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLoading:null,isSearching:!1,unreadMessageRequestThreads:[],threads:b("immutable").Map(),pinnedThreads:[]},d.$1=null,d.$5=function(){var a=function(){d.setState({suspended:!1}),d.handleThreadListUpdate()};b("gkx")("678640")&&(d.setState({suspended:!0}),b("setTimeout")(a,h))},d.$8=function(){!d.state.isSearching&&!d.state.isLoading&&!l(d.props.threadlistOrderMap,d.props.folder,d.props.filter)&&d.$13(d.props.folder,d.props.filter,b("MercuryThreadlistConstants").JEWEL_MORE_COUNT+1)},d.$10=function(a,c){d.setState({searchThreads:[]},function(){return d.$3(g,b("MercuryFilters.bs").all,a)})},d.$9=function(a){d.setState({isSearching:!!a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$2(this.props.threadlistOrderMap,this.props.folder,this.props.filter),this.$3(this.props.folder,this.props.filter)};d.UNSAFE_componentWillReceiveProps=function(a){(a.folder!==this.props.folder||a.filter!==this.props.filter)&&this.$2(a.threadlistOrderMap,a.folder,a.filter);var b=this.state.isLoading;if(b&&a.folder===b.folder&&a.filter===b.filter){var c=k(a.threadlistOrderMap,a.folder,a.filter);(c&&c.threadlist.length>=b.limit||l(a.threadlistOrderMap,a.folder,a.filter))&&this.setState({isLoading:null})}this.$3(a.folder,a.filter)};d.componentWillUnmount=function(){this.$4()};d.handleThreadListUpdate=function(){this.$3(this.props.folder,this.props.filter)};d.$6=function(){var a=this,c=k(this.props.threadlistOrderMap,b("MessagingTag").PENDING,b("MercuryFilters.bs").unread);return!c?[]:c.threadlist.map(function(b){return a.props.threads[b]})};d.$7=function(a,c){__p&&__p();var d=this;if(this.state.isSearching)return this.state.threads.get(g)||[];if(a==="inbox"&&this.props.threadlistOrderMap.marketplace_folder&&this.props.threadlistOrderMap.marketplace_folder.all.threadlist.length>0&&b("qex")._("998180")&&b("MessengerEnvironment").messengerdotcom){var e=this.state.threads.get(a)?[].concat(this.state.threads.get(a)).filter(function(a){return a.thread_type!==5}):[],f=this.props.threadlistOrderMap.marketplace_folder.all.threadlist.reduce(function(a,c){return a+b("MessengerState.bs").getThreadMetaNow(d.props.viewer,c).unread_count},0);if(c==="unread"&&f===0)return e;c=b("MessengerState.bs").getThreadMetaNow(this.props.viewer,this.props.threadlistOrderMap.marketplace_folder.all.threadlist[0]);e.push(b("makeMarketplaceFolderPayload")({timestamp:c.timestamp,unread_count:f,snippet:c.snippet,snippet_sender:c.snippet_sender,participants:c.participants}));e.sort(function(a,b){return b.timestamp-a.timestamp});return e}else if(a==="marketplace_folder"&&this.props.threadlistOrderMap.marketplace_folder&&this.props.threadlistOrderMap.marketplace_folder.groups.threadlist.length>0&&b("qex")._("998180")&&b("MessengerEnvironment").messengerdotcom)return this.props.threadlistOrderMap.marketplace_folder.groups.threadlist.map(function(a){return b("MessengerState.bs").getThreadMetaNow(d.props.viewer,a)}).filter(function(a){return a.message_count>0});return this.state.threads.get(a)||[]};d.render=function(){var a=this.props,c=a.ChildClass,d=a.folder,e=a.filter,f=a.threadlistOrderMap;a=babelHelpers.objectWithoutPropertiesLoose(a,["ChildClass","folder","filter","threadlistOrderMap"]);var g=this.$7(d,e);return b("React").createElement(c,babelHelpers["extends"]({},a,{filter:e,folder:d,isLoaded:l(f,d,e),isLoading:!!this.state.isLoading,isSearching:this.state.isSearching,maxHeight:this.props.maxHeight,newMessageRequestThreads:this.$6(),pendingFolderUnseenCount:this.props.pendingFolderUnseenCount,threads:g,pinnedThreads:this.state.pinnedThreads,onLoadMoreRequest:this.$8,onQuery:this.$9,onSearchResults:this.$10,maxInitialThreadCount:i,handleChatTabOpen:this.props.source==="jewel"&&b("gkx")("678640")?this.$5:b("emptyFunction")}))};d.$2=function(a,c,d){var e=this;c===b("MessagingTag").INBOX&&this.props.source!==b("MercuryAPIArgsSource").JEWEL&&this.$11();!this.$12(c,d,a)?this.$13(c,d,i):this.state.isLoading?this.setState({isLoading:null},function(){e.$3(c,d)}):this.$3(c,d)};d.$11=function(){if(l(this.props.threadlistOrderMap,b("MessagingTag").PENDING,b("MercuryFilters.bs").unread))return;b("MercuryServerRequests").getForFBID(this.props.viewer).fetchThreadlistInfo(0,b("MercuryThreadlistConstants").MAX_UNREAD_COUNT,b("MessagingTag").PENDING,b("MercuryFilters.bs").unread,this.props.source,null)};d.$14=function(a,b){var c=k(this.props.threadlistOrderMap,a,b);c=c?c.threadlist:[];c=c&&c.length>0?c[c.length-1]:null;if(!c)return null;c=this.props.threads[c];var d=c?c.timestamp:null;a==="inbox"&&b==="all"&&j.debug("load threads after timestamp "+(d?d:"null"),c?c.thread_id:null);return d};d.$13=function(a,c,d){var e=this;a===b("MessagingTag").MARKETPLACE_FOLDER&&(a=b("MessagingTag").INBOX);var f=function(){b("MercuryServerRequests").getForFBID(e.props.viewer).fetchThreadlistInfo(b("MercuryThreadlistConstants").RECENT_THREAD_OFFSET,d,a,c===b("MercuryFilters.bs").all?null:c,e.props.source,e.$14(a,c))};this.setState({isLoading:{folder:a,filter:c,limit:d}},f)};d.$3=function(a,c,d){__p&&__p();var e=this;this.$4();c=k(this.props.threadlistOrderMap,a,c);var f=d||(c?c.threadlist:[]);d=[].concat.apply([],f);this.$1=b("MessengerState.bs").getMultiThreadMeta(this.props.viewer,d,function(b){e.setState(function(c){var d=c.threads.set(a,e.$15(f,b));return babelHelpers["extends"]({},c,{threads:d})})});this.$16()};d.$16=function(){var a=this,c=b("MessengerState.bs").getPinnedThreadlist(this.props.viewer);b("MessengerConfig").MPT>0&&c.reverse();b("MessengerState.bs").getMultiThreadMeta(this.props.viewer,c,function(b){a.setState({pinnedThreads:a.$15(c,b)})})};d.$15=function(a,b){return a.map(function(a){if(Array.isArray(a))return a.map(function(a){return b[a]});else return b[a]})};d.$12=function(a,b,c){var d=i,e=k(c,a,b);return!!(e&&(e.threadlist.length>=d||l(c,a,b)))};d.$4=function(){this.$1&&b("MessengerState.bs").unsubscribeThread(this.props.viewer,this.$1)};return c}(b("React").Component);c.defaultProps={source:b("MercuryAPIArgsSource").JEWEL};e.exports=c}),null);
__d("MessengerConstants",[],(function(a,b,c,d,e,f){"use strict";a={NEW_THREAD_KEY:"new",BROWSER_EXTENSIONS_DIALOG_DIMENSIONS:{HEIGHT:604,WIDTH:405}};e.exports=a}),null);
__d("MessengerRecentContainer.react",["requireCond","MercuryAPIArgsSource","MercuryThreadlistContainer.react","MessengerComposerSteps","MessengerComposerStore","MessengerState.bs","PureStoreBasedStateMixin","React","cr:1016907"],(function(a,b,c,d,e,f){"use strict";var g=b("cr:1016907").jsComponent;a=b("React").PropTypes;c=b("React").createClass({displayName:"MessengerRecentContainer",mixins:[b("PureStoreBasedStateMixin")(b("MessengerComposerStore"))],propTypes:{activeThreadID:a.string,blockedIds:a.any,filter:a.string.isRequired,folder:a.string.isRequired,maxHeight:a.number,pendingFolderUnseenCount:a.number,readReceipts:a.any,viewer:a.string.isRequired,hideThreadListHeader:a.bool,isDenseRow:a.bool,hideSearchBox:a.bool,searchInputPortalRef:a.any},statics:{calculateState:function(){return{isComposing:b("MessengerComposerStore").getState().step!==b("MessengerComposerSteps").NULL}}},render:function(){var a=this;return b("React").createElement(b("MessengerState.bs").jsComponent,{fbid:this.props.viewer},function(c){return b("React").createElement(b("MercuryThreadlistContainer.react"),{ChildClass:g,activeThreadID:a.props.activeThreadID,blockedIds:a.props.blockedIds,filter:a.props.filter,folder:a.props.folder,isComposing:a.state.isComposing,maxHeight:a.props.maxHeight,pendingFolderUnseenCount:a.props.pendingFolderUnseenCount,isNewMessageActive:a.props.isNewMessageActive,readReceipts:a.props.readReceipts,source:b("MercuryAPIArgsSource").WEBMESSENGER,threads:b("MessengerState.bs").threads(c),threadlistOrderMap:b("MessengerState.bs").threadlistOrderMap(c),viewer:a.props.viewer,hideThreadListHeader:a.props.hideThreadListHeader,isDenseRow:a.props.isDenseRow,hideSearchBox:a.props.hideSearchBox,searchInputPortalRef:a.props.searchInputPortalRef})})}});e.exports=c}),null);
__d("MessengerSearchSnapshotStack",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.stack=[]}var b=a.prototype;b.push=function(a){this.stack.push(a)};b.pop=function(){if(this.stack.length)return this.stack.pop();else return null};return a}();e.exports=a}),null);
__d("MessengerSearchState",["MessengerSearchSnapshotStack"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.snapshots=new(b("MessengerSearchSnapshotStack"))(),this.searchMode="none"}var c=a.prototype;c.enterUniversalSearch=function(){this.searchMode="root_search"};c.getSearchMode=function(){return this.searchMode};c.addSnapshot=function(a){this.snapshots.push(a)};c.goBack=function(){this.snapshots.pop()};return a}();e.exports=a}),null);
__d("MessengerGlobalSearchStore",["MessengerActions","MessengerSearchState","MessengerStore","qex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$MessengerGlobalSearchStore1=new(b("MessengerSearchState"))();return c}var d=c.prototype;d.getState=function(){return this.$MessengerGlobalSearchStore1};d.__onDispatch=function(a){switch(a.type){case b("MessengerActions").Types.ENTER_UNIVERSAL_SEARCH:b("qex")._("1097094")&&this.$MessengerGlobalSearchStore1.enterUniversalSearch();break;default:}};return c}(b("MessengerStore"));e.exports=new a()}),null);
__d("MessengerSearchContainer.react",["cx","fbt","ix","requireCond","Bootloader","Image.react","ImageBlock.react","Keys","Link.react","MercuryIDs","MessengerActions","MessengerContactAdapters","MessengerContactList.react","MessengerDotComAndInboxM4Check.bs","MessengerFlexScrollableArea.react","MessengerGlobalSearchContainer.react","MessengerGlobalSearchStore","MessengerSearchStore","MessengerSpinner.react","qex","MercuryThreadIDMap","MessengerThreadSearchActions","MessengerThreadSearchStore","MessengerTypeaheadUtils","MessengerUniversalSearchFunnelLoggerConstants","MessengerURIStore","MessengerView","React","StoreAndPropBasedStateMixin","emptyFunction","gkx","immutable","cr:1016907"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MercuryThreadIDMap").get(),k=b("immutable").OrderedMap,l=b("cr:1016907").jsComponent;a=b("React").PropTypes;var m=i("86933"),n=function(a){__p&&__p();var b,c;switch(a){case"friend":case"non_friend":b=h._("T\u00ecm ki\u1ebfm ng\u01b0\u1eddi");c=h._("M\u1ecdi ng\u01b0\u1eddi");break;case"page":b=h._("T\u00ecm ki\u1ebfm doanh nghi\u1ec7p");c=h._("Doanh nghi\u1ec7p");break;case"thread":b=h._("T\u00ecm ki\u1ebfm nh\u00f3m");c=h._("Nh\u00f3m");break;default:break}return[b,c]},o=function(){return b("React").createElement(b("ImageBlock.react"),{className:"_225c",spacing:"medium"},b("React").createElement(b("MessengerSpinner.react"),{className:"_2i59",color:"grey"}),b("React").createElement("div",{className:"_4g0h"},h._("\u0110ang t\u00ecm ki\u1ebfm...")))};c=b("React").createClass({displayName:"MessengerSearchContainer",mixins:[b("StoreAndPropBasedStateMixin")(b("MessengerSearchStore"),b("MessengerGlobalSearchStore"),b("MessengerThreadSearchStore"),b("MessengerURIStore"))],propTypes:{activeThreadID:a.string,blockedIds:a.object.isRequired,filter:a.string.isRequired,folder:a.string.isRequired,isComposing:a.bool,isLoaded:a.bool,isLoading:a.bool,isNewMessageActive:a.bool,maxHeight:a.number,viewer:a.string.isRequired,readReceipts:a.any,hideThreadListHeader:a.bool,isDenseMode:a.bool},statics:{calculateState:function(a){__p&&__p();a=b("MessengerURIStore").getState();h._("T\u00ecm ki\u1ebfm tr\u00ean Messenger");var c=b("MessengerGlobalSearchStore").getState();c=c.getSearchMode();if(b("qex")._("1097094")&&c)return{showUniversalSearchPage:!0};if(a.sa!=null&&a.seeAllType!=null){c=b("MessengerSearchStore").getState();a=n(a.seeAllType);var d=a[0];a=a[1];return{loading:c.loading,placeholder:d,query:c.query,seeAllType:a,showSeeAllView:!0,threads:c.threads||[],threadsExhausted:c.threadsExhausted}}else{d=b("MessengerThreadSearchStore").getState();a=h._("T\u00ecm ki\u1ebfm tin nh\u1eafn");return{loading:d.loading,placeholder:a,query:d.query,showSeeAllView:!1,threads:d.threads||[],threadsExhausted:d.threadsExhausted}}}},_subscriptions:null,render:function(){__p&&__p();var a=k();if(this.state.showUniversalSearchPage)return this._renderUniversalSearchPage();else{var c=this.state.query===null;if(c)return b("React").createElement(o,null)}if(this.state.showSeeAllView){this.state.threads.length>1&&(a=b("MessengerTypeaheadUtils").buildSingleSection(this.state.threads),this._logSearchImpressions(a));return this._renderSeeAllView(a)}else return this._renderMessageSearch()},_renderUniversalSearchPage:function(){var a=this;return b("React").createElement(b("MessengerFlexScrollableArea.react"),{onScroll:function(){a.refs.scrollableArea.isScrolledToBottom()},shouldStickToBottom:!1,ref:"scrollableArea"},b("React").createElement(b("MessengerGlobalSearchContainer.react"),{viewer:this.props.viewer}))},_renderSeeAllView:function(a){var c=this;return b("React").createElement(b("MessengerFlexScrollableArea.react"),{onScroll:function(){c.refs.scrollableArea.isScrolledToBottom()&&!c.state.threadsExhausted&&!c.state.loading?b("MessengerActions").loadMoreResults():null},shouldStickToBottom:!1,ref:"scrollableArea"},b("React").createElement("div",{className:"_1nq2 _7vup"},b("React").createElement("span",{className:"_5iwm _6-_b _5iwn _150g"},b("React").createElement("label",{className:"_58ak"},this._renderSearchInput()),b("React").createElement(b("Image.react"),{onMouseDown:this._handleClear,className:(this.state.query.length?"":"hidden_elem")+" _8aj2",src:m})),b("React").createElement(b("MessengerContactList.react"),{contactAdapter:b("MessengerContactAdapters").fromSearchableEntry,isLoading:this.state.loading,listSections:a,onSelect:this._handleSelect,queryString:this.state.query,seeAllType:this.state.seeAllType,showLoadMore:!this.state.threadsExhausted,viewer:this.props.viewer})))},_renderMessageSearch:function(){var a=!this.state.loading&&!!this.state.threads;return b("React").createElement(l,babelHelpers["extends"]({},this.props,{handleClear:this._handleClear,isLoaded:a,isLoading:this.state.loading,isSearching:!1,maxHeight:this.props.maxHeight,newMessageRequestThreads:[],onLoadMoreRequest:b("MessengerThreadSearchActions").loadMoreThreads,onQuery:b("MessengerActions").changeQueryAll,onSearchResults:b("emptyFunction"),searchPlaceholder:b("gkx")("997564")?null:this.state.placeholder,queryString:this.state.query,renderLoadMore:this._renderLoadMoreLink,readReceipts:this.props.readReceipts,threads:this.state.threads,hideThreadListHeader:this.props.hideThreadListHeader,isDenseMode:this.props.isDenseMode}))},_renderLoadMoreLink:function(){if(this.state.threadsExhausted)return this.state.threads.length>0||b("MessengerDotComAndInboxM4Check.bs").yes?null:b("React").createElement("div",{className:"_19hf"},b("React").createElement(b("Link.react"),{href:"#",onClick:this._handleClear},h._("Kh\u00f4ng t\u00ecm th\u1ea5y cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0o")));return this.state.loading?b("React").createElement(o,null):b("React").createElement("div",{className:"_19hf"},b("React").createElement(b("Link.react"),{href:"#",onClick:b("MessengerThreadSearchActions").loadMoreThreads,tabIndex:-1},h._("T\u1ea3i th\u00eam")))},_renderSearchInput:function(){var a=this;return b("React").createElement("input",{autoComplete:"off",className:"_58al _7tpc",disabled:this.state.loading,onChange:function(b){a.setState({newQuery:b.target.value})},onKeyDown:function(b){a._handleKeyDown(b)},placeholder:this.state.placeholder,spellCheck:!1,tabIndex:-1,type:"text",value:this.state.newQuery?this.state.newQuery:this.state.newQuery===""?"":this.state.query})},_handleClear:function(){b("MessengerActions").changeMasterView(b("MessengerView").MASTER.RECENT)},_handleKeyDown:function(a){a=a.keyCode;if(a===b("Keys").BACKSPACE&&this.state.newQuery&&this.state.newQuery.length===1){this.setState({newQuery:""});return}a===b("Keys").RETURN&&b("MessengerActions").changeQuery(this.state.newQuery)},_handleSelect:function(a,c){__p&&__p();c&&c.preventDefault();var d=a.getType();c=a.getUniqueID().split(":").pop();this._logResultSelected(c);switch(d){case"friend":case"non_friend":case"page":b("MessengerActions").selectThread(b("MercuryIDs").getThreadIDFromUserID(c),d);break;case"thread":a=function(a){return b("MessengerActions").selectThread(a,d)};j.getClientIDFromServerID(c,a);break}},_logSearchImpressions:function(a){var c=this;b("Bootloader").loadModules(["MessengerSearchLoggerUtil","MessengerUniversalSearchFunnelLogger"],function(d,e){var f=b("immutable").OrderedMap(),g=a.toArray();g[0].forEach(function(a){var c=a.getUniqueID(),e=c.split(":").pop();e={result_fbid:e,result_type:d.getLoggingTypeFromMercuryType(a.getType()),rank_section:b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.LOCAL_AND_SERVER,data_source:b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.SERVER};f=f.set(c,e)});e.logImpressions(f,c.state.query,"",b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.SERVER)},"MessengerSearchContainer.react")},_logResultSelected:function(a){var c=this;b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(d){d.logResultSelected(c.state.query,a,"",b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.TYPEAHEAD,b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_PAGES.SEE_ALL)},"MessengerSearchContainer.react");b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(a){return a.endFunnel(b("MessengerUniversalSearchFunnelLoggerConstants").END_REASONS.END_ACTION,b("MessengerUniversalSearchFunnelLoggerConstants").END_ACTIONS.RESULT_SELECTED,null,b("MessengerUniversalSearchFunnelLoggerConstants").ENTRY_SURFACES.INBOX,b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_PAGES.SEE_ALL)},"MessengerSearchContainer.react")}});e.exports=c}),null);
__d("MessengerAddIconSVGReact.bs",["fbt","React","ReasonReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=g._("th\u00eam v\u00e0o nh\u00f3m"),i=b("ReasonReact.bs").statelessComponent("MessengerAddIconSVGReact");function j(a,c,d){return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(){return b("React").createElement("div",{className:a},b("React").createElement("svg",{viewBox:"-8 -8 48 48"},b("React").createElement("title",void 0,h),b("React").createElement("path",{clipRule:"evenodd",d:"M16,0 V32 M0,16 H32",fill:"none",fillRule:"evenodd",stroke:c,strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"})))},i[9],i[10],i[11],i[12]]}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){return j(a.className,a.customColor,[])});f.addToGroup=h;f.component=i;f.make=j;f.jsComponent=a}),null);
__d("MessengerContextualDialogReact.bs",["bs_curry","ReasonReact.bs","bs_js_null_undefined","MessengerContextualDialog.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){if(a!==void 0)switch(a){case 0:return"center";case 1:return"left";case 2:return"right"}}function a(a,c,d,e,f,h,i,j,k){if(d!==void 0){var l=d;d=function(){return b("bs_js_null_undefined").fromOption(b("bs_curry")._1(l,0))}}else d=function(){return void 0};return b("ReasonReact.bs").wrapJsForReason(b("MessengerContextualDialog.react"),{alignment:b("bs_js_null_undefined").fromOption(g(a)),className:b("bs_js_null_undefined").fromOption(c),contextRef:d,offsetY:b("bs_js_null_undefined").fromOption(f),onBlur:b("bs_js_null_undefined").fromOption(e),onToggle:h,shown:b("bs_js_null_undefined").fromOption(i),width:b("bs_js_null_undefined").fromOption(j)},k)}f.stringOfAlignment=g;f.make=a}),null);
__d("MessengerDeliveryReceipt.bs",["bs_belt_Option","bs_belt_MapString"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("bs_belt_Option").getWithDefault(b("bs_belt_MapString").get(a,c),0)}c=b("bs_belt_Option").getWithDefault;f.$pipe$unknown=c;f.getDeliveryTimeOfThread=a}),null);
__d("MessengerThreadListLoggerUtil",["MessagingTag","QuickPerformanceLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map(),h=1;function i(a,c){return!a||!a.includes(b("MessagingTag").INBOX.toUpperCase())?null:c==null?25296905:25296906}function j(a,b,c){return[].concat(a||[],[b,c]).filter(Boolean).join("_")}function a(a,c,d){var e=i(a,c);if(!e)return;b("QuickPerformanceLogger").markerStart(e,h);g.set(j(a,c,d),h);h++}function c(a,c,d,e){var f=i(a,c);if(!f)return;a=j(a,c,d);c=g.get(a);c!=null&&(b("QuickPerformanceLogger").markerEnd(f,e,c),g["delete"](a))}e.exports={markerStart:a,markerEnd:c}}),null);
__d("MessengerThreadlistWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2400736096709519"};b.getQueryID=function(){return"507888296446124"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerGraphQLThreadlistFetcher.bs",["Promise","Utils.bs","bs_js_dict","BanzaiODS","bs_caml_array","WebGraphQL","bs_caml_format","CurrentUser","bs_js_primitive","MercuryServerRequestsConfig","MessengerThreadListLoggerUtil","ChatReliabilityInstrumentation","MessengerServerPayloadTransformer.bs","MessengerThreadlistWebGraphQLQuery"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){b("MessengerThreadListLoggerUtil").markerStart(a.tags,a.timestamp,a.limit);return new(b("MessengerThreadlistWebGraphQLQuery"))({limit:a.limit,before:a.timestamp,tags:a.tags,isWorkUser:b("CurrentUser").isWorkUser(),includeDeliveryReceipts:a.includeDeliveryReceipts,includeSeqID:a.includeSeqID,onlyPinnedThreads:a.onlyPinnedThreads})}function h(a,c,d,e){__p&&__p();var f=[],g=[],h={},i=[],j={},k=[void 0],l=[0],m=[];e.forEach(function(e,n){__p&&__p();n=b("bs_caml_array").caml_array_get(c,n);var o=b("Utils.bs").optionBoolToBool(b("bs_js_primitive").nullable_to_opt(n.onlyPinnedThreads)),p=[],q=[],r=[],s=e.viewer.pending_threads;s==null||(l[0]=s.unseen_count);e.viewer.message_threads.nodes.forEach(function(c){__p&&__p();if(c==null)return 0;else{var e=b("MessengerServerPayloadTransformer.bs").transformThread(a,c,d),g=b("MessengerServerPayloadTransformer.bs").transformParticipants(c);g.forEach(function(a){j[a.fbid]=a;return 0});var k;if(e.is_canonical){g=e.other_user_fbid;g==null?k=null:(p.push(g),k=g)}else{g=e.thread_fbid;g==null?k=null:(q.push(g),k=g)}r.push(e.thread_id);f.push(e);if(!(k==null)){g=b("MessengerServerPayloadTransformer.bs").transformReadReceipts(a,c);g!==void 0&&(h[k]=b("bs_js_primitive").valFromOption(g))}if(!(k==null)){g=b("MessengerServerPayloadTransformer.bs").transformDeliveryReceipts(c);if(g.length!==0){c=g[0];e.is_canonical?i.push({other_user_fbid:k,thread_fbid:null,time:b("bs_caml_format").caml_float_of_string(c.timestamp_precise)}):i.push({other_user_fbid:null,thread_fbid:k,time:b("bs_caml_format").caml_float_of_string(c.timestamp_precise)})}}if(!(k==null)&&o){m.push(k);return 0}else return 0}});s=e.viewer.message_threads.sync_sequence_id;s==null||(k[0]=b("bs_caml_format").caml_int_of_string(s));if(o)return 0;else{e=n.timestamp;g.push({folder:n.folder,other_user_fbids:p,thread_fbids:q,thread_ids:r,filter:n.filter,limit:e==null?n.limit:n.limit-1|0});return 0}});return{threads:f,ordered_threadlists:g,pending_folder_unseen_count:l[0],roger:h,delivery_receipts:i,participants:b("bs_js_dict").values(j),sequence_id:k[0],pinned_thread_ids:m}}function i(a,c){a.forEach(function(a){b("MessengerThreadListLoggerUtil").markerEnd(a.tags,a.timestamp,a.limit,c);return 0});return 0}function a(a,c,d,e){var f=c.map(g);return b("Promise").all(b("WebGraphQL").execAll(f,{actorID:d?a:null,batchName:"MessengerGraphQLThreadlistFetcher",msgrRegion:b("MercuryServerRequestsConfig").msgrRegion,allowCrossPageTransition:!0}))["catch"](function(a){b("BanzaiODS").bumpEntityKey(2966,"messenger_webgraphql",e+".failure");i(c,"FAIL");b("ChatReliabilityInstrumentation").logERROR("fetch_thread_list_fail");return b("Promise").reject(a)}).then(function(f){b("BanzaiODS").bumpEntityKey(2966,"messenger_webgraphql",e+".success");i(c,"SUCCESS");return h(a,c,d,f)})}f._getQuery=g;f.transform=h;f.markerEnd=i;f.fetchAll=a}),null);
__d("MercuryShareAttachmentSnippet.react",["MercuryShareAttachmentReactShape","MercuryShareStyleMap","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("MercuryShareStyleMap").getStyleFactory(this.props.attachment);if(a.factory&&!!a.factory.getSnippetComponent){var c=a.factory.getSnippetComponent();return b("React").createElement(c,babelHelpers["extends"]({},this.props,{attachment:a.attachment}))}return null};return c}(b("React").Component);c.propTypes={attachment:b("MercuryShareAttachmentReactShape"),isSenderViewer:a.bool,senderName:a.oneOfType([a.string,a.object])};e.exports=c}),null);
__d("MercuryAttachmentSnippet.react",["cx","fbt","ix","EmoticonsList","Image.react","MercuryAttachment","MercuryAttachmentSnippetRenderer","MercuryAttachmentSnippetType","MercuryIDs","MercuryShareAttachmentSnippet.react","MessengerParticipants.bs","MessengerTextWithEmoticons.react","React","StickerConstants","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(a){c.$20=a.viewer,c.$21=a.thread.snippet_sender,c.$5=a.thread.snippet_attachments,c.$19=j(c.$21,c.$20)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1(this.props.thread.snippet_sender),this.$2(this.props)};d.UNSAFE_componentWillReceiveProps=function(a){this.$1(a.thread.snippet_sender),this.$2(a)};d.componentWillUnmount=function(){this.$3()};d.render=function(){__p&&__p();var a=this.$4(),c=b("MercuryAttachmentSnippetRenderer").getAttachmentSnippetType(this.$5);switch(c){case b("MercuryAttachmentSnippetType").PHOTO:return this.$6(a);case b("MercuryAttachmentSnippetType").GIF:return this.$7(a);case b("MercuryAttachmentSnippetType").VIDEO:return this.$8(a);case b("MercuryAttachmentSnippetType").AUDIO_CLIP:return this.$9(a);case b("MercuryAttachmentSnippetType").LIKE_STICKER:return this.$10(a);case b("MercuryAttachmentSnippetType").STICKER:return this.$11(a);case b("MercuryAttachmentSnippetType").SHARE:return this.$12(a);case b("MercuryAttachmentSnippetType").GIFT:return this.$13(a);case b("MercuryAttachmentSnippetType").FILE:return this.$14(a);case b("MercuryAttachmentSnippetType").ERROR:return this.$15(a);case b("MercuryAttachmentSnippetType").THIRDPARTYSTICKER:return this.$16(a);default:return this.$17(a)}};d.$6=function(a){return this.$18(b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").PHOTO,this.$19,a,this.$5))};d.$14=function(a){return this.$18(b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").FILE,this.$19,a,this.$5))};d.$7=function(a){return this.$18(b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").GIF,this.$19,a,this.$5))};d.$8=function(a){return this.$18(b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").VIDEO,this.$19,a))};d.$9=function(a){return this.$18(b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").AUDIO_CLIP,this.$19,a))};d.$16=function(a){return b("React").createElement("span",null,b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").THIRDPARTYSTICKER,this.$19,a))};d.$10=function(a){var c=b("React").createElement(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,text:b("EmoticonsList").symbols.like});if(this.$19)return b("React").createElement("span",null,h._("B\u1ea1n: {conversation_snippet}",[h._param("conversation_snippet",c)]));else return this.props.thread.is_canonical?b("React").createElement("span",null,h._("{conversation_snippet}",[h._param("conversation_snippet",c)])):b("React").createElement("span",null,h._("{sender name}: {conversation_snippet}",[h._param("sender name",a),h._param("conversation_snippet",c)]))};d.$11=function(a){return b("React").createElement("span",null,b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").STICKER,this.$19,a))};d.$12=function(a){return this.$5[0].share?b("React").createElement(b("MercuryShareAttachmentSnippet.react"),{attachment:this.$5[0].share,senderName:a,isViewerSender:this.$19}):this.$18(b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").SHARE,this.$19,a))};d.$13=function(a){return b("React").createElement("span",null,b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").GIFT,this.$19,a))};d.$17=function(a){var c=this;return b("React").createElement("span",null,this.$5.filter(function(a){return a.attach_type==="file"||a.attach_type==="photo"||a.attach_type==="video"}).map(function(a,b){return c.$18(a.name,a.icon_type,b)}))};d.$18=function(a,c,d){c=b("MercuryAttachment").getAttachIconClass(c||this.$5[0].icon_type);c=b("joinClasses")(c,"uiIconText _3l6h");return b("React").createElement("span",{key:d},b("React").createElement("span",{className:c},b("React").createElement(b("Image.react"),{src:i("86988")})),a)};d.$15=function(a){a=b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").ERROR,this.$19,a);return this.$18(a)};d.$4=function(){if(!this.$21||this.$19)return null;var a=b("MessengerParticipants.bs").getNow(this.$21);if(!a)return null;var c=b("MercuryIDs").getUserIDFromParticipantID(this.$21);c=this.props.thread.custom_nickname&&this.props.thread.custom_nickname[c];c&&(c=b("React").createElement(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:c}));return c?c:a.short_name};d.$1=function(a){var c=this;if(!a)return;this.$3();b("MessengerParticipants.bs").getNow(a)||(this.$22=b("MessengerParticipants.bs").get(a,function(a){return c.forceUpdate()}))};d.$3=function(){this.$22&&b("MessengerParticipants.bs").removeCallback(this.$22)};return c}(b("React").Component);c.propTypes={thread:a.object.isRequired,viewer:a.string.isRequired};function j(a,c){return!!(a&&b("MercuryIDs").getParticipantIDFromUserID(c)==a)}e.exports=c}),null);
__d("AdPageMessageTypeEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AD_ADMIN_TEXT:"ad_admin_text",AD_TEXT:"ad_text",AD_BUBBLE:"ad_bubble"})}),null);
__d("MNAdsLogMessageUtils",["AdPageMessageTypeEnum","MercuryConfig","MessagingTag"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MercuryConfig").LOG_INTERVAL_MS||6e4;a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.isLoggedWithinInterval=function(a){return this.$1[a]&&this.$1[a]-Date.now()<g?!0:!1};c.setLoggingTime=function(a){this.$1[a]=Date.now()};c.logAdsThreadListImpression=function(a){switch(a.folder){case b("MessagingTag").INBOX:this.logWithThreadMetaData(a,"messenger_ads_message_seen_inbox");break;case b("MessagingTag").PENDING:this.logWithThreadMetaData(a,"messenger_ads_message_seen_request");break;default:return}};c.logWithThreadMetaData=function(a,c){if(a.last_message_type!==b("AdPageMessageTypeEnum").NON_AD)return};return a}();e.exports=new a()}),null);
__d("MercuryThreadSnippet.react",["cx","fbt","MercuryAttachmentSnippet.react","MercuryIDs","MessengerTextWithEmoticons.react","MNAdsLogMessageUtils","React","StoryAttachmentStyle","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){return this.props.shouldRenderYou!==a.shouldRenderYou||this.props.thread!==a.thread||this.props.viewer!==a.viewer||this.props.className!==a.className||!b("immutable").is(a.participants,this.props.participants)};d.render=function(){return b("React").createElement("span",{className:this.props.className},this.$1(),this.$2())};d.$1=function(){return!this.props.thread.snippet||!i(this.props.thread)?null:b("React").createElement("span",{className:"_j0r"})};d.$2=function(){__p&&__p();var a,c,d=this.props.thread,e=b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer),f=d.snippet?d.snippet.toString():null,g=this.props.shouldRenderYou;if(d.snippetCount!=null)return h._({"*":"{number} k\u1ebft qu\u1ea3","_1":"1 k\u1ebft qu\u1ea3"},[h._plural(d.snippetCount,"number")]);c=(c=d)!=null?(c=c.snippet_attachments)!=null?(c=c[0])!=null?c.share:c:c:c;a=(a=c)!=null?(a=a.style_list)!=null?a[0]:a:a;c=(c=c)!=null?c.title:c;if((a==="instant_games_leaderboard_update"||a==="instant_games_custom_update")&&c)return c;if(f==null&&d.snippet_attachments&&d.snippet_attachments.length>0||!d.snippet_sender)return this.$3(f);a=this.$3(f);b("MNAdsLogMessageUtils").logAdsThreadListImpression(d);c=k(d);if(c)return h._("{name}: {conversation_snippet}",[h._param("name",c),h._param("conversation_snippet",a)]);if(d.snippet_sender===e)return!g?a:h._("B\u1ea1n: {conversation_snippet}",[h._param("conversation_snippet",a)]);if(b("MercuryIDs").isCanonical(d.thread_id)&&!this.props.shouldAlwaysRenderSender)return a;f=this.props.participants.get(d.snippet_sender);if(!f)return a;c=f.short_name||f.name;if(d){e=d.custom_nickname?d.custom_nickname:null;g=b("MercuryIDs").getUserIDFromParticipantID(f.id);e&&g&&e[g]&&(c=b("React").createElement(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:e[g]}))}return!c?a:h._("{name}: {conversation_snippet}",[h._param("name",c),h._param("conversation_snippet",a)])};d.$3=function(a){if(a&&a.startsWith("?OTR"))return h._("[tin nh\u1eafn \u0111\u00e3 m\u00e3 h\u00f3a]");var c=this.props.thread;if(i(c)||j(c))return b("React").createElement(b("MercuryAttachmentSnippet.react"),{thread:c,viewer:this.props.viewer});return a?b("React").createElement(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:a}):null};return c}(b("React").Component);c.propTypes={participants:a.instanceOf(b("immutable").Map).isRequired,shouldAlwaysRenderSender:a.bool,shouldRenderYou:a.bool,thread:a.object.isRequired,viewer:a.string.isRequired};function i(a){return!!(a.snippet_attachments&&a.snippet_attachments.length>0&&!(a.snippet_attachments[0].attach_type==="share"&&(!a.snippet_attachments[0].share||a.snippet_attachments[0].share.subattachments.length===0)))}function j(a){a=a.snippet_attachments;return a&&a.length===1&&a[0].attach_type==="share"&&(a[0].share.style_list.indexOf("message_location")>=0||a[0].share.style_list.indexOf("message_live_location")>=0)}function k(a){return a&&a.snippet_attachments&&a.snippet_attachments[0]&&a.snippet_attachments[0].share&&a.snippet_attachments[0].share.target&&a.snippet_attachments[0].share.target.genie_name?a.snippet_attachments[0].share.target.genie_name:null}e.exports=c}),null);
__d("MercuryMessageStore",["CurrentUser","LogHistory","MercuryAPIArgsSource","MercuryThreadInformer","MercuryThreadlistConstants","MessengerState.bs","SubscriptionsHandler","mixInEventEmitter","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LogHistory").getInstance("mercury_message_store");a=function(){__p&&__p();function a(a,c,d){__p&&__p();var e=this;this.$5=a;this.$1=d||b("CurrentUser").getID();this.$2=1;this.$3=c||b("MercuryThreadlistConstants").RECENT_MESSAGES_LIMIT;this.$6=d?b("MercuryThreadInformer").getForFBID(d):b("MercuryThreadInformer").get();this.$4=new(b("SubscriptionsHandler"))();this.$4.addSubscriptions(this.$6.subscribe("messages-received",function(a,b){return e.$7(b)}),this.$6.subscribe("messages-updated",function(a,b){return b[e.$5]&&e.$8(b[e.$5])}),this.$6.subscribe("messages-reordered",function(a,b){return b[e.$5]&&e.$9()}),this.$6.subscribe("thread-invalidated",function(a,b){return b[e.$5]&&e.$10()}));a=this.$11();g.debug("constructed",JSON.stringify({threadID:this.$5,messageCount:a}));a<this.$3?this.$12():b("setImmediate")(function(){e.$9()})}var c=a.prototype;c.destroy=function(){this.$4&&this.$4.release(),g.debug("destroyed",JSON.stringify({threadID:this.$5}))};c.subscribe=function(a){return this.addRetroactiveListener("updated",a)};c.fetchMoreMessages=function(){if(this.hasFetchedAll())return!1;this.$12();return!0};c.hasFetchedAll=function(){return b("MessengerState.bs").hasLoadedAllMessages(this.$1,this.$5)||b("MessengerState.bs").isNewEmptyLocalThread(this.$1,this.$5)};c.$11=function(){return b("MessengerState.bs").getCurrentlyLoadedMessages(this.$1,this.$5).length};c.$12=function(){var a=this,c=this.$3;b("MessengerState.bs").getThreadMessagesRange(this.$1,this.$5,this.$11(),c,this.$13.bind(this),null,b("MercuryAPIArgsSource").MERCURY);this.$2<10&&(this.$2+=1);b("MessengerState.bs").hasLoadedNMessages(this.$1,this.$5,c+this.$11())&&b("setImmediate")(function(){a.$9()})};c.$13=function(b){g.debug("fetch_messages",JSON.stringify({threadID:this.$5,fetchedMessagesCount:b&&b.length||0,messageCount:this.$11()})),b&&!b.length&&!this.$11()&&this.$14(a.THREAD_IS_EMPTY)};c.$7=function(b){var c=[];b=b[this.$5];b&&b.length&&(c=c.concat(b.filter(function(a){return!!a})));c.length&&this.$14(a.MESSAGES_RECEIVED)};c.$8=function(b){this.$14(a.MESSAGES_CHANGED)};c.$9=function(){this.$14(a.MESSAGES_REORDERED)};c.$10=function(){this.$2=1,this.$12()};c.$14=function(a){var c=b("MessengerState.bs").getCurrentlyLoadedMessages(this.$1,this.$5);this.releaseHeldEventType("updated");this.emitAndHold("updated",{messages:c,eventType:a})};return a}();Object.assign(a,{MESSAGES_FETCHED:"fetched",MESSAGES_CHANGED:"changed",MESSAGES_RECEIVED:"received",MESSAGES_REORDERED:"reordered",THREAD_IS_EMPTY:"thread-is-empty"});b("mixInEventEmitter")(a,{updated:!0});e.exports=a}),null);
__d("MNCommerceDialogStateActions",["MessengerDispatcher","MNCommerceActionTypes"],(function(a,b,c,d,e,f){"use strict";a={showDialog:function(a,c){b("MessengerDispatcher").dispatch({type:b("MNCommerceActionTypes").DIALOG.SHOW,dialogContainer:a,state:c})},hideDialog:function(){b("MessengerDispatcher").dispatch({type:b("MNCommerceActionTypes").DIALOG.HIDE})}};e.exports=a}),null);
__d("MessengerSortParticipants",["immutable"],(function(a,b,c,d,e,f){a={sortAlphabeticalWithAdmins:function(a,b){var c=b.filter(function(b){return!!b&&a&&a.indexOf(b.fbid)!==-1}).toArray().sort(function(a,b){return a.name.localeCompare(b.name)});b=b.filter(function(b){return!!b&&(!a||a.indexOf(b.fbid)===-1)}).toArray().sort(function(a,b){return a.name.localeCompare(b.name)});return c.concat(b)}};e.exports=a}),null);