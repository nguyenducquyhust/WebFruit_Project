if (self.CavalryLogger) { CavalryLogger.start_js(["wznLy"]); }

__d("VideoPlayerArtilleryTrace",["TimeSliceInteraction","UserAgentData","VideoPlayerArtilleryOperationMarker","VideoPlayerArtilleryPointGrouper"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=3e4,h=3e3;a=function(){__p&&__p();function a(a,c){__p&&__p();var d=this;this.$12=function(){var a=d.$2;if(a){var b=a.stallTrace,c=a.hasStalls;a=a.stallTraceTimeout;c?b.finish():b.disable();clearTimeout(a)}d.$2=null};this.$16=function(){return d.$1};this.$17=function(){var a=d.$2;return a?a.stallTrace:null};this.$3=c.videoID;this.$4=c.video;this.$5=a;this.$6=c.isLive;this.$8=c.playerOrigin;this.$9=c.playerSuborigin;this.$7=0;this.$10=new(b("VideoPlayerArtilleryPointGrouper"))()}var c=a.prototype;c.updateBufferAhead=function(a){var c=this.$2;!c&&a<=h?this.$2={stallTrace:this.$11(b("TimeSliceInteraction").create("video_stall")),hasStalls:!1,stallTraceTimeout:setTimeout(this.$12,g)}:a>h&&this.$12()};c.enterState=function(a){switch(a){case"loading":this.$13();break;case"playing":this.$14();break;default:this.$15(a);break}return this};c.$15=function(a){var b=this.$1;b&&b.inform("State: "+a)};c.getMarkers=function(a){var c=[],d=(++this.$7).toString();this.$1&&c.push(new(b("VideoPlayerArtilleryOperationMarker"))(a,d,this.$16,this.$10));var e=this.$2;e&&(a==="buffering"&&(e.hasStalls=!0),c.push(new(b("VideoPlayerArtilleryOperationMarker"))(a,d,this.$17,this.$10)));return c};c.$13=function(){var a=this.$11(b("TimeSliceInteraction").create("video_psr"));this.$1=a;this.$15("loading")};c.$14=function(){this.$15("playing");var a=this.$1;a&&(a.finish(),this.$1=null)};c.$11=function(a){a.trace().addStringAnnotation("videoID",this.$3).addStringAnnotation("sessionID",this.$5).addStringAnnotation("browserName",b("UserAgentData").browserName).addStringAnnotation("browserVersion",b("UserAgentData").browserVersion).addStringAnnotation("isLive",this.$6.toString()).addStringAnnotation("playerOrigin",this.$8||"").addStringAnnotation("playerSuborigin",this.$9||"");return a};return a}();e.exports=a}),null);
__d("VideoPlayerBitrateEstimator",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();(function(){function a(){}var b=a.prototype;b.sample=function(a,b){};b.getTotalWeight=function(){return 0};b.getEstimate=function(){return 0};b.reset=function(){};return a})();a=function(){__p&&__p();function a(a,b,c,d){this.$1=a,this.$2=b,this.$3=c,this.$4=d}var b=a.prototype;b.getEstimate=function(){return this.$1.getTotalWeight()<this.$3?this.$2:Math.round(this.$1.getEstimate())};b.sample=function(a,b){a=a/b;b=b;a>this.getEstimate()&&(b*=this.$4,this.$1.reset());this.$1.sample(b,a)};return a}();e.exports=a}),null);
__d("XRlAbrController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/repomen/",{reason:{type:"String"},query:{type:"FloatVector"},bitrates:{type:"FloatVector"},action:{type:"Int"},action_prob:{type:"FloatVector"},id:{type:"Int"},session_id:{type:"String"},smc_tier:{type:"String"},model_id:{type:"String"},mdp_step:{type:"Int"},prev_reward:{type:"Float"},label_0:{type:"Float"},label_1:{type:"Float"},label_2:{type:"Float"},label_3:{type:"Float"},label_4:{type:"Float"},label_5:{type:"Float"},label_6:{type:"Float"},label_7:{type:"Float"},label_8:{type:"Float"},label_9:{type:"Float"}})}),null);
__d("UnitConstants",[],(function(a,b,c,d,e,f){"use strict";a=8;e.exports={BITS_IN_BYTE:a}}),null);
__d("NetworkStatusDetector",["EventEmitter","clearInterval","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1e3,h=9999;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$NetworkStatusDetector3=!0;c.$NetworkStatusDetector4=!1;c.$NetworkStatusDetector2=Date.now();c.$NetworkStatusDetector1=b("setIntervalAcrossTransitions")(function(){return c.$NetworkStatusDetector5()},g);return c}var d=c.prototype;d.destroy=function(){b("clearInterval")(this.$NetworkStatusDetector1)};d.$NetworkStatusDetector5=function(){var a=this.$NetworkStatusDetector2;this.$NetworkStatusDetector2=Date.now();var b=this.$NetworkStatusDetector3;this.$NetworkStatusDetector3=this.getOnLineStatus();this.emitIfOnLineStateChanges(a,this.$NetworkStatusDetector2,b,this.$NetworkStatusDetector3)};d.emitIfOnLineStateChanges=function(a,b,c,d){!c&&d?this.emit("onLine"):c&&!d&&this.emit("offLine");c=h;b-a>c&&this.emit("systemWake",{sleepStartTime:a,sleepEndTime:b})};d.informNetworkInterrupted=function(){this.$NetworkStatusDetector4||(this.$NetworkStatusDetector4=!0,this.emit("networkInterrupted"))};d.informNetworkResumed=function(){this.$NetworkStatusDetector4&&(this.$NetworkStatusDetector4=!1,this.emit("networkResumed"))};d.isNetworkInterrupted=function(){return this.$NetworkStatusDetector4};d.getOnLineStatus=function(){return window&&window.navigator&&window.navigator.onLine!==void 0?window.navigator.onLine:!0};return c}(b("EventEmitter"));e.exports=a}),null);
__d("VideoSegmentInfoHelper",["URI","VideoAkamaiRequestHelper","VideoDashPrefetchCache","XHRRequest","getCrossOriginTransport"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();a=a.requestInfo;var c=new(b("XHRRequest"))(g(a)).setMethod("GET").setResponseType("arraybuffer").setTransportBuilder(b("getCrossOriginTransport")),d=/livestream\-lookaside\.(facebook|workplace)\.com$/;d=d.test(c.getURI().getDomain());d&&c.setTransportBuilder(b("getCrossOriginTransport").withCredentials);if(b("VideoAkamaiRequestHelper").isAkamai(a.baseUrl)){var e=b("VideoAkamaiRequestHelper").getRequestHeaders(a);e&&Object.keys(e).forEach(function(a){c.setRequestHeader(a,e[a])})}return c}function c(a){a=a.requestInfo;var b=a.startByte;a=a.endByte;return b&&a?a-b:null}function g(a){__p&&__p();var c=a.baseUrl,d=a.isPredictive,e=a.startByte,f=a.endByte;c=new(b("URI"))(c);d&&(c=c.addQueryData({_nc_sc:1}));if(!b("VideoAkamaiRequestHelper").isAkamai(a.baseUrl)){if(e===0&&f==null)return c;c=c.addQueryData({bytestart:e});f!=null&&(c=c.addQueryData({byteend:f}))}return c}function d(a){return b("VideoDashPrefetchCache").hasCacheValue(g(a.requestInfo).toString())}function f(a){return a.baseUrl+","+(a.startByte||0)+(","+(a.endByte||0))}e.exports={createRequest:a,estimateRequestSize:c,getRequestUri:g,isPrefetchedRequest:d,getRequestCacheKey:f}}),null);
__d("VideoPriorityCalculator",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(){return 2}function h(a,b){var c=a.playhead,d=a.bufferEnd;a=a.isPlaying;d=d-c<=b?0:1;c=a?0:1;return g()-d-c}function a(a,b,c){var d=a.playhead,e=a.bufferEnd;if(!c)return h(a,b);e=e-d;return e<=c?g():h(a,b)}e.exports={calculate:h,calculateLive:a,getMaxPriority:g}}),null);
__d("VideoSegmentPromiseBuffer",["VideoPlayerShakaGlobalConfig"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=new Map()}var c=a.prototype;c.appendSegmentPromise=function(a,b){this.$1.set(a,b);return this};c.hasSegmentPromise=function(a){return this.$1.has(a)};c.getSegmentPromise=function(a){var c=this.$1.get(a)||null;if(!b("VideoPlayerShakaGlobalConfig").getBool("fix_promise_buffer_caches_rejected_promises",!0))return c;c&&c.getState()==="rejected"&&this.$1["delete"](a);return c};c.hasOtherPendingSegments=function(a){var b=new Set(a);return Array.from(this.$1.entries()).some(function(a){return a[1].isPending()&&!b.has(a[0])})};c.isFirstPendingSegment=function(a){__p&&__p();var b=this.$1.get(a);if(!b||!b.isPending())return!1;var c;for(var b=this.$1.entries(),d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;if(f[1].isPending()){c=f[0];break}}return c===a};c.clearAllSegmentPromises=function(){this.$1.clear();return this};c.removeSegmentPromisesOlderThan=function(a,b){__p&&__p();if(!this.hasSegmentPromise(a)){b.getBool("fixing_old_promise_clearance",!0)&&this.$1.clear();return}for(var b=this.$1.keys(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(e===a)return;this.$1["delete"](e)}};c.removeSegmentPromise=function(a){this.$1["delete"](a)};return a}();e.exports=a}),null);
__d("VideoPlayerResourceTimer",["VideoPlayerShakaGlobalConfig"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getResourceTimingEntry:function(a,c,d){__p&&__p();if(performance.getEntriesByType){a=performance.getEntriesByName(a,"resource");var e=[];a.forEach(function(a){typeof a.responseEnd==="number"&&typeof a.responseStart==="number"&&typeof a.requestStart==="number"&&typeof a.connectEnd==="number"&&typeof a.connectStart==="number"&&typeof a.domainLookupEnd==="number"&&typeof a.domainLookupStart==="number"&&typeof a.transferSize==="number"&&a.responseEnd<=d&&a.startTime>=c&&(!b("VideoPlayerShakaGlobalConfig").getBool("ignore_invalid_timing_entries",!1)||typeof a.responseEnd==="number"&&typeof a.responseStart==="number"&&typeof a.startTime==="number"&&a.responseStart>a.startTime&&a.responseEnd>a.startTime&&a.responseStart>0&&a.responseEnd>0)&&e.push({entry:{timeToFirstByte:a.responseStart-a.startTime,timeToLastByte:a.responseEnd-a.startTime,timeToRequestStart:a.requestStart-a.startTime,timeToConectionEnd:a.connectEnd-a.startTime,timeToConnectionStart:a.connectStart-a.startTime,timeToDomainLookupEnd:a.domainLookupEnd-a.startTime,timeToDomainLookupStart:a.domainLookupStart-a.startTime,transferSize:a.transferSize,startTime:a.startTime},sort:a.responseEnd})});e.sort(function(a,b){return b.sort-a.sort});if(e.length)return e[0].entry}return null}};e.exports=a}),null);
__d("getXHRRequestHandlerHelper",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b,c,d){var e=b.call(a);c.call(a,Object.assign(function(){e&&e.apply(void 0,arguments),d.apply(void 0,arguments)},e,d))}var h=function(){__p&&__p();function a(a){this.$1=a}var b=a.prototype;b.addResponseHandler=function(a){g(this.$1,this.$1.getResponseHandler,this.$1.setResponseHandler,a);return this};b.addAbortHandler=function(a){g(this.$1,this.$1.getAbortHandler,this.$1.setAbortHandler,a);return this};b.addErrorHandler=function(a){g(this.$1,this.$1.getErrorHandler,this.$1.setErrorHandler,a);return this};b.addTimeoutHandler=function(a){g(this.$1,this.$1.getTimeoutHandler,this.$1.setTimeoutHandler,a);return this};b.addNetworkFailureHandler=function(a){g(this.$1,this.$1.getNetworkFailureHandler,this.$1.setNetworkFailureHandler,a);return this};return a}();function a(a){return new h(a)}e.exports=a}),null);
__d("VideoSegmentRequestQueue",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=function(){},this.$2=new Map(),this.$3=new Map()}var b=a.prototype;b.dequeue=function(){__p&&__p();var a=this.$3.entries().next().value;if(a){this.$3["delete"](a[0]);return a[1]||null}a=this.$2.entries().next().value;if(!a)return null;this.$2["delete"](a[0]);return a[1]||null};b.setOnItemAdded=function(a){this.$1=a};b.append=function(a,b,c){this.$4(a,b,c,this.$2,"append");return this};b.clearNormalQueue=function(){this.$2.clear()};b.changeToTopPri=function(a){var b=this.$2.get(a);b&&(this.$2["delete"](a),this.$3.set(a,b))};b.removeTopPriSegment=function(a){var b=this.$3.get(a);this.$3["delete"](a);return b?b.xhrRequest:null};b.isEmpty=function(){return this.$2.size===0&&this.$3.size===0};b.prependTopPri=function(a,b,c){var d=this.$3;this.$3=new Map();this.$5(a,b,c,d,this.$3)};b.prepend=function(a,b,c){var d=this.$2;this.$2=new Map();this.$5(a,b,c,d,this.$2)};b.$5=function(a,b,c,d,e){var f=this;this.$4(a,b,c,e,"prepend");d.forEach(function(b,c){var a=b.xhrRequest;b=b.estimatedSize;f.$6(c,a,b,e)})};b.$4=function(a,b,c,d,e){this.$6(a,b,c,d),this.$1(e)};b.$6=function(a,b,c,d){b={xhrRequest:b,estimatedSize:c};d.set(a,b)};return a}();e.exports=a}),null);
__d("createVideoResponsePromise",["Promise","VideoPlayerShakaError","VideoPlayerShakaGlobalConfig","getXHRRequestHandlerHelper","performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=window.Promise||b("Promise");b("Promise").resolve();function a(a){__p&&__p();var c,d=a.getURI().toString(),e=a.send;a.send=function(){c=b("performanceNow")(),e.call(a)};var f=new g(function(e,f){__p&&__p();var g=b("getXHRRequestHandlerHelper")(a).addResponseHandler(function(a){e({response:a,responseTime:b("performanceNow")()-c})}).addAbortHandler(function(a){if(a==="reschedule")return;a={errorMsg:"Request aborted.",errorType:"abort",errorCode:b("VideoPlayerShakaGlobalConfig").getBool("fix_shaka_xhr_error_status",!0)?"":0,errorRawTransportStatus:0,errorRawResponseHeaders:null};a=b("VideoPlayerShakaError").translateError(a,d,"aborted");f(a)}).addErrorHandler(function(a){a=b("VideoPlayerShakaError").translateError(a,d,"net");f(a)}).addNetworkFailureHandler(function(a){if(b("VideoPlayerShakaGlobalConfig").getBool("xhr_handle_network_failure",!0)){a=b("VideoPlayerShakaError").translateError(a,d,"net");f(a)}});b("VideoPlayerShakaGlobalConfig").getNumber("request_pipeline_timeout_ms",0)&&g.addTimeoutHandler(function(){var a=b("VideoPlayerShakaError").createTimeoutError(d);f(a)})});return f}e.exports=a}),null);
__d("VideoSegmentRequestPipeline",["NetworkRequestPipeline","SubscriptionsHandler","VideoClientEdgeCooperation","VideoPipelineProvider","VideoPlayerResourceTimer","VideoPlayerShakaError","VideoPriorityCalculator","VideoSegmentInfoHelper","VideoSegmentRequestQueue","createVideoResponsePromise","getXHRRequestHandlerHelper","performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,c,d,e,f,g,h){__p&&__p();var i=this;this.$2=new Map();this.$3=new Map();this.$4=null;this.$5=null;this.$11=new Map();this.$12=new Map();this.$13=null;this.$15=0;this.$16=new(b("SubscriptionsHandler"))();this.$20=function(){if(i.$19()===b("VideoPriorityCalculator").getMaxPriority())return;i.$1.getBool("enable_rescheduler",!1)&&i.$11.size>0&&i.$24()};this.$1=a;this.$18=g;this.$10=new(b("VideoSegmentRequestQueue"))();if(this.$1.getBool("enable_global_scheduler",!0)){a=b("VideoPipelineProvider").getPriorityRequestQueueAndPipeline(c);g=a.requestQueue;a=a.pipeline;this.$13=g;this.$14=a}else this.$14=new(b("NetworkRequestPipeline"))(this.$10,{xhrHandleNetworkFailure:this.$1.getBool("xhr_handle_network_failure",!0),maxConcurrentRequests:this.$1.getNumber("request_pipeline_max_concurrent_requests",2),soothingFactor:this.$1.getNumber("request_pipeline_soothing_factor",2),fixFinishRequest:this.$1.getBool("skip_old_handler_on_finished_requests",!1),requestTimeout:this.$1.getNumber("request_pipeline_timeout_ms",0)});g=this.$13;g&&(g.setQueue(this.$10,this.$19()),this.$16.addSubscriptions(g.addListener("demand_reschedule",this.$20)));this.$8=c;this.$6=d;this.$7=h;this.$9=e;this.$17=f}var c=a.prototype;c.enqueue=function(a,c){var d=this,e=b("VideoSegmentInfoHelper").createRequest(a),f=b("VideoSegmentInfoHelper").estimateRequestSize(a),g=b("createVideoResponsePromise")(e),h=e.send;e.send=function(){d.$11.set(a,e),d.$21(a,e,c),h.call(e)};this.$10.append(a,e,f);this.$22();return g};c.lockRequest=function(a){this.$10.changeToTopPri(a),this.$12.set(a,{lockedTime:b("performanceNow")(),rescheduleCount:0})};c.cancelUnlockedRequests=function(){var a=this;this.$10.clearNormalQueue();this.$11.forEach(function(b,c){a.$12.has(c)||(b.abort(),a.$11["delete"](c))})};c.abortLockedRequest=function(a){var b=this.$10.removeTopPriSegment(a);b&&b.abort();b=this.$11.get(a);b&&(b.abort(),this.$23(a))};c.$23=function(a){this.$11["delete"](a),this.$12["delete"](a)};c.unload=function(){this.$13&&this.$13.removeQueue(this.$10),this.$16.release()};c.setPriority=function(a){if(this.$19()===a)return;this.$15=a;var b=this.$13;b&&(b.setQueue(this.$10,a),this.$22())};c.getResourceTimingEntry=function(a){return this.$3.get(a)||null};c.$22=function(){var a=this.$13;a&&!this.$10.isEmpty()&&this.$19()>=b("VideoPriorityCalculator").getMaxPriority()&&a.demandReschedule()};c.$24=function(){var a=this;Array.from(this.$11.values()).forEach(function(b){a.$14.evictRequest(b)})};c.$19=function(){return this.$15};c.$25=function(a){var b=this.$12.get(a)||{},c=b.lockedTime;b=b.rescheduleCount;b=(b||0)+1;this.$23(a);this.$12.set(a,{lockedTime:c,rescheduleCount:b})};c.$21=function(a,c,d){__p&&__p();var e=this,f=c.getURI().toString(),g=this.$19(),h,i,j=this.$14.getRecentBlockingRequestUrl(),k=!1;j&&j!==this.$5&&(k=!0);this.$1.getBool("fixing_scheduler_xhr_request_leaks",!0)?(i=this.$5,this.$5=f):(h=this.$4,this.$4=c);if(a){var l=this.$26(f,g,k,d),m=b("performanceNow")(),n=!1,o=function(){if(!e.$1.getBool("skip_old_handler_on_finished_requests",!1))return!1;if(n)return!0;n=!0;return!1};j=b("getXHRRequestHandlerHelper")(c).addResponseHandler(Object.assign(function(d,g){__p&&__p();b("VideoClientEdgeCooperation").updateFromHeaders(g);e.$7&&e.$7.handleHeadersString(g);if(!o()){g=b("performanceNow")();var j=b("VideoPlayerResourceTimer").getResourceTimingEntry(f,m,g),k=d.byteLength;if(e.$9){g=j?e.$27(j,c,h,i):g-m;e.$9.sample(g,k,e.$8==="video",{timeToLastByte:g},e.$17,e.$6,e.$1.getBool("evaluate_abr_on_fetch_end",!1))}l&&e.$28(a,l,d.byteLength,j,m);e.$23(a)}},{includeHeaders:!0})).addAbortHandler(function(c){if(!o()){var d={errorMsg:"Request aborted.",errorType:"abort",errorCode:e.$1.getBool("fix_shaka_xhr_error_status",!0)?"":0,errorRawTransportStatus:0,errorRawResponseHeaders:null};d=b("VideoPlayerShakaError").translateError(d,f,"aborted");c==="reschedule"?e.$25(a):e.$23(a);l&&l.setError(d).log()}}).addErrorHandler(function(c){if(!o()){c=b("VideoPlayerShakaError").translateError(c,f,"net");l&&l.setError(c).log();e.$23(a)}}).addNetworkFailureHandler(function(c){if(!o()&&e.$1.getBool("xhr_handle_network_failure",!0)){c=b("VideoPlayerShakaError").translateError(c,f,"net");l&&l.setError(c).log();e.$23(a)}});this.$1.getNumber("request_pipeline_timeout_ms",0)&&j.addTimeoutHandler(function(){var c=b("VideoPlayerShakaError").createTimeoutError(f);l&&l.setError(c).log();e.$23(a)})}};c.$26=function(a,b,c,d){var e=null;this.$6&&(e=this.$6.getOperationLogger("request").setResource(a).start(),e.setReason(d).setPriorityFloat(b).setType(this.$8||null).setWasDelayed(c).setInitiator("pipeline"),this.$18&&e.setPushed(this.$18.getPushCountForUrl(a)));return e};c.$28=function(a,b,c,d,e){__p&&__p();a=this.$12.get(a)||{};var f=a.lockedTime;a=a.rescheduleCount;var g=0;f&&(g=e-f);a||(a=0);b.setLength(c);if(d){e=d.timeToFirstByte;f=d.timeToLastByte;c=d.timeToRequestStart;b.setTimeToFirstByte(Math.round(e)).setTimeToLastByte(Math.round(f)).setTimeToRequestStart(Math.round(c)).setTimeToRequestSent(Math.round(g)).setRescheduleCount(Math.round(a))}b.log()};c.$27=function(a,b,c,d){__p&&__p();var e=null;c&&(e=this.$2.get(c),this.$1.getBool("fixing_scheduler_xhr_request_leaks",!0)?this.$2["delete"](c):this.$2["delete"](e));d&&(e=this.$3.get(d),this.$3["delete"](d));this.$1.getBool("fixing_scheduler_xhr_request_leaks",!0)?this.$3.set(b.getURI().toString(),a):this.$2.set(b,a);if(e){c=e.startTime+e.timeToLastByte;d=a.startTime+a.timeToLastByte;b=Math.min(d-c,a.timeToLastByte);return Math.max(a.timeToLastByte-a.timeToFirstByte,b)}return a.timeToLastByte};return a}();e.exports=a}),null);
__d("VideoPlayerShakaBandwidthUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){var b=0;for(var c=0;c<a.length;c++)b+=a[c].bytes*8e3/a[c].timeInMs;return b/a.length}function h(a){var b=g(a),c=0;for(var d=0;d<a.length;d++)c+=Math.pow(a[d].bytes*8e3/a[d].timeInMs-b,2);return Math.round(Math.sqrt(c/a.length))}function i(a,b){b=Math.exp(Math.log(.5)/b);var c=0,d=0;for(var e=0;e<a.length;e++){var f=a[e].bytes*8e3/a[e].timeInMs,g=Math.pow(b,a[e].timeInMs/1e3);c=f*(1-g)+c*g;d+=a[e].timeInMs/1e3}return Math.round(c/(1-Math.pow(b,d)))}function j(a,b){var c=g(a),d=[];for(var e=0;e<a.length;e++)Math.abs(c-a[e].bytes*8e3/a[e].timeInMs)<b&&d.push(a[e]);return d}function a(a,b,c,d){var e=h(a);a=j(a,e*c);c=i(a,b);return c-e*d}e.exports={getBandwidthEstimate:a,getExponentiallyWeightedMovingAverageOfBandwidth:i,getStandardDeviationOfBandwidth:h,getMeanBandwidth:g,getBandwidthSamplesWithinRangeOfMean:j}}),null);
__d("oz-player/shims/OzDeferred",["Deferred"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Deferred")}),null);
__d("oz-player/shims/OzMaybeNativePromise",["Promise","MOzExperiments","MaybeNativePromise"],(function(a,b,c,d,e,f){"use strict";b("Promise").resolve(),e.exports=b("MOzExperiments").use_native_promise?b("MaybeNativePromise"):b("Promise")}),null);
__d("oz-player/scheduling/OzRoundRobinPriorityTaskQueue",["oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b){b===void 0&&(b=-1),this.$3=function(){},this.$4=[],this.$5=new Map(),this.$6=new Map(),this.$1=a,this.$2=b}var c=a.prototype;c.getHighestPriority=function(){return Math.max.apply(Math,this.$4.map(function(a){return a.queue.length?a.priority:-Infinity}))};c.enqueue=function(a,b){__p&&__p();b=this.$7(b);var c=this.$5.get(a),d=this.$8(a);if(c===b)return d;this.$5.has(a)&&this.remove(a);c=this.$9(b);var e=this.$4[c];e&&e.priority===b||(e={priority:b,queue:[]},this.$4.splice(c,0,e));this.$5.set(a,b);e.queue.push(a);this.$3(a,b>=this.$1?"immediate":"normal");return d};c.updatePriority=function(a,b){if(!this.$5.has(a))return;this.enqueue(a,b)};c.dequeue=function(){for(var a=0;a<this.$4.length;a++){var b=this.$4[a];if(b.queue.length){b=b.queue.shift();this.$5["delete"](b);return b}}return null};c.remove=function(a){__p&&__p();var b=this.$5.get(a);if(b===void 0)return;b=this.$9(b);b=this.$4[b];if(b&&b.queue){var c=b.queue.findIndex(function(b){return b===a});c>-1&&b.queue.splice(c,1)}this.$5["delete"](a)};c.setOnTaskUpdated=function(a){this.$3=a};c.clearOnTaskUpdated=function(){this.setOnTaskUpdated(function(){})};c.getLength=function(){return this.$5.size};c.$8=function(a){__p&&__p();var c=this.$6.get(a);if(!c){var d=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));c=d.getPromise();this.$6.set(a,c);var e=a.run;a.run=function(){return e.call(a).then(function(a){d.resolve(a);return a})["catch"](function(a){d.reject(a);throw a})}}return c};c.$9=function(a){a=this.$7(a);var b;for(b=0;b<this.$4.length;b++)if(a>=this.$4[b].priority)return b;return b};c.$7=function(a){this.$2>=0&&(a=Number.parseFloat(a.toFixed(this.$2)));return a};return a}();e.exports=a}),null);
__d("RoundRobinPriorityTaskQueue",["oz-player/scheduling/OzRoundRobinPriorityTaskQueue"],(function(a,b,c,d,e,f){e.exports=b("oz-player/scheduling/OzRoundRobinPriorityTaskQueue")}),null);
__d("oz-player/shims/ozSetTimeoutAcrossTransitions",["setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";e.exports=b("setTimeoutAcrossTransitions")}),null);
__d("oz-player/scheduling/OzSequentialTaskScheduler",["oz-player/shims/OzMaybeNativePromise","oz-player/shims/ozSetTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b){this.$3=0;this.$1=a;a=b||{};b=a.taskTimeout;this.$4=b||0}var c=a.prototype;c.start=function(){this.$1.setOnTaskUpdated(this.$5.bind(this));var a=this.$1.dequeue();a&&this.$6(a,"immediate")};c.destroy=function(){this.$2&&this.$2.cancel(),this.$1.clearOnTaskUpdated()};c.$5=function(a,b){b=this.$6(a,b);b&&this.$1.remove(a)};c.$6=function(a,c){__p&&__p();var d=this;if(this.$2&&c!=="immediate")return!1;this.$2&&this.$2.cancel();c=a.run()["catch"](function(a){});this.$4>0&&(c=b("oz-player/shims/OzMaybeNativePromise").race([c,new(b("oz-player/shims/OzMaybeNativePromise"))(function(a,c){b("oz-player/shims/ozSetTimeoutAcrossTransitions")(a,d.$4)})]));this.$3++;this.$2=a;c=c.then(function(){d.$3--;d.$2===a&&(d.$2=null);if(d.$3===0){var b=d.$1.dequeue();b&&d.$6(b,"immediate")}});return!0};return a}();e.exports=a}),null);
__d("SequentialTaskScheduler",["oz-player/scheduling/OzSequentialTaskScheduler"],(function(a,b,c,d,e,f){"use strict";e.exports=b("oz-player/scheduling/OzSequentialTaskScheduler")}),null);
__d("VideoStreamingTaskQueueProvider",["RoundRobinPriorityTaskQueue","SequentialTaskScheduler","VideoPlayerShakaGlobalConfig","VideoPriorityCalculator"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map(),h=new Map();function a(a){a=i(a);return a?a.getLength():0}function i(a){var c=g.get(a);if(!c){c=new(b("RoundRobinPriorityTaskQueue"))(b("VideoPriorityCalculator").getMaxPriority(),b("VideoPlayerShakaGlobalConfig").getNumber("priority_precision",-1));var d=new(b("SequentialTaskScheduler"))(c,{taskTimeout:6e4});d.start();g.set(a,c);h.set(a,d)}return c}function c(a){return h.get(a)||null}e.exports={getQueue:i,getQueueSize:a,getSchedulerForDebug:c}}),null);
__d("getBandwidthPenaltyFactorForScheduledVideoCount",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){a=Math.max(0,a-b+1);b=0;c=c;for(var e=1;e<=a;e++)b+=c,c*=d;return 1-b}e.exports=a}),null);
__d("getNeuralBandwidthEstimate",[],(function(a,b,c,d,e,f){__p&&__p();function a(a){var b=a;if(b.length>8)b=b.slice(0,8);else if(b.length<8)while(b.length<8)b.push(0);var c=1e9;return j(a.map(function(a){return a/c}))[0]*c}var g=[function(a,b){a=1/(1+Math.exp(-a));return!b?a:a*(1-a)}],h=[776e-6,0,0,0,0,0,0,0,.07993045087713074,.019315817148901328,.49837995466162727,.019521651881765512,.00021613261390548784,.07750491170273517,.06736225161443557,.0007569189868508071,.8409143388252623,.01986646603812691,.0007195506066612518],i=[0,0,0,0,0,0,0,0,-2.443292371536531,-3.9273261721766457,-.0064802040303537645,-3.9165163604073605,-8.439402229432238,-2.4767407404009374,-2.6279320641013375,-7.185497123350212,1.6650469917803437,-3.8986556349267514,-7.2361638886289805];function j(a){__p&&__p();for(var b=0;b<a.length;b++)h[b]=a[b];i[8]=h[0]*-20.85073990285843+h[1]*-.17466848432563759+h[2]*-.057525299304308844+h[3]*.03110003879725791+h[4]*-.008895762588835858+h[5]*-.0683893713124604+h[6]*.06576749148339567+h[7]*-.01772020718777774+-2.4271121973719127;h[8]=g[0](i[8]);i[9]=h[0]*-529.6211404152259+h[1]*-10.085931929547788+h[2]*-4.540198005288279+h[3]*-2.6352715249222896+h[4]*-2.047125192304325+h[5]*-1.8521580652576841+h[6]*-2.4005121520581447+h[7]*-.07718938908000435+-3.5163401672144303;h[9]=g[0](i[9]);i[10]=h[0]*189.221355777461+h[1]*10.199243264545071+h[2]*4.697355964097093+h[3]*2.6339556539173423+h[4]*1.7925547331406204+h[5]*1.7015875595365062+h[6]*2.255633060777646+h[7]*.01805203313602992+-.15331597611366352;h[10]=g[0](i[10]);i[11]=h[0]*-19.43067537504266+h[1]*8.73022147952729+h[2]*4.820819354033675+h[3]*2.709578269559789+h[4]*1.978560568303787+h[5]*1.9830323294564676+h[6]*2.5745137738069044+h[7]*.09334179618953584+-3.9014381563163276;h[11]=g[0](i[11]);i[12]=h[0]*-5.048452581794674+h[1]*14.938163257617958+h[2]*8.784340440836452+h[3]*4.64012793867896+h[4]*3.1756670528730058+h[5]*2.620356039948262+h[6]*3.7942580850886625+h[7]*-.029713142657160185+-8.435484630228766;h[12]=g[0](i[12]);i[13]=h[0]*-21.10308480104038+h[1]*-.18020886205098594+h[2]*-.03715917747193107+h[3]*-.014443058733183056+h[4]*.08847178195128587+h[5]*.142772115586438+h[6]*-.0069832531579266015+h[7]*-.0921071783400488+-2.46036474659533;h[13]=g[0](i[13]);i[14]=h[0]*-24.614999084523344+h[1]*-.5706213316377333+h[2]*-.5315686923846422+h[3]*-.41561197239084546+h[4]*-.4622208593249528+h[5]*-.47076637110996444+h[6]*-.5160286139457088+h[7]*.09458872769476198+-2.6088308248117476;h[14]=g[0](i[14]);i[15]=h[0]*-10.646367946852898+h[1]*9.894069563224784+h[2]*6.38876106194455+h[3]*4.440529733916467+h[4]*3.4585448009421538+h[5]*3.1241038175984204+h[6]*3.6086610959448384+h[7]*-.05630455554937189+-7.177235541823454;h[15]=g[0](i[15]);i[16]=h[0]*169.19579326461104+h[1]*10.173311065987626+h[2]*4.643577083747655+h[3]*2.5947613769479383+h[4]*1.8128565992680805+h[5]*1.7184203818262473+h[6]*2.2652341722655147+h[7]*-.013828130098586827+1.5337510562070056;h[16]=g[0](i[16]);i[17]=h[0]*-18.836521088957262+h[1]*.07459368402448659+h[2]*.060777588023931+h[3]*.18289413867450946+h[4]*.16801985006774095+h[5]*.16611109930358084+h[6]*.09992971037111033+h[7]*.01144813346735582+-3.8840384945617203;h[17]=g[0](i[17]);i[18]=h[8]*-10.700053978575285+h[9]*-137.47854623908006+h[10]*11.958608720277157+h[11]*-7.615750916889078+h[12]*-5.975976449386021+h[13]*-10.809028988340401+h[14]*-11.738069079393329+h[15]*-5.935205222074537+h[16]*-38.98332368718187+h[17]*-9.626144857503322+25.07046089429775;h[18]=g[0](i[18]);return[h[18]]}e.exports=a}),null);
__d("VideoPlayerLocalBandwidthEstimator",["Banzai","EventEmitter","EventListener","SubscriptionsHandler","VideoPlayerShakaBandwidthUtils","VideoStreamingTaskQueueProvider","getBandwidthPenaltyFactorForScheduledVideoCount","getNeuralBandwidthEstimate","guid","requireWeak"],(function(a,b,c,d,e,f){__p&&__p();var g;b("requireWeak")("Shaka",function(a){a&&a.util&&(g=a.util.EWMACacheBandwidthEstimator)});a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e){__p&&__p();var f;f=a.call(this)||this;f.$VideoPlayerLocalBandwidthEstimator3=c;f.$VideoPlayerLocalBandwidthEstimator1=d;f.$VideoPlayerLocalBandwidthEstimator4=e;f.$VideoPlayerLocalBandwidthEstimator5=[];f.$VideoPlayerLocalBandwidthEstimator6=null;f.$VideoPlayerLocalBandwidthEstimator7=b("guid")();f.$VideoPlayerLocalBandwidthEstimator10=new(b("SubscriptionsHandler"))();f.$VideoPlayerLocalBandwidthEstimator10.addSubscriptions(b("EventListener").listen(f.$VideoPlayerLocalBandwidthEstimator1,"bandwidth",function(a){return f.emit("bandwidth",a)}));f.$VideoPlayerLocalBandwidthEstimator4&&f.$VideoPlayerLocalBandwidthEstimator4.getBool("use_per_video_bandwidth_estimator",!1)&&g&&(f.$VideoPlayerLocalBandwidthEstimator2=new g(f.$VideoPlayerLocalBandwidthEstimator4.getNumber("cache_delay",30),f.$VideoPlayerLocalBandwidthEstimator4.getNumber("cache_bandwidth",2e6),function(){}));return f}var d=c.prototype;d.setRepresentationID=function(a){this.$VideoPlayerLocalBandwidthEstimator6=a};d.sample=function(a,b,c,d,e,f,g){g===void 0&&(g=!1);c&&this.$VideoPlayerLocalBandwidthEstimator6&&this.$VideoPlayerLocalBandwidthEstimator11(a,b,this.$VideoPlayerLocalBandwidthEstimator6,this.$VideoPlayerLocalBandwidthEstimator3.getVideoTracks());a=[a,b,c,d,e,f,g,this.$VideoPlayerLocalBandwidthEstimator4.getBool("estimator_override_cache_exclusion",!1)];(b=this.$VideoPlayerLocalBandwidthEstimator1).sample.apply(b,a);if(this.$VideoPlayerLocalBandwidthEstimator2){(c=this.$VideoPlayerLocalBandwidthEstimator2).sample.apply(c,a)}};d.getRecentSamples=function(){return this.$VideoPlayerLocalBandwidthEstimator1.getRecentSamples()};d.supportsCaching=function(){return this.$VideoPlayerLocalBandwidthEstimator1.supportsCaching()};d.getEstimator=function(){return this.$VideoPlayerLocalBandwidthEstimator1};d.getBandwidth=function(a){__p&&__p();var c=0,d=this.$VideoPlayerLocalBandwidthEstimator12(),e=this.$VideoPlayerLocalBandwidthEstimator4.getNumber("minimum_sample_count_to_use_new_estimator",0),f=this.$VideoPlayerLocalBandwidthEstimator4.getNumber("minimum_sample_count_to_use_deviation_penalty",0);if(e>0){var g=this.getRecentSamples();if(g.length>=e){e=b("VideoPlayerShakaBandwidthUtils").getBandwidthEstimate(g.map(function(a){return{bytes:a[0],timeInMs:a[1]}}),this.$VideoPlayerLocalBandwidthEstimator4.getNumber("new_estimator_half_life",5),this.$VideoPlayerLocalBandwidthEstimator4.getNumber("new_estimator_standard_deviation_exclusion_factor",2),this.$VideoPlayerLocalBandwidthEstimator4.getNumber("bandwidth_standard_deviation_penalty_factor",.15));if(e>0)return d*e}}else if(f>0){g=this.getRecentSamples();if(g.length>=f){e=b("VideoPlayerShakaBandwidthUtils").getStandardDeviationOfBandwidth(g.map(function(a){return{bytes:a[0],timeInMs:a[1]}}));c=e*this.$VideoPlayerLocalBandwidthEstimator4.getNumber("bandwidth_standard_deviation_penalty_factor",.15)}}f=this.$VideoPlayerLocalBandwidthEstimator4.getNumber("minimum_weight_to_trust_local_bandwidth_estimate",.5);g=this.$VideoPlayerLocalBandwidthEstimator4.getBool("use_minimum_of_global_and_local_bandwidth_estimates",!1);e=this.$VideoPlayerLocalBandwidthEstimator4.getBool("use_per_video_bandwidth_estimator",!1);if(e&&this.$VideoPlayerLocalBandwidthEstimator2&&this.$VideoPlayerLocalBandwidthEstimator2.canTrustEstimate(f))if(g){e=this.$VideoPlayerLocalBandwidthEstimator2?this.$VideoPlayerLocalBandwidthEstimator2.getBandwidth(a):Infinity;return Math.min(this.$VideoPlayerLocalBandwidthEstimator1.getBandwidth(a),e)}else return d*this.$VideoPlayerLocalBandwidthEstimator2.getBandwidth(a);f=this.$VideoPlayerLocalBandwidthEstimator4.getNumber("neural_estimate_weight",0);return f>0?d*this.$VideoPlayerLocalBandwidthEstimator13():d*this.$VideoPlayerLocalBandwidthEstimator1.getBandwidth(a)-c};d.setResolutionConstraint=function(a,b){this.$VideoPlayerLocalBandwidthEstimator8=a,this.$VideoPlayerLocalBandwidthEstimator9=b};d.$VideoPlayerLocalBandwidthEstimator12=function(){var a=b("getBandwidthPenaltyFactorForScheduledVideoCount")(b("VideoStreamingTaskQueueProvider").getQueue("video").getLength(),this.$VideoPlayerLocalBandwidthEstimator4.getNumber("multiple_videos_queue_penalty_start_count",2),this.$VideoPlayerLocalBandwidthEstimator4.getNumber("bandwidth_penalty_per_additional_video",0),this.$VideoPlayerLocalBandwidthEstimator4.getNumber("bandwidth_penalty_decay_per_video",1));return a>0&&a<=1?a:1};d.$VideoPlayerLocalBandwidthEstimator13=function(a){var c=this.$VideoPlayerLocalBandwidthEstimator4.getNumber("minimum_samples_to_use_neural_estimate",1),d=this.$VideoPlayerLocalBandwidthEstimator1.getRecentSamples();a=this.$VideoPlayerLocalBandwidthEstimator1.getBandwidth(a);if(c>d.length)return a;d.reverse();c=b("getNeuralBandwidthEstimate")(d.map(function(a){return a[0]/a[1]*8e3}));d=this.$VideoPlayerLocalBandwidthEstimator4.getNumber("neural_estimate_weight",0);return c*d+a*(1-d)};d.$VideoPlayerLocalBandwidthEstimator11=function(a,c,d,e){__p&&__p();var f=this;c=8e3*c/a;a=e.filter(function(a){return a.width<=f.$VideoPlayerLocalBandwidthEstimator8||a.height<=f.$VideoPlayerLocalBandwidthEstimator9});var g=this.$VideoPlayerLocalBandwidthEstimator14(c,e);a=this.$VideoPlayerLocalBandwidthEstimator14(c,a);e=e.find(function(a){return a.streamInfoID===d});if(e){this.$VideoPlayerLocalBandwidthEstimator4.getBool("videos_abr_debugger_storage",!1)&&b("Banzai").post("video_player_abr",{id:this.$VideoPlayerLocalBandwidthEstimator7,bandwidth:c,chosenBandwidth:e.bandwidth});c=e.id;e=this.$VideoPlayerLocalBandwidthEstimator15(g,c);g=this.$VideoPlayerLocalBandwidthEstimator15(a,c);e!==g&&(e==="conservative"&&g==="ideal"&&(e="conservative_resolution_constrained"));this.$VideoPlayerLocalBandwidthEstimator5.push(e)}};d.$VideoPlayerLocalBandwidthEstimator14=function(a,b){var c=0;for(var d=0;d<b.length;d++){if(a<=b[d].bandwidth)break;c=b[d].id}return c};d.$VideoPlayerLocalBandwidthEstimator15=function(a,b){return a===b?"ideal":a>b?"conservative":"aggressive"};d.flushABREvaluationSet=function(){var a=this.$VideoPlayerLocalBandwidthEstimator5;this.$VideoPlayerLocalBandwidthEstimator5=[];return a};return c}(b("EventEmitter"));e.exports=a}),null);
__d("oz-player/loggings/OzPerfLoggerProviderBase",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var b=a.prototype;b.cloneContext=function(){var a=this.createLoggerProvider();this.$8(a);return a};b.setType=function(a){this.$1=a;return this};b.setInitiator=function(a){this.$2=a;return this};b.setResource=function(a){this.$4=a;return this};b.setRepresentationID=function(a){this.$3=a;return this};b.setSegmentStartTime=function(a){this.$5=a;return this};b.setSegmentEndTime=function(a){this.$6=a;return this};b.setStreamSwitchReason=function(a){this.$7=a;return this};b.getType=function(){return this.$1};b.getInitiator=function(){return this.$2};b.getRepresentationID=function(){return this.$3};b.getStreamSwitchReason=function(){return this.$7};b.getResource=function(){return this.$4};b.getSegmentStartTime=function(){return this.$5};b.getSegmentEndTime=function(){return this.$6};b.getOperationLogger=function(a){a=this.createOperationLogger(a);return this.setOperationContext(a)};b.setOperationContext=function(a){this.$8(a);return a};b.createOperationLogger=function(a){throw new Error("Not implemented: createOperationLogger")};b.createLoggerProvider=function(){throw new Error("Not implemented: createLoggerProvider")};b.$8=function(a){this.getType()&&a.setType(this.getType()),this.getInitiator()&&a.setInitiator(this.getInitiator()),this.getResource()&&a.setResource(this.getResource()),this.getRepresentationID()&&a.setRepresentationID(this.getRepresentationID()),this.getStreamSwitchReason()&&a.setStreamSwitchReason(this.getStreamSwitchReason()),typeof this.getSegmentStartTime()==="number"&&a.setSegmentStartTime(this.getSegmentStartTime()),typeof this.getSegmentEndTime()==="number"&&a.setSegmentEndTime(this.getSegmentEndTime())};return a}();e.exports=a}),null);
__d("oz-player/utils/OzError",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b.description)||this;c.$OzError1=b;c.name=b.type;return c}var c=b.prototype;c.getExtra=function(){return this.$OzError1.extra||{}};c.getType=function(){return this.$OzError1.type};c.getDescription=function(){return this.$OzError1.description};return b}(babelHelpers.wrapNativeSuper(Error));e.exports=a}),null);
__d("VideoPlayerShakaPerformanceLogger",["ExtendableVideoPlayerShakaPerformanceTypedLogger","ScriptPath","VideoPlaybackQuality","VideoPlayerArtilleryTrace","VideoPlayerMainThreadAvailability","VideoPlayerShakaGlobalConfig","VideoPlayerShakaPerformanceLoggerConfig","Visibility","clearTimeout","oz-player/loggings/OzPerfLoggerProviderBase","oz-player/utils/OzError","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("VideoPlaybackQuality").getDroppedFrames,h=b("VideoPlaybackQuality").getTotalFrames,i=9e4;b("VideoPlayerMainThreadAvailability").maybeEnablePerformanceTest();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.shouldInitialize=function(){return b("VideoPlayerShakaPerformanceLoggerConfig").isSampled||b("VideoPlayerShakaGlobalConfig").getBool("enable_spl_when_unsampled",!1)};c.setVideoPlaybackExperienceIssue=function(a){c.$VideoPlayerShakaPerformanceLogger25=a,b("VideoPlayerShakaGlobalConfig").getBool("enable_spl_after_submitted_playback_issue",!1)&&(b("ExtendableVideoPlayerShakaPerformanceTypedLogger").enable(),c.maybeEnableMainThreadAvailabilityLogging())};function c(d){__p&&__p();var e;e=a.call(this)||this;e.$VideoPlayerShakaPerformanceLogger11=!1;e.$VideoPlayerShakaPerformanceLogger22=0;e.$VideoPlayerShakaPerformanceLogger23=0;e.$VideoPlayerShakaPerformanceLogger21=d;e.$VideoPlayerShakaPerformanceLogger2=d.videoID;e.$VideoPlayerShakaPerformanceLogger4=d.video;e.$VideoPlayerShakaPerformanceLogger1=d.uniqueID;e.$VideoPlayerShakaPerformanceLogger3=0;e.$VideoPlayerShakaPerformanceLogger9=d.isLive;e.$VideoPlayerShakaPerformanceLogger10=d.isServableViaFbms;e.$VideoPlayerShakaPerformanceLogger8=null;e.$VideoPlayerShakaPerformanceLogger12=d.accessToken;e.$VideoPlayerShakaPerformanceLogger14=d.playerOrigin;e.$VideoPlayerShakaPerformanceLogger15=d.playerSuborigin;e.$VideoPlayerShakaPerformanceLogger16=d.playerVersion;e.$VideoPlayerShakaPerformanceLogger24=d.getBandwidthEstimate;e.setRepresentationID(d.representationId);e.$VideoPlayerShakaPerformanceLogger26=d.isDrm;e.$VideoPlayerShakaPerformanceLogger13=new(b("VideoPlayerArtilleryTrace"))(e.$VideoPlayerShakaPerformanceLogger1,d);c.maybeEnableMainThreadAvailabilityLogging();return e}c.maybeEnableMainThreadAvailabilityLogging=function(){b("VideoPlayerShakaGlobalConfig").getBool("enable_main_thread_availability_logging",!1)&&b("ExtendableVideoPlayerShakaPerformanceTypedLogger").isEnabled()&&b("VideoPlayerMainThreadAvailability").enable()};var d=c.prototype;d.$VideoPlayerShakaPerformanceLogger27=function(a){__p&&__p();var b=this.$VideoPlayerShakaPerformanceLogger4.buffered;if(b.length>0){var c=b.length-1;a=a.setLastBufferedStart(Math.round(b.start(c)*1e3)).setLastBufferedEnd(Math.round(b.end(c)*1e3));this.$VideoPlayerShakaPerformanceLogger13.updateBufferAhead((b.end(c)-this.$VideoPlayerShakaPerformanceLogger4.currentTime)*1e3)}c=[];for(var d=0;d<b.length-1;d++){var e=Math.round(this.$VideoPlayerShakaPerformanceLogger4.buffered.start(d)*1e3),f=Math.round(this.$VideoPlayerShakaPerformanceLogger4.buffered.end(d)*1e3);c.push([e,f])}c&&c.length&&(a=a.setAdditionalBufferedRanges(JSON.stringify(c)));return a};d.setType=function(a){this.$VideoPlayerShakaPerformanceLogger20=a;return this};d.createLoggerProvider=function(){return new self(this.$VideoPlayerShakaPerformanceLogger21)};d.getLiveheadDelta=function(){return this.$VideoPlayerShakaPerformanceLogger8?Math.round((this.$VideoPlayerShakaPerformanceLogger8-this.$VideoPlayerShakaPerformanceLogger4.currentTime)*1e3):null};d.getVideoID=function(){return this.$VideoPlayerShakaPerformanceLogger2};d.setIsTemplatedManifest=function(a){this.$VideoPlayerShakaPerformanceLogger11=a};d.$VideoPlayerShakaPerformanceLogger28=function(){return this.$VideoPlayerShakaPerformanceLogger11};d.getEventLogger=function(a){__p&&__p();var d=this,e=Date.now(),f=new(b("ExtendableVideoPlayerShakaPerformanceTypedLogger"))(),i=this.$VideoPlayerShakaPerformanceLogger4.currentTime,j=this.$VideoPlayerShakaPerformanceLogger4.duration;this.$VideoPlayerShakaPerformanceLogger27(f).setEvent(a).setVideoID(this.$VideoPlayerShakaPerformanceLogger2).setDroppedFrames(g(this.$VideoPlayerShakaPerformanceLogger4)).setTotalFrames(h(this.$VideoPlayerShakaPerformanceLogger4)).setDynamicBitrate(this.$VideoPlayerShakaPerformanceLogger19).setLogicalCpuCount(navigator&&navigator.hardwareConcurrency).setPlayerOriginCallerSpecified(this.$VideoPlayerShakaPerformanceLogger14).setScriptPath(b("ScriptPath").getScriptPath()).setPlayerSuborigin(this.$VideoPlayerShakaPerformanceLogger15).setPlayerVersion(this.$VideoPlayerShakaPerformanceLogger16).setBandwidthEstimate(Math.round(this.$VideoPlayerShakaPerformanceLogger24(this.$VideoPlayerShakaPerformanceLogger9))).setRepresentationID(this.getRepresentationID()).setLowestQualityRepresentationID(this.$VideoPlayerShakaPerformanceLogger18).setPlayhead(Math.round(i*1e3)).setVideoDuration(Math.round(j*1e3)).setEnded(this.$VideoPlayerShakaPerformanceLogger4.ended).setIsLive(this.$VideoPlayerShakaPerformanceLogger9).setIsServableViaFbms(this.$VideoPlayerShakaPerformanceLogger10).setIsMuted(this.$VideoPlayerShakaPerformanceLogger4.muted).setIsPageVisible(!b("Visibility").isHidden()).setIsTemplatedManifest(this.$VideoPlayerShakaPerformanceLogger28()).setSession(this.$VideoPlayerShakaPerformanceLogger1).setDevicePixelRatioFloat(window.devicePixelRatio||1).setManifestType(this.$VideoPlayerShakaPerformanceLogger17).setSequentialID(this.$VideoPlayerShakaPerformanceLogger3++).setState(this.$VideoPlayerShakaPerformanceLogger5).setLastBufferingEventEndTime(this.$VideoPlayerShakaPerformanceLogger7).setLastPlayingEventTime(this.$VideoPlayerShakaPerformanceLogger6).setLiveheadDelta(this.getLiveheadDelta()).setPushed(0).setResult("success").setAccessToken(this.$VideoPlayerShakaPerformanceLogger12).setVideoPlaybackExperienceIssue(c.$VideoPlayerShakaPerformanceLogger25).setClientTimeBegin(e).setClientTimeEnd(e).setIsDrm(this.$VideoPlayerShakaPerformanceLogger26);var k=this,l=f.setState;f.setState=function(a){a!==this.$VideoPlayerShakaPerformanceLogger5&&a==="playing"?k.$VideoPlayerShakaPerformanceLogger6=Date.now():a!=="playing"&&(k.$VideoPlayerShakaPerformanceLogger6=null);k.$VideoPlayerShakaPerformanceLogger5=a;k.$VideoPlayerShakaPerformanceLogger13.enterState(a);return l.call(this,a)};f.updateState=function(a){if(this.getState()==k.$VideoPlayerShakaPerformanceLogger5){k.$VideoPlayerShakaPerformanceLogger13.enterState(a);return this.setState(a)}return this};var m=f.setError;f.setError=function(a){typeof a==="object"?a instanceof b("oz-player/utils/OzError")?(this.setResult("failed"),this.setCode(a.getExtra().code),m.call(this,a.getType())):(a.type==="aborted"||a.type==="delay"?this.setResult("aborted"):a.type==="paused"?this.setResult("paused"):(this.setResult("failed"),m.call(this,a.type)),this.setCode(a.status)):m.call(this,a);return this};var n=f.setManifestType;f.setManifestType=function(a){d.$VideoPlayerShakaPerformanceLogger17=a;return n.call(f,a)};return f};d.getArtilleryMarkers=function(a){return this.$VideoPlayerShakaPerformanceLogger13.getMarkers(a)};d.getOperationLogger=function(a){a=this.createOperationLogger(a);this.setOperationContext(a);return a};d.createOperationLogger=function(a){__p&&__p();var c=this,d=this.getEventLogger(a),e=this.getArtilleryMarkers(a),f=d.setResource;d.setResource=function(a){e.forEach(function(b){return b.setResource(a)});return f.call(d,a)};var g=d.log,h=this,j=!1,k=null;d.log=function(){__p&&__p();if(j)return;b("clearTimeout")(k);var c=Date.now();this.setClientTimeEnd(c);var d=b("VideoPlayerMainThreadAvailability").getTimeSinceMainThreadAvailable();this.setTimeSinceMainThreadAvailable(d!=null?Math.round(d):null);h.$VideoPlayerShakaPerformanceLogger29(d);h.$VideoPlayerShakaPerformanceLogger22=c;a==="buffering"&&(h.$VideoPlayerShakaPerformanceLogger7=Date.now());e.forEach(function(a){return a.markOperationEnd()});j=!0;return g.call(this)};d.start=function(){e.forEach(function(a){return a.markOperationStart()});k=b("setTimeoutAcrossTransitions")(function(){k=null,d.setResult("timeout"),d.log()},i);return d};d.setWasPrefetchCacheHit=function(a){e.forEach(function(b){return b.setWasPrefetchCacheHit(a)});return d};d.setLiveheadPosition=function(a){c.$VideoPlayerShakaPerformanceLogger8=a;d.setLiveheadDelta(c.getLiveheadDelta());return d};var l=d.setDynamicBitrate;d.setDynamicBitrate=function(a){a=Number(a)||null;c.setDynamicBitrate(a);return l.call(d,a)};var m=d.setLowestQualityRepresentationID;d.setLowestQualityRepresentationID=function(a){c.$VideoPlayerShakaPerformanceLogger18=a;return m.call(d,a)};return d};d.$VideoPlayerShakaPerformanceLogger29=function(a){var c=b("VideoPlayerShakaGlobalConfig").getNumber("main_thread_blocked_event_threshold",200);if(a==null||c===0||this.$VideoPlayerShakaPerformanceLogger22===0||a<c||this.$VideoPlayerShakaPerformanceLogger23<a){this.$VideoPlayerShakaPerformanceLogger23=Number(a);return}this.getEventLogger("main_thread_blocked").setClientTimeEnd(this.$VideoPlayerShakaPerformanceLogger22).setClientTimeBegin(Math.round(this.$VideoPlayerShakaPerformanceLogger22-this.$VideoPlayerShakaPerformanceLogger23)).log();this.$VideoPlayerShakaPerformanceLogger23=Number(a)};d.setDynamicBitrate=function(a){this.$VideoPlayerShakaPerformanceLogger19=a!=null?Math.round(a):null};return c}(b("oz-player/loggings/OzPerfLoggerProviderBase"));a.$VideoPlayerShakaPerformanceLogger25=null;e.exports=a}),null);
__d("VideoPushTracker",["URI","crc16"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$1=0,this.$2=new Map()}var c=a.prototype;c.addPushDataFromXHR=function(a){__p&&__p();var b=this,c=a.getResponseHeader("X-FB-Debug-Num-Pushed");a=a.getResponseHeader("X-FB-Debug-List-Pushed");if(!a||!c)return;c=parseInt(c,10);var d=[];if(a.length%4)return;var e=a.length/4;for(var f=0;f<e;f++)d.push(a.substr(f*4,4));c!=d.length;if(!c)return;this.$1+=c;d.forEach(function(a){b.$2.set(a,(b.$2.get(a)||0)+1)})};c.getPushCountForUrl=function(a){a=new(b("URI"))(a);a=b("crc16").hex(a.getPath());a=this.$2.get(a)||0;return a};return a}();e.exports=a}),null);
__d("oz-player/manifests/OzByteRange",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){return a.startByte===b.startByte}function b(a,b){return b.endByte===null?!1:a.startByte===b.endByte+1}function c(a,b){return a.startByte<b.startByte?!1:b.endByte==null||b.endByte>=a.startByte}function d(a,b){__p&&__p();a=a;b=b;if(b.startByte<a.startByte){var c=a;a=b;b=c}if(a.endByte==null)return{startByte:a.startByte,endByte:null};if(b.startByte>a.endByte+1)return null;c=b.endByte==null||b.endByte>a.endByte?b.endByte:a.endByte;return{startByte:a.startByte,endByte:c}}function f(a,b){if(b.endByte==null)return null;if(a.startByte>b.endByte)return{startByte:a.startByte,endByte:a.endByte};return a.endByte!=null&&a.endByte<=b.endByte?null:{startByte:b.endByte+1,endByte:a.endByte}}function g(a){return a.endByte==null?null:a.endByte-a.startByte+1}e.exports={startsAtSame:a,startsImmediateAfter:b,startsDuring:c,union:d,disjoinAfter:f,getLength:g}}),null);
__d("ByteRange",["oz-player/manifests/OzByteRange"],(function(a,b,c,d,e,f){"use strict";e.exports=b("oz-player/manifests/OzByteRange")}),null);
__d("oz-player/networks/OzProducerInterruptedError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(babelHelpers.wrapNativeSuper(Error));e.exports=a}),null);
__d("oz-player/networks/OzDeferredBuffer",["oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/networks/OzProducerInterruptedError"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){a===void 0&&(a={});this.$3=[];this.$4=!1;this.$6=0;a=a;var b=a.disableArrayShift;a=a.useNativePromise;this.$1=!!b;this.$2=!!a}var c=a.prototype;c.produce=function(a){this.$7(a)};c.signalProducerInterruption=function(){this.$7(new(b("oz-player/networks/OzProducerInterruptedError"))("producer interrupted"))};c.consume=function(a){__p&&__p();var c=this;if(this.$4)throw new Error("A buffer can only be consumed by one client at a time");this.$4=!0;var d=b("oz-player/shims/OzMaybeNativePromise").resolve();this.isEmpty()&&(this.$5=this.$2?new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")):new(b("oz-player/shims/OzDeferred"))(),d=this.$5.getPromise());return d.then(function(){__p&&__p();if(c.$1){if(c.$3[c.$6]===void 0)throw new Error("buffer has no value at position "+c.$6)}else if(c.$3.length===0)throw new Error("buffer length must not be 0");c.$5=null;c.$4=!1;var b=c.$1?c.$8(a):c.$9(a);if(b instanceof Uint8Array)return b;throw b})};c.$7=function(a){this.$3.push(a),this.$5&&this.$5.resolve()};c.$8=function(a){__p&&__p();var b=this.$3[this.$6];if(b===void 0)return new Uint8Array([]);b=b;if(!(b instanceof Uint8Array)){this.$3[this.$6]=void 0;this.$6++;return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$3[this.$6]=c}else this.$3[this.$6]=void 0,this.$6++;return b};c.$9=function(a){__p&&__p();if(this.$3.length===0)return new Uint8Array([]);var b=this.$3[0];if(!(b instanceof Uint8Array)){this.$3.shift();return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$3[0]=c}else this.$3.shift();return b};c.isEmpty=function(){return this.$1?this.$3[this.$6]===void 0:this.$3.length===0};return a}();e.exports=a}),null);
__d("DeferredBuffer",["oz-player/networks/OzDeferredBuffer"],(function(a,b,c,d,e,f){"use strict";e.exports=b("oz-player/networks/OzDeferredBuffer")}),null);
__d("ProducerInterruptedError",["oz-player/networks/OzProducerInterruptedError"],(function(a,b,c,d,e,f){"use strict";e.exports=b("oz-player/networks/OzProducerInterruptedError")}),null);
__d("ReadableStream",[],(function(a,b,c,d,e,f){e.exports=self.ReadableStream}),null);
__d("WritableStream",[],(function(a,b,c,d,e,f){e.exports=self.WritableStream}),null);
__d("pipeErrorTo",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){try{a.error(b)}catch(a){}}e.exports=a}),null);
__d("oz-player/networks/OzPausableRangeStream",["oz-player/manifests/OzByteRange","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/networks/OzDeferredBuffer","pipeErrorTo"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/manifests/OzByteRange").startsImmediateAfter;function h(){return new Error("Upstream has an inconsistent range")}var i=function(){__p&&__p();function a(){this.$1=0}var b=a.prototype;b.setBytesToSkip=function(a){this.$1=a};b.setBytesSkipped=function(a){this.$1-=a};b.getBytesToSkip=function(){return this.$1};b.hasMoreBytesToSkip=function(){return this.$1>0};return a}();a=function(){__p&&__p();function a(a,c,d,e,f){__p&&__p();var g=this;this.$5=!1;this.$7=0;this.$8=0;this.$13=!1;this.$14=0;this.$15=new i();this.$16=!1;this.$17=!1;this.$18=!1;this.$19=a;this.$20=c;this.$1=d;this.$2=e;a=f||{};c=a.fixStreamingUndefinedEndByte;d=a.disableDeferredBufferArrayShift;e=a.useNativePromiseInDeferredBuffer;f=a.enablePausableStreamResumeFromStartDangerously;var j=a.fixPausePreReadableStream;a=a.throwErrorWhenAborted;this.$11=!!c;this.$16=!!f;this.$17=!!j;this.$18=!!a;this.$3=new(b("oz-player/networks/OzDeferredBuffer"))({disableArrayShift:!!d,useNativePromise:!!e});this.$6=new this.$19({start:function(a){g.$10=a},pull:function(a){__p&&__p();if((g.$11&&g.$1.endByte===null&&g.$5||g.$7===g.$21())&&g.$3.isEmpty()){a.close();return b("oz-player/shims/OzMaybeNativePromise").resolve()}var c=function c(){__p&&__p();var d=g.$15.hasMoreBytesToSkip()?g.$15.getBytesToSkip():void 0;return g.$3.consume(d).then(function(d){if(g.$15.hasMoreBytesToSkip()){g.$15.setBytesSkipped(d.length);return c()}g.$7+=d.length;var e=g.$21();e!==null&&g.$7>(e||0)&&b("pipeErrorTo")(g.$10,h());a.enqueue(d)})["catch"](function(a){if(a==="skip_buffered_bytes"){g.$15.setBytesToSkip(g.$7);return c()}throw a})};return c()},cancel:function(a){g.$12&&g.$12.resolve("stream_cancelled"),b("pipeErrorTo")(g.$9,a)}});this.$22()}var c=a.prototype;c.$21=function(){var a=this.$1,b=a.startByte;a=a.endByte;return a!=null?a-b+1:null};c.$22=function(){__p&&__p();var a=this;this.$4=new this.$20({start:function(b){a.$9=b},write:function(b){a.$3.produce(b),a.$8+=b.length},close:function(){a.$5=!0;var c=a.$1,d=c.endByte;c=c.startByte;a.$11&&d===null&&a.$3.produce(new Uint8Array([]));d!==null&&a.$8!==(d||0)-c+1&&b("pipeErrorTo")(a.$10,h())},abort:function(c){a.$12&&(a.$18?a.$12.reject(c):a.$12.resolve("stream_aborted")),b("pipeErrorTo")(a.$10,c)}})};c.getStream=function(){return this.$6};c.startStream=function(){__p&&__p();var c=this;this.$13=!0;var d={startByte:this.$1.startByte,endByte:this.$1.endByte};!this.$16?d.startByte+=this.$8:this.$8&&(this.$3.produce("skip_buffered_bytes"),this.$8=0);var e=this.$4;return this.$2.startStream(d).then(function(d){d.pipeTo(c.$17?e:c.$4).then(function(){c.$12&&c.$12.resolve("stream_done")})["catch"](function(b){c.$12&&!c.$12.isSettled()&&(c.$17&&b===a.STREAM_PAUSED?c.$12.resolve("stream_paused"):c.$12.reject(b))});c.$12=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));return{statusPromise:c.$12.getPromise()}})};c.pauseStream=function(){b("pipeErrorTo")(this.$9,a.STREAM_PAUSED),this.$12&&this.$12.resolve("stream_paused"),this.$22()};c.getByteRange=function(){return this.$1};c.getBytesStreamed=function(){return this.$7};c.tryConcatByteRange=function(a){if(this.$13||!g(a,this.$1))return!1;this.$1.endByte=a.endByte;return!0};return a}();a.STREAM_PAUSED="streamPaused";e.exports=a}),null);
__d("PausableRangeStream",["oz-player/networks/OzPausableRangeStream"],(function(a,b,c,d,e,f){"use strict";e.exports=b("oz-player/networks/OzPausableRangeStream")}),null);
__d("VideoPlayerShakaBandwidthEstimator",["CacheStorage","Run","VideoPlayerShakaGlobalConfig","requireWeak"],(function(a,b,c,d,e,f){__p&&__p();var g;b("requireWeak")("Shaka",function(a){g=a.util.EWMACacheBandwidthEstimator});var h=null,i=!1;a=function(){"use strict";__p&&__p();function a(){var a=this,c=new(b("CacheStorage"))("localstorage","_video_"),d=c.get("bandwidthEstimate");this.$1={isMockObject:!0,getBandwidth:function(a){return d},getFastMovingBandwidth:function(){return d}};g&&(this.$1=new g(b("VideoPlayerShakaGlobalConfig").getNumber("cache_delay",30),b("VideoPlayerShakaGlobalConfig").getNumber("cache_bandwidth",2e6),function(){b("VideoPlayerShakaGlobalConfig").getBool("shaka_update_bandwidth_cache_on_sample",!1)&&c.set("bandwidthEstimate",a.$1.getBandwidth())},d),this.$1.isMockObject=!1);b("Run").onUnload(function(){c.set("bandwidthEstimate",a.$1.getBandwidth())})}var c=a.prototype;c.getEstimator=function(){return this.$1};a.getInstance=function(){(h===null||h.getEstimator().isMockObject&&g)&&(h=new a());return h};a.getEstimator=function(){return a.getInstance().getEstimator()};a.getBandwidth=function(b){var c=a.getEstimator();return c.getBandwidth(b)};a.getBandwidthByVideoType=function(b){return a.getBandwidth(a.getBandwidthModel(b))};a.getBandwidthModel=function(a){return a?"aggressive":"conservative"};a.isAutoplayBandwidthRestrained=function(c){var d=a.getEstimator(),e;b("VideoPlayerShakaGlobalConfig").getBool("block_autoplay_use_fast_moving_average",!0)&&i?e=d.getFastMovingBandwidth():e=d.getBandwidth();d=c?b("VideoPlayerShakaGlobalConfig").getNumber("live_block_autoplay_bandwidth_threshold",25e4):b("VideoPlayerShakaGlobalConfig").getNumber("block_autoplay_bandwidth_threshold",123034);e===null||e>=d?i=!1:i=!0;return i};return a}();e.exports=a}),null);
__d("VideoPriorityUpdater",["EventEmitter","VideoPriorityCalculator"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){__p&&__p();var d;c===void 0&&(c=[]);d=a.call(this)||this;d.$VideoPriorityUpdater3=0;d.$VideoPriorityUpdater4=[];d.$VideoPriorityUpdater1=b;d.$VideoPriorityUpdater4=c.slice(0);c.forEach(function(a){return a.setOnPriorityChanged(function(){d.$VideoPriorityUpdater5()})});return d}var d=c.prototype;d.updatePriorityWithNewPlayhead=function(a){this.$VideoPriorityUpdater2&&(this.$VideoPriorityUpdater2.playhead=a);this.$VideoPriorityUpdater5();return this};d.updatePriorityWithNewPlayingState=function(a){this.$VideoPriorityUpdater2&&(this.$VideoPriorityUpdater2.isPlaying=a);this.$VideoPriorityUpdater5();return this};d.updatePriorityWithNewPlayerState=function(a){this.$VideoPriorityUpdater2=a;this.$VideoPriorityUpdater5();return this};d.$VideoPriorityUpdater5=function(){if(!this.$VideoPriorityUpdater2)return;var a=this.$VideoPriorityUpdater1.getNumber("global_scheduler_priority_downgrade_bufferahead_threshold",0),c=this.$VideoPriorityUpdater1.getNumber("global_scheduler_priority_threshold",6);this.$VideoPriorityUpdater3>=b("VideoPriorityCalculator").getMaxPriority()&&a&&(c=a);a=this.$VideoPriorityUpdater4.reduce(function(a,b){return a+b.getPriorityAdjustment()},0);c=b("VideoPriorityCalculator").calculate(this.$VideoPriorityUpdater2,c)+a;c!==this.$VideoPriorityUpdater3&&(this.$VideoPriorityUpdater3=c,this.emit("priority_updated",c))};return c}(b("EventEmitter"));e.exports=a}),null);
__d("oz-player/shims/OzReadableStream",["requireCond","cr:927622"],(function(a,b,c,d,e,f){"use strict";b("cr:927622")&&(b("cr:927622").ReadableStream.isPolyfilled=!0);a=b("cr:927622")?b("cr:927622").ReadableStream:window.ReadableStream;e.exports=a}),null);
__d("oz-player/networks/OzCreateErrorStream",["oz-player/shims/OzReadableStream"],(function(a,b,c,d,e,f){"use strict";function a(a){return new(b("oz-player/shims/OzReadableStream"))({pull:function(b){b.error(a)}})}e.exports=a}),null);
__d("createErrorStream",["oz-player/networks/OzCreateErrorStream"],(function(a,b,c,d,e,f){"use strict";e.exports=b("oz-player/networks/OzCreateErrorStream")}),null);
__d("VideoSegmentStreamByFetch",["invariant","VideoAkamaiRequestHelper","VideoClientEdgeCooperation","VideoSegmentInfoHelper","createErrorStream"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=window.fetch;a=function(){__p&&__p();function a(a){this.$1=a}var c=a.prototype;c.getResourceUrl=function(a){a=this.$2(a);a=b("VideoSegmentInfoHelper").getRequestUri(a);a=a.toString();return a};c.startStream=function(a){__p&&__p();h||g(0,3362);var c=this.getResourceUrl(a),d={};if(b("VideoAkamaiRequestHelper").isAkamai(c)){a=this.$2(a);d=b("VideoAkamaiRequestHelper").getRequestHeaders(a)||{}}return h(c,{headers:d}).then(function(a){b("VideoClientEdgeCooperation").updateFromResponse(a);var d=a.body,e=a.status;a=a.ok;if(!a)return b("createErrorStream")({type:"net",status:e,url:c,message:"HTTP error."});d.getReader||g(0,3287);return d})["catch"](function(a){return a instanceof TypeError?b("createErrorStream")({type:"net",status:0,url:c,message:"Network failure."}):b("createErrorStream")({type:"stream_processing",status:0,url:c,message:"Stream processing error."+a})})};c.$2=function(a){return{baseUrl:this.$1,startByte:a.startByte,endByte:a.endByte===null?void 0:a.endByte}};return a}();e.exports=a}),null);
__d("VideoStreamingManager",["ChunkableContinuousRangeStream","ContinuousPausableStreamTask","EventEmitter","FetchStreamStateTracker","FixedSizeTransform","MaybeNativePromise","NetworkErrorTransformStream","PausableRangeStream","ReadableStream","ShakaSegmentReferenceHelper","StreamBandwidthReporter","StreamFetchRequestLogger","StreamProgress","StreamProgressTracker","SubscriptionsHandler","VideoPriorityCalculator","VideoPriorityUpdater","VideoSegmentStreamByFetch","VideoStreamingTaskQueueProvider","WritableStream","performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g){__p&&__p();var h;e===void 0&&(e="video");f===void 0&&(f=null);g===void 0&&(g=[]);h=a.call(this)||this;h.$VideoStreamingManager9=[];h.$VideoStreamingManager10=null;h.$VideoStreamingManager13=new(b("SubscriptionsHandler"))();h.$VideoStreamingManager14=Infinity;h.$VideoStreamingManager16=null;h.$VideoStreamingManager17=!1;h.$VideoStreamingManager20=function(a,c){__p&&__p();h.$VideoStreamingManager17=!1;if(h.$VideoStreamingManager1.getBool("enable_streaming_quick_abr_switch",!1)){var d=h.$VideoStreamingManager15;if(!d)return;d=b("ShakaSegmentReferenceHelper").findIndexByRequestInfo(d,a);if(d<-1)return;a=a[d];if(!a)return;d=b("ShakaSegmentReferenceHelper").findIndexByStartTimeExact(c,a.startTime);if(d>=0&&d+1<c.length){a=c[d+1];c={baseUrl:a.url.baseUrl,startByte:a.url.startByte,endByte:a.url.endByte};typeof h.$VideoStreamingManager3.setFutureSegments==="function"&&h.$VideoStreamingManager3.setFutureSegments([]);h.$VideoStreamingManager25(c);(!h.$VideoStreamingManager1.getBool("disable_streaming_quick_abr_switch_for_low_pri_video",!1)||h.$VideoStreamingManager14>=b("VideoPriorityCalculator").getMaxPriority())&&h.$VideoStreamingManager26(c)}}};h.$VideoStreamingManager19=function(a){__p&&__p();if(!h.$VideoStreamingManager1.getBool("disable_auto_stream_start",!0)||a===h.$VideoStreamingManager14)return;h.$VideoStreamingManager14=a;h.$VideoStreamingManager5&&h.$VideoStreamingManager5.getEventLogger("priority_changed").setPriorityFloat(h.$VideoStreamingManager14).log();var c=h.$VideoStreamingManager10;if(!c)return;c.updatePriority(h.$VideoStreamingManager14);var d=h.$VideoStreamingManager6;if(!d||d.isClosed())return;a>=b("VideoPriorityCalculator").getMaxPriority()||h.$VideoStreamingManager1.getBool("enable_low_pri_multi_segment_fetch",!1)?h.$VideoStreamingManager15&&h.$VideoStreamingManager27(h.$VideoStreamingManager15):d.removeQueuedRange();h.$VideoStreamingManager11&&h.$VideoStreamingManager11.updatePriority(c,h.$VideoStreamingManager14)};h.$VideoStreamingManager1=c;h.$VideoStreamingManager4=new(b("FetchStreamStateTracker"))();h.$VideoStreamingManager3=d;h.$VideoStreamingManager5=f;h.$VideoStreamingManager7=e;h.$VideoStreamingManager1.getBool("disable_streaming_scheduler",!1)||(h.$VideoStreamingManager11=b("VideoStreamingTaskQueueProvider").getQueue(e));h.$VideoStreamingManager12=new(b("VideoPriorityUpdater"))(h.$VideoStreamingManager1,g);h.$VideoStreamingManager13.addSubscriptions(h.$VideoStreamingManager12.addListener("priority_updated",h.$VideoStreamingManager19));h.$VideoStreamingManager3.setOnSegmentsUpdated(h.$VideoStreamingManager20);h.$VideoStreamingManager1.getBool("enable_stream_progress_tracker",!1)&&(h.$VideoStreamingManager16=new(b("StreamProgressTracker"))());return h}var d=c.prototype;d.getStream=function(a){return this.$VideoStreamingManager1.getBool("use_continuous_streaming",!0)?this.$VideoStreamingManager21(a):this.$VideoStreamingManager22(a)};d.getPriorityUpdater=function(){return this.$VideoStreamingManager12};d.getProgressTracker=function(){return this.$VideoStreamingManager16};d.resumeVideoFetching=function(){this.$VideoStreamingManager17=!1,this.$VideoStreamingManager23()};d.stopUntilSegmentsUpdate=function(){this.$VideoStreamingManager10&&this.$VideoStreamingManager10.cancelOnCurrentStreamDone(),this.$VideoStreamingManager17=!0};d.updatePlayerState=function(a){this.$VideoStreamingManager18=a,this.$VideoStreamingManager12.updatePriorityWithNewPlayerState(a)};d.destroy=function(){this.$VideoStreamingManager16!=null&&this.$VideoStreamingManager16.destroy(),this.$VideoStreamingManager13.release(),this.$VideoStreamingManager10&&this.$VideoStreamingManager10.cancel(),this.$VideoStreamingManager10&&this.$VideoStreamingManager11&&this.$VideoStreamingManager11.remove(this.$VideoStreamingManager10),this.$VideoStreamingManager24(),this.$VideoStreamingManager3&&this.$VideoStreamingManager3.clearOnSegmentsUpdated()};d.$VideoStreamingManager24=function(){this.$VideoStreamingManager6&&this.$VideoStreamingManager6.destroy(),this.$VideoStreamingManager6=null};d.$VideoStreamingManager28=function(){__p&&__p();var a=this,c=function c(){__p&&__p();if(!a.$VideoStreamingManager9.length)return b("MaybeNativePromise").resolve(null);var d=a.$VideoStreamingManager9[0];return d().then(function(b){__p&&__p();if(!b){if(a.$VideoStreamingManager9.length===1){var d=a.$VideoStreamingManager15,e=a.$VideoStreamingManager1.getBool("switch_to_new_stream_when_end_byte_is_null",!1)&&d&&d.endByte==null,f=a.$VideoStreamingManager1.getBool("continuous_stream_on_higher_priority",!1)&&a.$VideoStreamingManager29();if(d&&(e||f)){e=a.$VideoStreamingManager3.getNextRequestInfo(d);if(e&&a.$VideoStreamingManager18&&a.$VideoStreamingManager3.isRequestInBufferTarget(e,a.$VideoStreamingManager18)){a.$VideoStreamingManager9.shift();a.$VideoStreamingManager6=null;a.$VideoStreamingManager25(e);a.$VideoStreamingManager26(e);return c()}}return null}a.$VideoStreamingManager9.shift();return c()}return b})};return c};d.$VideoStreamingManager29=function(){var a=this.$VideoStreamingManager11?this.$VideoStreamingManager11.getHighestPriority():-Infinity,b=this.$VideoStreamingManager11?this.$VideoStreamingManager11.getLength()===0:!0;return!b&&this.$VideoStreamingManager14>a};d.$VideoStreamingManager23=function(){__p&&__p();var a=this;if(!this.$VideoStreamingManager1.getBool("disable_auto_stream_start",!0)||this.$VideoStreamingManager10||this.$VideoStreamingManager17)return;var c=new(b("ContinuousPausableStreamTask"))(this.$VideoStreamingManager28(),this.$VideoStreamingManager7,this.$VideoStreamingManager14,this.$VideoStreamingManager5,{uncancellablePriority:this.$VideoStreamingManager1.getBool("disable_streaming_task_cancellation_on_high_pri",!1)?b("VideoPriorityCalculator").getMaxPriority():Infinity,disableAudioStreamPause:this.$VideoStreamingManager1.getBool("disable_audio_stream_pause",!1),yieldOnLowPriStream:this.$VideoStreamingManager1.getBool("enable_low_pri_multi_segment_fetch",!1),lowPriTaskYieldCheckInterval:this.$VideoStreamingManager1.getNumber("low_pri_task_yield_check_interval",0),lowPriTaskMinBytesToYield:this.$VideoStreamingManager1.getNumber("low_pri_task_min_bytes_to_yield",0),lowPriTaskYieldsPerTask:this.$VideoStreamingManager1.getNumber("low_pri_task_yields_per_task",0)});this.$VideoStreamingManager10=c;var d;this.$VideoStreamingManager11?d=this.$VideoStreamingManager11.enqueue(c,this.$VideoStreamingManager14):d=c.run();d.then(function(){a.$VideoStreamingManager10=null})["catch"](function(b){a.$VideoStreamingManager10=null,b.message==="cancelled"&&a.$VideoStreamingManager23()})};d.$VideoStreamingManager30=function(a,c){var d=a.startByte,e=a.endByte;c=c>=b("VideoPriorityCalculator").getMaxPriority()||this.$VideoStreamingManager1.getBool("enable_low_pri_multi_segment_fetch",!1)?this.$VideoStreamingManager3.getFetchRanges(a):[{startByte:d,endByte:e}];return c};d.$VideoStreamingManager25=function(a){this.$VideoStreamingManager15=a;a=a.baseUrl;this.$VideoStreamingManager8&&this.$VideoStreamingManager8!==a&&this.$VideoStreamingManager24();this.$VideoStreamingManager8=a};d.$VideoStreamingManager26=function(a){this.$VideoStreamingManager6==null&&(this.$VideoStreamingManager6=this.$VideoStreamingManager31(a)),this.$VideoStreamingManager27(a)};d.$VideoStreamingManager21=function(a){__p&&__p();var c=this;this.$VideoStreamingManager25(a);this.$VideoStreamingManager26(a);var d=a.startByte,e=a.endByte;return!this.$VideoStreamingManager6?b("MaybeNativePromise").reject():this.$VideoStreamingManager6.getReservedChunkStream({startByte:d,endByte:e}).then(function(a){c.$VideoStreamingManager23();return a})["catch"](function(b){c.$VideoStreamingManager6=c.$VideoStreamingManager31(a);return c.$VideoStreamingManager6.getReservedChunkStream({startByte:d,endByte:e}).then(function(a){c.$VideoStreamingManager23();return a})})};d.$VideoStreamingManager31=function(a){var c=this.$VideoStreamingManager3.getSegmentsBoundaries(a);a=this.$VideoStreamingManager32(a.baseUrl,c);c=new(b("ChunkableContinuousRangeStream"))(a,{disableStreamAutoStart:this.$VideoStreamingManager1.getBool("disable_auto_stream_start",!0),enableStreamRangeConcat:this.$VideoStreamingManager1.getBool("enable_stream_range_concat",!1),disableDeferredBufferArrayShift:this.$VideoStreamingManager1.getBool("disable_deferred_buffer_array_shift",!1),fixFixedSizeTransformOnNullEndByte:this.$VideoStreamingManager1.getBool("fix_fixed_size_transform_on_null_end_byte",!1),useNativePromiseInDeferredBuffer:this.$VideoStreamingManager1.getBool("use_native_promise_in_deferred_buffer",!1),fixStreamingUndefinedEndByte:this.$VideoStreamingManager1.getBool("fix_streaming_undefined_end_byte",!0),enablePausableStreamResumeFromStart:this.$VideoStreamingManager1.getBool("enable_pausable_stream_resume_from_start",!0),fixPausePreReadableStream:this.$VideoStreamingManager1.getBool("fix_pause_pre_readable_stream",!1),enableFactoryDestroy:this.$VideoStreamingManager1.getBool("enable_pausable_range_stream_factory_destroy",!1)});this.$VideoStreamingManager9.push(c.getPausableStreamFactory());return c};d.$VideoStreamingManager27=function(a){__p&&__p();var b=this.$VideoStreamingManager6;if(!b)return;var c=this.$VideoStreamingManager30(a,this.$VideoStreamingManager14);for(var c=c,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=b.updateRangeStream(f),h=b.getCurrentStreamRange();if(g==="closed")this.$VideoStreamingManager6=this.$VideoStreamingManager31(a),this.$VideoStreamingManager27(a);else if(h&&h.endByte===f.endByte)continue;return}};d.$VideoStreamingManager22=function(a){__p&&__p();var c=this,d=a.startByte,e=a.endByte;if(d===void 0)return b("MaybeNativePromise").reject("request range does not exist");var f=function(){c.$VideoStreamingManager4.setNextRequestInfo(a);(!c.$VideoStreamingManager4.isNextRequestContinuous()||!c.$VideoStreamingManager4.isNextRequestInRange()||!c.$VideoStreamingManager2)&&(c.$VideoStreamingManager2&&c.$VideoStreamingManager2.cancel("reset stream"),c.$VideoStreamingManager2=c.$VideoStreamingManager33(a));var b;e==null?b=void 0:b=e-d+1;return c.$VideoStreamingManager2.getNextFixedSizeStream(b)};return f()["catch"](function(){c.$VideoStreamingManager34();return f()})};d.$VideoStreamingManager33=function(a){var c=this.$VideoStreamingManager3.getSegmentsBoundaries(a);c=this.$VideoStreamingManager32(a.baseUrl,c);a=this.$VideoStreamingManager3.getFetchRanges(a)[0];this.$VideoStreamingManager4.setFetchRange(a);a=new(b("PausableRangeStream"))(b("ReadableStream"),b("WritableStream"),a,c,{fixStreamingUndefinedEndByte:this.$VideoStreamingManager1.getBool("fix_streaming_undefined_end_byte",!0)});c=new(b("FixedSizeTransform"))({fixFixedSizeTransformOnNullEndByte:this.$VideoStreamingManager1.getBool("fix_fixed_size_transform_on_null_end_byte",!1)});a.startStream();a.getStream().pipeTo(c.getSink());return c};d.$VideoStreamingManager32=function(a,c){var d=this,e=new(b("VideoSegmentStreamByFetch"))(a);a=function(a){return e.getResourceUrl(a)};var f=function(a){return d.$VideoStreamingManager3.getTimeRange(a)},g=e;g=this.$VideoStreamingManager35(g);g=this.$VideoStreamingManager36(g,a,f);this.$VideoStreamingManager7==="video"&&(g=this.$VideoStreamingManager37(g,c),this.$VideoStreamingManager1.getBool("enable_stream_progress_tracker",!1)&&(g=this.$VideoStreamingManager38(g)));return g};d.$VideoStreamingManager35=function(a){var c={startStream:function(c){var d=new(b("NetworkErrorTransformStream"))();return a.startStream(c).then(function(a){return a.pipeThrough(d)})}};return c};d.$VideoStreamingManager37=function(a,c){var d=this,e={startStream:function(e){var f=c[0].startByte,g=new(b("StreamBandwidthReporter"))(d.$VideoStreamingManager1,f,c.filter(function(a){return a!==null}).map(function(a){return a.endByte||0}));g.addListener("bandwidthUpdate",function(a){return d.emit("bandwidthUpdate",a)});return a.startStream(e).then(function(a){return a.pipeThrough(g)})}};return e};d.$VideoStreamingManager36=function(a,c,d){var e=this,f=this.$VideoStreamingManager5;if(!f||this.$VideoStreamingManager1.getBool("disable_shaka_perf_logger_for_streaming",!1))return a;var g={startStream:function(g){var h=new(b("StreamFetchRequestLogger"))(f,e.$VideoStreamingManager7,c(g),d(g),g,b("performanceNow")(),e.$VideoStreamingManager14);return a.startStream(g).then(function(a){return a.pipeThrough(h)})}};return g};d.$VideoStreamingManager38=function(a){var c=this;if(this.$VideoStreamingManager7!=="video")return a;var d={startStream:function(d){var e=new(b("StreamProgress"))(d);c.$VideoStreamingManager16!=null&&c.$VideoStreamingManager16.add(e);return a.startStream(d).then(function(a){return a.pipeThrough(e)})}};return d};d.$VideoStreamingManager34=function(){this.$VideoStreamingManager4=new(b("FetchStreamStateTracker"))()};return c}(b("EventEmitter"));e.exports=a}),null);
__d("ViewportPriorityAdjuster",["Event","SubscriptionsHandler","getElementPosition","getViewportDimensions","throttle"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=500,h=800;a=function(){__p&&__p();function a(a){var c=this;this.$1=function(){};this.$2=new(b("SubscriptionsHandler"))();this.$3=a;this.$2.addSubscriptions(b("Event").listen(window,"scroll",b("throttle")(function(){return c.$4(a)},g)))}var c=a.prototype;c.$5=function(a){__p&&__p();if(!a.paused)return 0;var c=b("getViewportDimensions")();a=b("getElementPosition")(a);var d=a.y;a=a.height;c=c.height;if(!d&&!a)return-2;if(d+a<0)return-2;return d>=0&&d+a<=c+h||d<=0&&d+a>=0?0:-1};c.$4=function(a){this.$1(this.$5(a))};c.setOnPriorityChanged=function(a){this.$1=a};c.getPriorityAdjustment=function(){return this.$5(this.$3)};c.cleanup=function(){this.$1=function(){},this.$2.release()};return a}();e.exports=a}),null);
__d("canUseFetchStream",[],(function(a,b,c,d,e,f){"use strict";function a(){var a=!!window.fetch,b=!!(window.ReadableStream&&window.WritableStream),c=!!(window.ReadableStream&&window.ReadableStream.prototype.pipeTo);return a&&b&&c}e.exports=a}),null);
__d("BlobFactory",["emptyFunction"],(function(a,b,c,d,e,f){__p&&__p();var g;function h(){try{new a.Blob(),g=!0}catch(a){g=!1}}var i=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder;a.Blob?c={getBlob:function(b,c){__p&&__p();b=b||[];c=c||{};g===void 0&&h();if(g)return new a.Blob(b,c);else{var d=new i();for(var e=0;e<b.length;e++)d.append(b[e]);return d.getBlob(c.type)}},isSupported:b("emptyFunction").thatReturnsTrue}:c={getBlob:function(){},isSupported:b("emptyFunction").thatReturnsFalse};e.exports=c}),null);
__d("filterObject",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=Object.prototype.hasOwnProperty;function a(a,b,c){if(!a)return null;var d={};for(var e in a)g.call(a,e)&&b.call(c,a[e],e,a)&&(d[e]=a[e]);return d}e.exports=a}),null);
__d("WebWorker",["invariant","BlobFactory","Bootloader","EventListener","SubscriptionsHandler","URI","WebWorkerConfig","XHRRequest","areSameOrigin","emptyFunction","filterObject","getCrossOriginTransport","gkx","memoize","performanceNow","recoverableViolation","requireCond","cr:951783"],(function(a,b,c,d,e,f,g){__p&&__p();var h=a.URL||a.webkitURL,i={remove:b("emptyFunction")},j=function(){"use strict";__p&&__p();function c(a){__p&&__p();var c=this;this.$2=!1;this.$3=null;this.$4=a;this.__worker=null;this.$5=b("emptyFunction");this.$6=b("emptyFunction");this.$7=[];this.$8=[];this.$9=!1;this.$10=new(b("SubscriptionsHandler"))();this.$1=b("cr:951783")!==null?b("cr:951783")(function(){c.$9||c.terminate()}):i;b("gkx")("708253")&&setTimeout(function(){!c.$9&&!c.isCurrentState("terminated")&&b("recoverableViolation")("WebWorker (resource: "+a.name+") allowCrossPageTransitions must be true on Comet, or you must handle cleaning up your worker.","comet_infra")},1e3);this.$11("constructed")}var d=c.prototype;d.setMessageHandler=function(a){this.$5=a||b("emptyFunction");return this};d.setErrorHandler=function(a){this.$6=a||b("emptyFunction");return this};d.postMessage=function(a,b){this.isCurrentState("constructed")&&g(0,5977);this.isCurrentState("terminated")&&g(0,5978);if(this.isCurrentState("preparing")){this.$7.push(this.postMessage.bind(this,a,b));return this}a={type:"message",message:a};b?this.getInterfaceableWorker().postMessage(a,b):this.getInterfaceableWorker().postMessage(a);return this};d.$12=function(){this.isCurrentState("terminated")||(this.$11("terminated"),this.__worker=null,this.$13(),this.$7=[],this.$8=[],this.$1&&this.$1.remove&&this.$1.remove())};d.terminate=function(){this.isCurrentState("executing")&&this.__worker!=null&&this.__worker.terminate();this.$12();return this};d.execute=function(){this.isCurrentState("terminated")&&g(0,5979);if(["preparing","executing"].some(this.isCurrentState,this))return this;this.$11("preparing");c.prepareResource(this.$4,this.$14.bind(this));return this};d.setAllowCrossPageTransition=function(a){b("gkx")("708253")&&!a&&b("recoverableViolation")("allowAcrossPageTransitions must be true because we dont kill these in Comet.","comet_infra");this.$9=a;return this};d.isCurrentState=function(a){c.states.includes(a)||g(0,5980,a);return a===this.$3};d.$14=function(){__p&&__p();this.isCurrentState("executing")&&g(0,5981);if(this.isCurrentState("terminated"))return;this.$4.sameOriginURL||this.$4.source||g(0,5982);this.$4.sameOriginURL?this.__worker=this.constructWorker(this.$4.sameOriginURL):(this.__worker=this.constructWorker(c.evalWorkerURL),this.getInterfaceableWorker().postMessage(this.$4.source));this.$15("ping",Date.now());if(this.$4.dynamicModules)try{this.$15("defineModules",this.$4.dynamicModules)}catch(a){this.terminate();this.$16("define_error",{message:a.message});throw a}this.$17();this.$11("executing");this.$7.forEach(function(a){return a()});this.$7=[];this.$8.forEach(function(a){return a()});this.$8=[]};d.$13=function(){this.$10.release()};d.$15=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.getInterfaceableWorker().postMessage({type:a,args:c})};d.$16=function(a,b){c.$16(a,this.$4.name,babelHelpers["extends"]({},b,{cross_page_transition:!!this.$9,state:this.$3}))};c.$18=function(){return Object.keys(b("filterObject")({object_url:c.$19(),eval_url:o(),data_url:c.$20(),worker:c.isSupported(),transferables:c.areTransferablesSupported()},function(a){return!!a}))};d.$17=function(){this.$10.addSubscriptions(b("EventListener").listen(this.getInterfaceableWorker(),"message",this.$21.bind(this)),b("EventListener").listen(this.__worker,"error",this.$22.bind(this)))};d.$22=function(a){var b=this.$6(a);!b&&!a.defaultPrevented&&this.$16("exception",{message:a.message})};d.$21=function(b){__p&&__p();b=b.data;switch(b.type){case"message":this.$5(b.message);break;case"pong":this.$2=!0;this.$16("executed",{dt:Math.floor(b.args[1]-b.args[0]),bytes:this.$4.source?this.$4.source.length:-1});break;case"terminate":this.terminate();break;case"haste-error":this.terminate();this.$16("haste_error",{message:b.message});break;case"console":var c=b.args.shift();["log","error","info","debug","warn"].includes(c)||g(0,5983,c);a.console[c].apply(a.console,b.args);break}};d.$11=function(a){c.states.includes(a)||g(0,5984,a),this.$16("transition",{next_state:a}),this.$3=a};c.prepareResource=function(d,e){__p&&__p();e===void 0&&(e=b("emptyFunction"));d.sameOriginURL||d.url||d.source||g(0,5985);!c.isSupported()&&g(0,5986);if(d.sameOriginURL)e();else if(d.url&&b("areSameOrigin")(new(b("URI"))(d.url),new(b("URI"))(a.location.href)))d.sameOriginURL=d.url,e();else if(d.source)c.$23()&&(d.sameOriginURL=c.$24(d.source)),e();else if(!d.loading){var f=b("performanceNow")();d.loading=[e];c.$25(d.url,function(a){a?(d.source=a,c.$23()&&(d.sameOriginURL=c.$24(a)),c.$16("prepared",d.name,{dt:Math.floor(b("performanceNow")()-f),bytes:a.length})):c.$16("failed",d.name,{dt:Math.floor(b("performanceNow")()-f),bytes:0}),d.loading.forEach(function(a){return a()}),d.loading=!1})}else d.loading.push(e);return d};c.releaseResource=function(a){a.sameOriginURL.indexOf("blob:")===0&&(h.revokeObjectURL&&h.revokeObjectURL(a.sameOriginURL),a.sameOriginURL=null);return a};c.isSupported=function(){return n&&(c.$23()||o())};c.isMessageChannelSupported=function(){return c.areTransferablesSupported()&&!!a.MessageChannel};c.areTransferablesSupported=function(){return c.isSupported()&&p()};c.$25=function(a,c){new(b("XHRRequest"))(a).setTransportBuilder(b("getCrossOriginTransport")).setMethod("GET").setResponseHandler(function(a){c(a)}).setErrorHandler(c.bind(null,null)).send()};c.$24=function(a){c.$23()||g(0,5987);if(c.$19()){var d=b("BlobFactory").getBlob([a],{type:"application/javascript"});return h.createObjectURL(d)}if(c.$20())return"data:application/javascript,"+encodeURIComponent(a)};c.$19=function(){return b("BlobFactory").isSupported()&&l()};c.$20=function(){return m()};c.$23=function(){return c.$19()||c.$20()};c.$16=function(a,d,e){if(!b("WebWorkerConfig").logging.enabled)return;b("Bootloader").loadModules(["BanzaiLogger"],function(f){f.log(b("WebWorkerConfig").logging.config,babelHelpers["extends"]({},e,{features_array:c.$18(),event:a,resource:d}))},"WebWorker")};d.constructWorker=function(a){return k(a)};d.$26=function(a,b){if(this.isCurrentState("preparing")){this.$8.push(this.$26.bind(this,a,b));return}this.getInterfaceableWorker().postMessage({type:"port",message:a},b)};d.createMessageChannel=function(a,b){var c=new MessageChannel();this.$26(a,[c.port2].concat(b||[]));c.port1.start();return c.port1};d.getInterfaceableWorker=function(){return this.__worker};return c}();j.states=["constructed","preparing","executing","terminated"];j.evalWorkerURL=b("WebWorkerConfig").evalWorkerURL;function k(b){return new a.Worker(b)}var l=b("memoize")(function(){__p&&__p();var a;if(!h||!h.createObjectURL)return!1;try{a=h.createObjectURL(b("BlobFactory").getBlob([""],{type:"application/javascript"}));var c=k(a);c.terminate();c=!0}catch(a){c=!1}finally{h.revokeObjectURL&&h.revokeObjectURL(a)}return c}),m=b("memoize")(function(){try{var a=k("data:application/javascript,");a.terminate();a=!0}catch(b){a=!1}return a}),n=!!a.Worker,o=b("memoize")(function(){try{var a=k(j.evalWorkerURL);a.terminate();a=!0}catch(b){a=!1}return a}),p=b("memoize")(function(){try{var a=k(j.evalWorkerURL),b=new ArrayBuffer(0);a.postMessage({buffer:b},[b]);a.terminate();b=!0}catch(a){b=!1}return b});e.exports=j}),null);
__d("WebWorkerTransferPromise",["invariant","Promise"],(function(a,b,c,d,e,f,g){__p&&__p();a={expectPromise:function(a){__p&&__p();var c=new(b("Promise"))(function(b,c){__p&&__p();function d(e){__p&&__p();e instanceof MessageEvent||g(0,1465);e=e.data;e||g(0,1466);var f=e.type;e=e.data;switch(f){case"resolve":b(e);break;case"reject":c(e);break;default:throw new Error("Expected a WebWorkerTransferPromise, but didn't receive one.")}a.removeEventListener("message",d)}a.addEventListener("message",d)});return c},sendPromise:function(a,b){function c(b){a.postMessage({type:"resolve",data:b})}function d(b){a.postMessage({type:"reject",data:b})}b(c,d)}};e.exports=a}),null);
__d("getSeekRangeGapsFromShakaReferences",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){var c=[];for(var d=0;d<a.length;++d)if(a[d].timescaledGapInfo&&a[d].timescaledGapInfo.gapDistance>0){var e=0;a[d].unscaledStartTime&&(e=a[d].startTime-a[d].unscaledStartTime/b);c.push({start:a[d].timescaledGapInfo.segmentOriginalEndTime+e,end:a[d].endTime})}return c}e.exports=a}),null);
__d("logLongAkamaiRequest",["CurrentUser","FBLogger"],(function(a,b,c,d,e,f){var g=!1,h=2,i=[];function a(a){b("CurrentUser").isEmployee()&&!g&&(i=i.filter(function(a){a=a.time;return Date.now()-a<1e3*60*2}),i.push({data:a,time:Date.now()}),i.length>=h&&(g=!0,b("FBLogger")("shaka").warn("Long latency video request to akamai: %s",i.map(function(a){a=a.data;return a}).join(" ; "))))}e.exports=a}),null);
__d("mergeSeekRangeGaps",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var b=[];if(a.length){a.sort(function(a,b){return a.start-b.start});var c=a[0].start,d=a[0].end;for(var e=1;e<a.length;++e)a[e].start<=d?d=Math.max(d,a[e].end):(b.push({startTime:c,endTime:d}),c=a[e].start,d=a[e].end);b.push({startTime:c,endTime:d})}return b}e.exports=a}),null);
__d("getBandwidthUpgradeTargetFactor",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){return b<c||c<=0?1:1-a/b*d}e.exports=a}),null);
__d("getVideoTracksWithoutSmoothPlayback",["Promise"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();if(!window.navigator||!window.navigator.mediaCapabilities||typeof window.navigator.mediaCapabilities.decodingInfo!=="function")return b("Promise").resolve([]);var d=window.navigator.mediaCapabilities.decodingInfo,e={type:"media-source",audio:{contentType:(c.mimeType||"")+'; codecs="'+(c.codecs||"")+'"',channels:String(c.channels),bitrate:c.bandwidth,samplerate:c.samplingRate}};return b("Promise").all(a.map(function(a){return d(babelHelpers["extends"]({},e,{video:{contentType:(a.mimeType||"")+'; codecs="'+(a.codecs||"")+'"',width:a.width,height:a.height,bitrate:a.bandwidth,framerate:a.frameRate}}))})).then(function(b){var c=[];a.forEach(function(a,d){(!b[d].supported||!b[d].smooth)&&c.push(a)});return c})["catch"](function(a){return[]})}e.exports=a}),null);
__d("P2PPlaybackSessionLogger",["LiveVideoWorkplaceP2PPlaybackTypedLogger","Random"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$4=!1,this.$1=a,this.$2=b("Random").uint32(),this.$7()}var c=a.prototype;c.getSessionID=function(){return this.$2};c.setCurrentHiveStats=function(a){this.$3=a,!this.$4&&a.p2pRequests>0&&(this.$4=!0,this.logReceivedFirstPeerRequest())};c.pauseStatsLogging=function(){this.$5&&(window.clearInterval(this.$5),this.$5=null)};c.resumeStatsLogging=function(){this.$7()};c.$7=function(){this.$5||(this.$5=window.setInterval(this.logStats.bind(this),60*1e3))};c.$8=function(){return new(b("LiveVideoWorkplaceP2PPlaybackTypedLogger"))().setVideoID(this.$1).setSessionID(this.$2)};c.logEnableP2P=function(){this.$8().setEventStr("ENABLE_P2P").log()};c.logSessionInit=function(a,b){this.$6=Date.now(),this.$8().setEventStr("SESSION_INITIALIZED").setHivePluginTech(a).setViewerManifestURL(b).log()};c.logManifestMismatch=function(a,b){this.$8().setEventStr("MANIFEST_MISMATCH").setBroadcastURL(a).setViewerManifestURL(b).log()};c.logError=function(a){this.$8().setEventStr("ERROR").setExceptionTrace(a.stack).setExceptionMessage(a.message).setExceptionType(a.name).log()};c.logHiveError=function(a){this.$8().setEventStr("ERROR").setExceptionMessage(a.message).setExceptionType("HiveErrorMessage").setExceptionCode(a.code).setExceptionSeverity(a.severity!=null?a.severity:a.ya).log()};c.logUnload=function(){var a=this.$8().setEventStr("UNLOAD"),b=this.$3;b&&a.setHiveClientStatsCdnRequests(b.cdnRequests).setHiveClientStatsCdnResponseBytes(b.cdnResponseBytes).setHiveClientStatsCdnResponseErrors(b.cdnResponseErrors).setHiveClientStatsCdnResponses(b.cdnResponses).setHiveClientStatsP2pRequests(b.p2pRequests).setHiveClientStatsP2pResponseBytes(b.p2pResponseBytes).setHiveClientStatsP2pResponseErrors(b.p2pResponseErrors).setHiveClientStatsP2pResponses(b.p2pResponses).setHiveClientStatsSavings(parseInt(b.savings,10)).setHiveClientStatsNumPartners(Object.keys(b.partners).length);a.log()};c.logCreatedP2PVideoSource=function(){this.$8().setEventStr("CREATED_VIDEO_SOURCE").log()};c.logStats=function(){var a=this.$3,b=this.$8().setEventStr("STATS");a&&b.setHiveClientStatsCdnRequests(a.cdnRequests).setHiveClientStatsCdnResponseBytes(a.cdnResponseBytes).setHiveClientStatsCdnResponseErrors(a.cdnResponseErrors).setHiveClientStatsCdnResponses(a.cdnResponses).setHiveClientStatsP2pRequests(a.p2pRequests).setHiveClientStatsP2pResponseBytes(a.p2pResponseBytes).setHiveClientStatsP2pResponseErrors(a.p2pResponseErrors).setHiveClientStatsP2pResponses(a.p2pResponses).setHiveClientStatsSavings(parseInt(a.savings,10)).setHiveClientStatsNumPartners(Object.keys(a.partners).length);b.log()};c.logReceivedFirstPeerRequest=function(){this.$8().setEventStr("RECEIVED_FIRST_PEER_REQUEST").log()};c.logEndSession=function(){var a=this.$6;a=a!=null?Date.now()-a:-1;this.$8().setEventStr("SESSION_END").setTimeSpentInP2pMs(a).log()};return a}();e.exports=a}),null);
__d("PerformanceResourceBuffer",["BanzaiODS","EventEmitter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=a.__isResourceTimingBufferFull;delete a.__isResourceTimingBufferFull;performance.onresourcetimingbufferfull=function(){g=!0,h&&h.emit("full")};var h;c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.isBufferFull=function(){return g};return b}(b("EventEmitter"));h=new c();h.isBufferFull()?b("BanzaiODS").bumpEntityKey(2966,"performance","resourcetimingbufferfull"):h.addListener("full",function(){return b("BanzaiODS").bumpEntityKey(2966,"performance","resourcetimingbufferfull")});e.exports=h}),null);
__d("oz-player/utils/OzTaggedTimeRanges",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=[],this.$2=0,this.$3=0,this.$4=a?a:function(a,b){return a===b}}var b=a.prototype;b.add=function(a,b,c){__p&&__p();if(b<a)return;if(b===a)return;if(this.$1.length===0){this.$1.push({startTime:a,endTime:b,tag:c});return}var d=0,e=0;for(var f=0;f<this.$1.length;f++){if(a===this.$1[f].startTime&&b===this.$1[f].endTime){d=f;e=f+1;break}a>=this.$1[f].startTime&&(d=f+1);b<=this.$1[f].endTime&&(e=f);if(b<this.$1[f].startTime)break}this.$1.splice(d,e-d,{startTime:a,endTime:b,tag:c});this.$5(d)};b.$5=function(a){var b=this.$1[a],c=null;a!==0&&(c=this.$1[a-1]);c!==null&&(this.$4(c.tag,b.tag)?c.endTime>=b.startTime&&(this.$1.splice(a-1,2,{startTime:c.startTime,endTime:Math.max(b.endTime,c.endTime),tag:b.tag}),a--):(c.endTime>b.startTime&&c.startTime===b.startTime?(this.$1.splice(a-1,1),a--):c.endTime>b.startTime&&this.$1.splice(a-1,1,{startTime:c.startTime,endTime:b.startTime,tag:c.tag}),c.endTime>b.endTime&&this.$1.splice(a+1,0,{startTime:b.endTime,endTime:c.endTime,tag:c.tag})));c=null;a!==this.$1.length-1&&(c=this.$1[a+1]);c&&(this.$4(c.tag,b.tag)?c.startTime<=b.endTime&&this.$1.splice(a,2,{startTime:b.startTime,endTime:Math.max(c.endTime,b.endTime),tag:b.tag}):c.startTime<=b.endTime&&(c.endTime<b.endTime?(this.$1.splice(a,1,{startTime:b.startTime,endTime:c.startTime,tag:b.tag}),this.$1.push({startTime:c.endTime,endTime:b.endTime,tag:b.tag})):this.$1.splice(a+1,1,{startTime:b.endTime,endTime:c.endTime,tag:c.tag})))};b.get=function(a){var b=a>=this.$3?this.$2:0,c=null;for(var b=b;b<this.$1.length;b++)if(this.$1[b].startTime<=a&&a<this.$1[b].endTime){c=b;break}this.$2=c===null?0:c;this.$3=a;return c===null?null:this.$1[c].tag};b.getLength=function(){return this.$1.length};return a}();e.exports=a}),null);
__d("TaggedTimeRanges",["oz-player/utils/OzTaggedTimeRanges"],(function(a,b,c,d,e,f){e.exports=b("oz-player/utils/OzTaggedTimeRanges")}),null);
__d("VideoPlayerLiveStreamState",["EventEmitter","SkywalkerManager"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={interrupt:"streamInterruptAt",ended:"endedAt"};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c.$VideoPlayerLiveStreamState2=b;c.$VideoPlayerLiveStreamState1=[];return c}var d=c.prototype;d.subscribe=function(){this.$VideoPlayerLiveStreamState1=[];for(var a in g)this.$VideoPlayerLiveStreamState1.push(b("SkywalkerManager").subscribe("video_broadcast/"+a+"_"+this.$VideoPlayerLiveStreamState2,this.$VideoPlayerLiveStreamState3.bind(this,g[a])))};d.unsubscribe=function(){__p&&__p();for(var a=this.$VideoPlayerLiveStreamState1,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d.unsubscribe()}this.$VideoPlayerLiveStreamState1=[]};d.$VideoPlayerLiveStreamState3=function(a,b){b=JSON.parse(b.payload||"{}")||{};b=b.time_position;typeof b==="number"&&(b/=1e3,this.emit(a,b))};return c}(b("EventEmitter"));e.exports=a}),null);
__d("XVideoDataAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/video_data_async/",{video_id:{type:"String",required:!0},width:{type:"Int"},height:{type:"Int"},scrubbing_preference:{type:"Int"},source:{type:"String"},preferred_projection:{type:"Enum",enumType:1},supports_html5_video:{type:"Bool",defaultValue:!0},is_ad:{type:"Bool",defaultValue:!1},force_flash:{type:"Bool",defaultValue:!1},is_omnistab_preview_select_revert:{type:"Bool",defaultValue:!1},allow_dash_prefetch:{type:"Bool",defaultValue:!1},force_hd:{type:"Bool",defaultValue:!1},host_number:{type:"Int"},include_extra_drm_info:{type:"Bool",defaultValue:!0}})}),null);
__d("supportsHTML5Video",["DOM","memoize"],(function(a,b,c,d,e,f){e.exports=b("memoize")(function(){return!!b("DOM").create("video").canPlayType})}),null);
__d("dangerouslyOverrideMediaElementEndedProperty",[],(function(a,b,c,d,e,f){function a(a){a===void 0&&(a={});a.dangerouslyOverrideMediaElementEndedProperty=!0;return a}a.isEnded=function(a){return!!(a&&a.detail&&a.detail.dangerouslyOverrideMediaElementEndedProperty)};e.exports=a}),null);
__d("getVideoPlayerShakaSeekableRanges",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var b=[];if(a.seekRangeGaps.length===0)b.push({startTime:a.start,endTime:a.end});else{var c=a.start,d;for(var e=0;e<a.seekRangeGaps.length;++e)d=a.seekRangeGaps[e].startTime,b.push({startTime:c,endTime:d}),c=a.seekRangeGaps[e].endTime;d=a.end;b.push({startTime:c,endTime:d})}return b}e.exports=a}),null);
__d("VideoPlayerHTML5Shaka",["invariant","regeneratorRuntime","Promise","CustomAbrManager","EventEmitter","EventListener","LowLatencyPlayheadManager","LowLatencyShakaTimingProvider","P2PPlaybackSessionLogger","Shaka","SubscriptionsHandler","TaggedTimeRanges","VideoDashPrefetchCache","VideoPlayerAbrLogger","VideoPlayerConnectionQuality","VideoPlayerLiveStreamState","VideoPlayerMetaData","VideoPlayerPlayLogger","VideoPlayerShakaBandwidthEstimator","VideoPlayerShakaPerformanceLogger","VideoPriorityCalculator","VideoStreamingTaskQueueProvider","clearInterval","dangerouslyOverrideMediaElementEndedProperty","dispatchCustomEvent","dispatchEvent","nullthrows","qex","setInterval","throttle","TimeRanges","getVideoPlayerShakaSeekableRanges","LiveClock","URI","PerformanceResourceBuffer"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("Shaka").player;var h=a.DashVideoSource,i=a.Player,j=a.VideoTrack,k=b("Shaka").dash.mpd.parseMpd,l=b("VideoPlayerShakaBandwidthEstimator").getEstimator();b("PerformanceResourceBuffer");c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(d,e,f){__p&&__p();var g,h=f.config,j=f.videoID,l=f.playerInstanceKey,m=f.width,n=f.height,o=f.manifest,p=f.manifestUrl,q=f.isLive,r=f.isServableViaFbms,s=f.minPlayQuality,t=f.maxPlayQuality,u=f.accessToken,v=f.startTimestamp,w=f.disableStreaming,x=f.playerOrigin,y=f.playerSuborigin,z=f.resolutionConstraintMaxHeight,A=f.resolutionConstraintMaxWidth,B=f.useStrictTrackDimensionsExclusionLogic,C=f.isSpherical,D=f.getSource,E=f.vpcPlayingStateEmitter,F=f.streamPriorityAdjuster,G=f.videoLiveTrace,H=f.videoLicenseUriMap,I=f.graphApiVideoLicenseUri,J=f.widevineCert,K=f.videoWatchTimeTracker,L=f.desiredLatencyMs,M=f.disableAbr;f=f.p2pSettings;g=a.call(this)||this;g.$VideoPlayerHTML5Shaka33=null;g.$VideoPlayerHTML5Shaka47=new(b("SubscriptionsHandler"))();g.$VideoPlayerHTML5Shaka2=h;g.$VideoPlayerHTML5Shaka5=s;g.$VideoPlayerHTML5Shaka6=t;g.$VideoPlayerHTML5Shaka7=!1;g.$VideoPlayerHTML5Shaka8=null;g.$VideoPlayerHTML5Shaka9=1;g.$VideoPlayerHTML5Shaka10=!1;g.$VideoPlayerHTML5Shaka11=q;g.$VideoPlayerHTML5Shaka12=q;g.$VideoPlayerHTML5Shaka13=r;g.$VideoPlayerHTML5Shaka14=!1;g.$VideoPlayerHTML5Shaka15=C;g.$VideoPlayerHTML5Shaka53=!!M;f&&(g.$VideoPlayerHTML5Shaka54=f.ticket,g.$VideoPlayerHTML5Shaka57=f.hive_initialization_options,g.$VideoPlayerHTML5Shaka55=f.config);g.$VideoPlayerHTML5Shaka17=m;g.$VideoPlayerHTML5Shaka18=n;g.$VideoPlayerHTML5Shaka48=H;g.$VideoPlayerHTML5Shaka49=I;g.$VideoPlayerHTML5Shaka51=J;g.$VideoPlayerHTML5Shaka33=o||p;g.$VideoPlayerHTML5Shaka41=K;g.$VideoPlayerHTML5Shaka44=(typeof z==="number"?z:g.$VideoPlayerHTML5Shaka2.getNumber("resolution_constraint_max_height",0))||Infinity;g.$VideoPlayerHTML5Shaka45=(typeof A==="number"?A:g.$VideoPlayerHTML5Shaka2.getNumber("resolution_constraint_max_width",0))||Infinity;g.$VideoPlayerHTML5Shaka46=B;g.$VideoPlayerHTML5Shaka3=e;g.$VideoPlayerHTML5Shaka36=null;g.$VideoPlayerHTML5Shaka20=D;h=g.$VideoPlayerHTML5Shaka36;g.$VideoPlayerHTML5Shaka4=j;g.$VideoPlayerHTML5Shaka50=u;g.$VideoPlayerHTML5Shaka26=b("VideoPlayerShakaPerformanceLogger").shouldInitialize()?new(b("VideoPlayerShakaPerformanceLogger"))({videoID:j,video:d,representationId:h,isLive:q,isServableViaFbms:r,accessToken:u,playerOrigin:x,playerSuborigin:y,playerVersion:g.getPlayerVersion(),uniqueID:l,getBandwidthEstimate:function(a){return b("VideoPlayerShakaBandwidthEstimator").getBandwidthByVideoType(a)},isDrm:g.isDrm()}):null;g.$VideoPlayerHTML5Shaka26&&(g.$VideoPlayerHTML5Shaka28=new(b("VideoPlayerPlayLogger"))(d,g.$VideoPlayerHTML5Shaka26));g.$VideoPlayerHTML5Shaka30=new(b("VideoPlayerAbrLogger"))({videoID:j,uniqueID:l,video:d,isLive:q,isServableViaFbms:r,playerOrigin:x}).setRepresentationID(h);g.$VideoPlayerHTML5Shaka61();b("EventListener").listen(d,"playing",g.$VideoPlayerHTML5Shaka62.bind(babelHelpers.assertThisInitialized(g)));b("EventListener").listen(d,"timeupdate",function(a){g.$VideoPlayerHTML5Shaka63(a.target.currentTime)});b("EventListener").listen(d,"pause",g.$VideoPlayerHTML5Shaka64.bind(babelHelpers.assertThisInitialized(g)));b("EventListener").listen(d,"play",g.$VideoPlayerHTML5Shaka65.bind(babelHelpers.assertThisInitialized(g)));g.$VideoPlayerHTML5Shaka32=Date.now();g.$VideoPlayerHTML5Shaka2.getBool("refresh_vod_manifest",!1)&&g.$VideoPlayerHTML5Shaka66();g.$VideoPlayerHTML5Shaka22=[];g.$VideoPlayerHTML5Shaka23=null;g.$VideoPlayerHTML5Shaka24=null;g.$VideoPlayerHTML5Shaka38=E;g.$VideoPlayerHTML5Shaka39=F;g.$VideoPlayerHTML5Shaka19=new i(d,g.$VideoPlayerHTML5Shaka2,g.$VideoPlayerHTML5Shaka26,g.$VideoPlayerHTML5Shaka30,g.$VideoPlayerHTML5Shaka38,g.$VideoPlayerHTML5Shaka39,G);if(g.$VideoPlayerHTML5Shaka12&&g.$VideoPlayerHTML5Shaka2.getBool("is_low_latency",!1)){s=new(b("LiveClock"))();s.startClock();g.$VideoPlayerHTML5Shaka52=new(b("LowLatencyPlayheadManager"))(babelHelpers.assertThisInitialized(g),d,g.$VideoPlayerHTML5Shaka4,new(b("LowLatencyShakaTimingProvider"))(g.$VideoPlayerHTML5Shaka19),s,{lowLatencyMs:L||g.$VideoPlayerHTML5Shaka2.getNumber("ll_desired_latency_ms",7e3),lowLatencyThresholdMs:g.$VideoPlayerHTML5Shaka2.getNumber("ll_latency_behind_threshold_ms",500),lowLatencySeekForwardMs:g.$VideoPlayerHTML5Shaka2.getNumber("ll_latency_seek_forward_ms",400),lowLatencyAdjustPlaybackIntervalMs:g.$VideoPlayerHTML5Shaka2.getNumber("ll_adjust_playback_interval_ms",250)});g.$VideoPlayerHTML5Shaka52.setState("stopped")}g.$VideoPlayerHTML5Shaka19.addEventListener("seekrangechanged",function(){return g.$VideoPlayerHTML5Shaka67()});g.$VideoPlayerHTML5Shaka19.addEventListener("bufferingStart",function(){return g.$VideoPlayerHTML5Shaka68()});g.$VideoPlayerHTML5Shaka19.addEventListener("bufferingEnd",function(){return g.$VideoPlayerHTML5Shaka69()});g.$VideoPlayerHTML5Shaka19.addEventListener("bufferingProgress",g.$VideoPlayerHTML5Shaka70.bind(babelHelpers.assertThisInitialized(g)));g.$VideoPlayerHTML5Shaka19.addEventListener("error",function(a){return g.$VideoPlayerHTML5Shaka71(a)});g.$VideoPlayerHTML5Shaka19.addEventListener("adaptation",g.$VideoPlayerHTML5Shaka72.bind(babelHelpers.assertThisInitialized(g)));g.$VideoPlayerHTML5Shaka19.addEventListener("trackschanged",g.$VideoPlayerHTML5Shaka73.bind(babelHelpers.assertThisInitialized(g)));g.$VideoPlayerHTML5Shaka19.addEventListener("debug/dashPlayerEvent",function(a){return g.emit("debug/dashPlayerEvent",a.detail)});g.$VideoPlayerHTML5Shaka19.addEventListener("manifestwrapped",g.$VideoPlayerHTML5Shaka74.bind(babelHelpers.assertThisInitialized(g)));g.$VideoPlayerHTML5Shaka19.addEventListener("cea608CaptionsBytesReceived",function(a){g.emit("cea608CaptionsBytesReceived",a.detail)});g.$VideoPlayerHTML5Shaka19.addEventListener("cea608AvailabilityChanged",function(){g.emit("cea608AvailabilityChanged")});g.$VideoPlayerHTML5Shaka19.addEventListener("manifestIsUpdating",g.$VideoPlayerHTML5Shaka75.bind(babelHelpers.assertThisInitialized(g)));g.$VideoPlayerHTML5Shaka19.addEventListener("replicaswitch",g.$VideoPlayerHTML5Shaka76.bind(babelHelpers.assertThisInitialized(g)));g.$VideoPlayerHTML5Shaka19.addEventListener("networkinterrupted",g.$VideoPlayerHTML5Shaka77.bind(babelHelpers.assertThisInitialized(g)));g.$VideoPlayerHTML5Shaka19.addEventListener("networkresumed",g.$VideoPlayerHTML5Shaka78.bind(babelHelpers.assertThisInitialized(g)));t=!1;C=null;M=null;g.$VideoPlayerHTML5Shaka42=g.$VideoPlayerHTML5Shaka2.getBool("live_send_push_headers",!0);g.$VideoPlayerHTML5Shaka43=p;o?g.$VideoPlayerHTML5Shaka35=k(o,p):(g.$VideoPlayerHTML5Shaka35=p,t=p&&p.indexOf("dash-abr")!==-1);t&&(g.$VideoPlayerHTML5Shaka42=g.$VideoPlayerHTML5Shaka2.getBool("live_abr_send_push_headers",!0),g.$VideoPlayerHTML5Shaka42&&(C=g.$VideoPlayerHTML5Shaka2.getString("live_abr_initial_push_representation","live-md_H264"),M=g.$VideoPlayerHTML5Shaka2.getString("live_abr_audio_push_representation","live-md_AAC"),g.$VideoPlayerHTML5Shaka3=[g.$VideoPlayerHTML5Shaka2.getString("live_abr_initial_push_representation","live-md_H264")]),g.$VideoPlayerHTML5Shaka2.getBool("live_abr_always_force_representation",!1)&&(g.$VideoPlayerHTML5Shaka3=[g.$VideoPlayerHTML5Shaka2.getString("live_abr_initial_push_representation","live-md_H264")]));g.$VideoPlayerHTML5Shaka1=d;g.$VideoPlayerHTML5Shaka40=g.$VideoPlayerHTML5Shaka79();g.$VideoPlayerHTML5Shaka25=g.$VideoPlayerHTML5Shaka80();f=g.$VideoPlayerHTML5Shaka12?g.$VideoPlayerHTML5Shaka2.getBool("enable_request_pipelining_for_live",!0):g.$VideoPlayerHTML5Shaka2.getBool("enable_request_pipelining_for_vod",!0);g.$VideoPlayerHTML5Shaka54&&q&&g.$VideoPlayerHTML5Shaka55&&(g.$VideoPlayerHTML5Shaka55.delay_p2p_until_play||g.$VideoPlayerHTML5Shaka81(),f=!1);g.$VideoPlayerHTML5Shaka19.configure({enableAdaptation:g.getIsAbrEnabled(),appendPlayingQueryParam:g.$VideoPlayerHTML5Shaka2.getBool("add_cdn_debug_query_parameters",!0),endBufferingOnPlaying:g.$VideoPlayerHTML5Shaka2.getBool("end_buffering_on_playing",!1),usePlaybackRateForBuffering:!0,streamBufferSize:g.$VideoPlayerHTML5Shaka2.getBool("use_stream_buffer_size_override",!1)?0:g.$VideoPlayerHTML5Shaka82(),initialStreamBufferSize:c.isAutoplayBandwidthRestrained(q)?g.$VideoPlayerHTML5Shaka2.getNumber("initial_stream_buffer_size_for_blocked_autoplay",5.9335983320607):g.$VideoPlayerHTML5Shaka2.getBool("use_stream_buffer_size_override",!1)?0:g.$VideoPlayerHTML5Shaka83(),smartBufferAdjustmentParams:{useSmartBuffering:g.$VideoPlayerHTML5Shaka2.getBool("use_smart_buffering",!1),bufferSize_00_to_03:g.$VideoPlayerHTML5Shaka2.getNumber("buffer_size_00_to_03",5),bufferSize_03_to_10:g.$VideoPlayerHTML5Shaka2.getNumber("buffer_size_03_to_10",15),bufferSize_10_to_30:g.$VideoPlayerHTML5Shaka2.getNumber("buffer_size_10_to_30",30),bufferSize_30_to_60:g.$VideoPlayerHTML5Shaka2.getNumber("buffer_size_30_to_60",600),bufferSize_above_60:g.$VideoPlayerHTML5Shaka2.getNumber("buffer_size_above_60",600),nonSmartBufferSize:g.$VideoPlayerHTML5Shaka2.getNumber("non_smart_buffer_size",15)},dynamicStreamBufferSize:q?g.$VideoPlayerHTML5Shaka2.getNumber("live_dynamic_stream_buffer_size",12):null,includeStreamBufferSizeInStartOffset:!0,minMpdRefreshInterval:g.$VideoPlayerHTML5Shaka2.getNumber("min_mpd_refresh_interval",1e3),disableCacheBustingEvenThoughItMayAffectBandwidthEstimation:!0,liveStreamEndTimeout:g.$VideoPlayerHTML5Shaka2.getNumber("live_stream_end_timeout",6e4),enableLiveInterruptionDetection:!0,liveInterruptionConsecutiveUpdatesWithoutChange:g.$VideoPlayerHTML5Shaka2.getNumber("live_interruption_consecutive_updates_without_change",5),liveInterruptionConsecutiveUpdatesWithChange:g.$VideoPlayerHTML5Shaka2.getNumber("live_interruption_consecutive_updates_with_change",3),liveMaxSegmentsToPush:g.$VideoPlayerHTML5Shaka2.getNumber("live_max_segments_to_push",2),liveSendPushHeaders:c.isAutoplayBandwidthRestrained(q)?!1:g.$VideoPlayerHTML5Shaka84(),liveMaxManifestFetchesWithPush:g.$VideoPlayerHTML5Shaka2.getNumber("live_max_manifest_fetches_with_push",1),resolveVideoTimeUpdateOnFragmentedTimeRanges:g.$VideoPlayerHTML5Shaka2.getBool("resolve_video_time_update_on_fragmented_time_ranges",!0),enableManifestDebug:g.$VideoPlayerHTML5Shaka2.getBool("enable_video_debug",!1),reappendInitSegmentAfterAbort:g.$VideoPlayerHTML5Shaka2.getBool("reappend_init_segment_after_abort",!1),useInlineInitSegment:g.$VideoPlayerHTML5Shaka2.getBool("use_inline_init_segment",!1),currentTimeDuringReadyStateZeroThrows:g.$VideoPlayerHTML5Shaka2.getBool("current_time_during_ready_state_zero_throws",!1),liveInitialPushRepresentation:C,liveAudioPushRepresentation:M,jumpToLiveThreshold:g.$VideoPlayerHTML5Shaka2.getNumber("jump_to_live_threshold",.5),liveDataFetchMaxRetries:g.$VideoPlayerHTML5Shaka2.getNumber("live_data_fetch_max_retries",0),liveSourceBufferClearMaxRetries:g.$VideoPlayerHTML5Shaka2.getNumber("live_source_buffer_clear_max_retries",0),useLongCacheForManifest:g.$VideoPlayerHTML5Shaka2.getBool("use_long_cache_for_manifest",!0),jumpToEarliestPositionInCurrentBlock:g.$VideoPlayerHTML5Shaka2.getBool("jump_to_earliest_position_in_current_block",!0),ignoreMinBufferTime:g.$VideoPlayerHTML5Shaka2.getBool("ignore_min_buffer_time",!1),playheadFragmentedGapDiffAllowance:g.$VideoPlayerHTML5Shaka2.getNumber("playhead_fragmented_gap_diff_allowance",.1),fixBufferingGoalDetermination:g.$VideoPlayerHTML5Shaka2.getBool("fix_buffering_goal_determination",!0),skipEmptySegments:g.$VideoPlayerHTML5Shaka2.getBool("skip_empty_segments",!1),useMicroTaskTimeouts:!0,enableRequestPipelining:f,enableStreaming:!w&&(g.$VideoPlayerHTML5Shaka12?g.$VideoPlayerHTML5Shaka2.getBool("enable_streaming_for_live",!1):g.$VideoPlayerHTML5Shaka2.getBool("enable_streaming_for_vod",!0)),enableContentProtection:g.$VideoPlayerHTML5Shaka2.getBool("enable_content_protection",!1)});if(q){m=new(b("VideoPlayerLiveStreamState"))(j);g.$VideoPlayerHTML5Shaka37=m;g.$VideoPlayerHTML5Shaka19.addEventListener("liveheadIdleAt",function(a){a=a.seconds;a>(g.$VideoPlayerHTML5Shaka8||0)&&(g.$VideoPlayerHTML5Shaka85(a),g.$VideoPlayerHTML5Shaka27&&g.$VideoPlayerHTML5Shaka86()&&(g.$VideoPlayerHTML5Shaka87(),g.emit("bufferingEnd")))});g.addListenersToLiveStreamState(m)}v&&g.$VideoPlayerHTML5Shaka19.setPlaybackStartTime(v);g.$VideoPlayerHTML5Shaka60=g.$VideoPlayerHTML5Shaka19.load(g.$VideoPlayerHTML5Shaka25).then(function(){g.$VideoPlayerHTML5Shaka60=null})["catch"](function(a){g.$VideoPlayerHTML5Shaka60=null;g.$VideoPlayerHTML5Shaka2.getBool("fallback_on_videosource_load_410_error",!1)&&a.type==="net"&&a.status===410&&g.$VideoPlayerHTML5Shaka71(a);if(g.$VideoPlayerHTML5Shaka7&&g.$VideoPlayerHTML5Shaka2.getBool("ignore_errors_after_unload",!0))return;throw a});g.$VideoPlayerHTML5Shaka52&&g.$VideoPlayerHTML5Shaka52.startFixedLatencySync();return g}var d=c.prototype;d.$VideoPlayerHTML5Shaka81=function(){__p&&__p();var a=this,c,d,e,f,g,h,i;return b("regeneratorRuntime").async(function(j){__p&&__p();while(1)switch(j.prev=j.next){case 0:c=this.$VideoPlayerHTML5Shaka59;c==null&&(this.$VideoPlayerHTML5Shaka59=c=new(b("P2PPlaybackSessionLogger"))(this.$VideoPlayerHTML5Shaka4));j.prev=2;c.logEnableP2P();d=this.$VideoPlayerHTML5Shaka57?this.$VideoPlayerHTML5Shaka57:{};e=d.HiveJS?d.HiveJS:{};e.renderStatsCallback=function(c){a.emit("debug/dashPlayerEvent",{type:"P2PStats",event:c}),b("nullthrows")(a.$VideoPlayerHTML5Shaka59).setCurrentHiveStats(c)};f=d.hiveTechOrder!=null?d.hiveTechOrder.indexOf("HiveJava"):-1;this.$VideoPlayerHTML5Shaka55&&this.$VideoPlayerHTML5Shaka55.disable_hivejava_for_livevc&&this.$VideoPlayerHTML5Shaka35&&this.$VideoPlayerHTML5Shaka35.startsWith("https://livestream-lookaside")&&d.hiveTechOrder&&f!==-1&&d.hiveTechOrder.splice(f,1);d.HiveJS=e;d.telemetryId=c.getSessionID();d.onError=this.$VideoPlayerHTML5Shaka88.bind(this);window.HiveConfig.SensitiveInfo.restrictedConnectivityInfo=!0;g=new window.HiveFacebook(this.$VideoPlayerHTML5Shaka19,this.$VideoPlayerHTML5Shaka1,d);if(this.$VideoPlayerHTML5Shaka35){j.next=16;break}return j.abrupt("return");case 16:h=this.$VideoPlayerHTML5Shaka35.substring(this.$VideoPlayerHTML5Shaka35.indexOf("?"));this.$VideoPlayerHTML5Shaka56=g.initSession(b("nullthrows")(this.$VideoPlayerHTML5Shaka54)+h);j.next=20;return b("regeneratorRuntime").awrap(this.$VideoPlayerHTML5Shaka56);case 20:i=this.$VideoPlayerHTML5Shaka56=j.sent;if(this.$VideoPlayerHTML5Shaka19){j.next=23;break}return j.abrupt("return");case 23:i.manifest!=this.$VideoPlayerHTML5Shaka35&&c.logManifestMismatch(i.manifest,this.$VideoPlayerHTML5Shaka35);c.logSessionInit(i.tech,this.$VideoPlayerHTML5Shaka35);this.$VideoPlayerHTML5Shaka58=g;this.$VideoPlayerHTML5Shaka56=i;this.emit("p2pPluginReady");j.next=34;break;case 30:j.prev=30,j.t0=j["catch"](2),c.logError(j.t0),this.$VideoPlayerHTML5Shaka56=void 0;case 34:case"end":return j.stop()}},null,this,[[2,30]])};d.$VideoPlayerHTML5Shaka88=function(a){this.$VideoPlayerHTML5Shaka59&&this.$VideoPlayerHTML5Shaka59.logHiveError(a)};d.disableP2PPlayback=function(){this.$VideoPlayerHTML5Shaka59&&(this.$VideoPlayerHTML5Shaka59.logEndSession(),this.$VideoPlayerHTML5Shaka59=null),this.$VideoPlayerHTML5Shaka58&&(this.$VideoPlayerHTML5Shaka58.closeHiveSession(),this.$VideoPlayerHTML5Shaka58=null),this.$VideoPlayerHTML5Shaka56=null,this.$VideoPlayerHTML5Shaka54=null};d.setup=function(){};d.addListenersToLiveStreamState=function(a){var b=this;if(this.$VideoPlayerHTML5Shaka2.getBool("disable_live_stream_state",!1))return;a.addListener("streamInterruptAt",this.$VideoPlayerHTML5Shaka85.bind(this));["streamInterruptAt","commercialBreakAt","endedAt"].forEach(function(c){a.addListener(c,function(a){b.emit("debug/dashPlayerEvent",{type:c,event:a})})})};d.hasSubtitles=function(){return this.$VideoPlayerHTML5Shaka25.hasInlinedCea608Subtitles()&&this.$VideoPlayerHTML5Shaka2.getBool("enable_cea608_parsing",!0)};d.areSubtitlesAutogenerated=function(){return this.$VideoPlayerHTML5Shaka25.isUsingASRCaptions()};d.enableSubtitles=function(a){this.$VideoPlayerHTML5Shaka25.setEnableCea608Parsing(a&&this.$VideoPlayerHTML5Shaka2.getBool("enable_cea608_parsing",!0))};d.getDebug=function(){return{manifest:this.$VideoPlayerHTML5Shaka33,AbrManager:this.$VideoPlayerHTML5Shaka40,VideoSource:this.$VideoPlayerHTML5Shaka25,DashPlayer:this.$VideoPlayerHTML5Shaka19,VideoTaskQueue:b("VideoStreamingTaskQueueProvider").getQueue("video"),VideoTaskScheduler:b("VideoStreamingTaskQueueProvider").getSchedulerForDebug("video")}};c.getEstimatedBandwidth=function(){return l.getBandwidth()};c.isAutoplayBandwidthRestrained=function(a){a=b("VideoPlayerShakaBandwidthEstimator").isAutoplayBandwidthRestrained(a);return a};d.$VideoPlayerHTML5Shaka61=function(){var a=this,d=this.$VideoPlayerHTML5Shaka2.getNumber("connection_quality_context_throttle_frequency",0);if(d===0)return;this.$VideoPlayerHTML5Shaka47.addSubscriptions(b("EventListener").listen(l,"bandwidth",b("throttle")(function(){a.$VideoPlayerHTML5Shaka2.setContext("connection_quality",b("VideoPlayerConnectionQuality").evaluate(c.getEstimatedBandwidth))},d)))};d.$VideoPlayerHTML5Shaka63=function(a){__p&&__p();a=this.$VideoPlayerHTML5Shaka21.get(a);if(!a)return;var b=a.id,c=a.reason;a=a.performanceLogger;if(this.$VideoPlayerHTML5Shaka2.getBool("fix_initial_stream_id_logging",!1)&&!this.$VideoPlayerHTML5Shaka36&&b)this.$VideoPlayerHTML5Shaka36=b;else if(this.$VideoPlayerHTML5Shaka36!==b){if(this.$VideoPlayerHTML5Shaka2.getBool("prevent_representation_ended_when_paused",!1)&&this.$VideoPlayerHTML5Shaka1.paused){this.emit("blocked_paused_representation_ended");return}if(this.$VideoPlayerHTML5Shaka2.getBool("prevent_representation_ended_when_seeking",!1)&&this.$VideoPlayerHTML5Shaka1.seeking)return;var d=this.$VideoPlayerHTML5Shaka36;this.$VideoPlayerHTML5Shaka36=b;a&&(a.setStreamSwitchReason(c),a.log());this.emit("representation_ended",{representationID:d,nextRepresentationID:b,streamSwitchReason:c})}};d.getVideoStreamInfoIDForTimePosition=function(a){a=this.$VideoPlayerHTML5Shaka21.get(a);var b=null;a&&(b=a.id);return b};d.getAudioStreamInfoIDForTimePosition=function(a){return null};d.$VideoPlayerHTML5Shaka89=function(a){if(a.fbQualityLabel)return a.fbQualityLabel;else if(a.height)return[a.height,"p"].join("");return null};d.$VideoPlayerHTML5Shaka90=function(a,b){var c=this.$VideoPlayerHTML5Shaka89(a);if(c)return c;else if(j.compare(a,b[0])==0)return"SD";else if(j.compare(a,b[b.length-1])==0)return"HD";else return null};d.getAvailableVideoQualities=function(){var a=this;if(this.$VideoPlayerHTML5Shaka7)return this.$VideoPlayerHTML5Shaka22;var b=this.$VideoPlayerHTML5Shaka25.getVideoTracks();b.sort(j.compare);return b.every(function(b){return a.$VideoPlayerHTML5Shaka89(b)!==null})?b.map(function(b){return a.$VideoPlayerHTML5Shaka89(b)}):b.length>1?["SD","HD"]:["SD"]};d.getVideoProjection=function(){return this.$VideoPlayerHTML5Shaka25.getVideoProjection()};d.getIsAbrEnabled=function(){return!this.$VideoPlayerHTML5Shaka53};d.getSelectedVideoQuality=function(){if(this.$VideoPlayerHTML5Shaka7)return this.$VideoPlayerHTML5Shaka23;var a=this.$VideoPlayerHTML5Shaka25.getVideoTracks();a.sort(j.compare);var b=a.find(function(a){return a.active});return b?this.$VideoPlayerHTML5Shaka90(b,a):null};d.clearBufferAfterSeekingIfLowerQuality=function(a){__p&&__p();a=this.$VideoPlayerHTML5Shaka21.get(a);var b=a&&a.id;if(!b)return;a=this.$VideoPlayerHTML5Shaka25.getVideoTracks();var c=a.find(function(a){return a.active});a=a.find(function(a){return a.streamInfoID===b});j.compare(c,a)>0&&this.$VideoPlayerHTML5Shaka25.setClearBufferAfterSeeking()};d.getDashAudioConfiguration=function(){return this.$VideoPlayerHTML5Shaka25.getMpdAudioConfig()};d.canAutoSelectVideoQuality=function(){return!0};d.setPreloadDisabled=function(a){this.$VideoPlayerHTML5Shaka2.getBool("block_autoplay_allow_preload_settings_change",!1)&&this.$VideoPlayerHTML5Shaka19.configure({initialStreamBufferSize:a?0:this.$VideoPlayerHTML5Shaka83(),liveSendPushHeaders:a?!1:this.$VideoPlayerHTML5Shaka84()})};d.restoreStreamBufferSize=function(){if(!this.$VideoPlayerHTML5Shaka2.getBool("use_stream_buffer_size_override",!1))return;this.$VideoPlayerHTML5Shaka19.configure({initialStreamBufferSize:this.$VideoPlayerHTML5Shaka83(),streamBufferSize:this.$VideoPlayerHTML5Shaka82()})};d.$VideoPlayerHTML5Shaka83=function(){return this.$VideoPlayerHTML5Shaka11?this.$VideoPlayerHTML5Shaka2.getNumber("live_initial_stream_buffer_size_float",3.5):this.$VideoPlayerHTML5Shaka2.getNumber("initial_stream_buffer_size_float",7.5)};d.$VideoPlayerHTML5Shaka82=function(){return this.$VideoPlayerHTML5Shaka11?this.$VideoPlayerHTML5Shaka2.getNumber("live_stream_buffer_size_float",3):this.$VideoPlayerHTML5Shaka2.getNumber("stream_buffer_size_float",15)};d.$VideoPlayerHTML5Shaka84=function(){return this.$VideoPlayerHTML5Shaka42};d.setPreferredVideoQuality=function(a){var b=this,c=this.$VideoPlayerHTML5Shaka25.getVideoTracks();c.sort(j.compare);var d=c.find(function(d){return a==b.$VideoPlayerHTML5Shaka90(d,c)});d&&(this.$VideoPlayerHTML5Shaka24=a,this.$VideoPlayerHTML5Shaka40.setPreferredVideoTrack(d))};d.unsetPreferredVideoQuality=function(){this.$VideoPlayerHTML5Shaka24=null,this.$VideoPlayerHTML5Shaka40.unsetPreferredVideoTrack()};d.isDrm=function(){if(this.$VideoPlayerHTML5Shaka16)return!0;if(this.$VideoPlayerHTML5Shaka33&&this.$VideoPlayerHTML5Shaka33!==this.$VideoPlayerHTML5Shaka43)return this.$VideoPlayerHTML5Shaka33.indexOf("<ContentProtection")>=0};d.pause=function(){this.$VideoPlayerHTML5Shaka52&&this.$VideoPlayerHTML5Shaka52.setState("stopped"),this.$VideoPlayerHTML5Shaka1.pause()};d.play=function(){this.$VideoPlayerHTML5Shaka14=!0;this.$VideoPlayerHTML5Shaka28&&this.$VideoPlayerHTML5Shaka28.playStarted();this.$VideoPlayerHTML5Shaka19.setPendingPlayRequest(!0);if(this.$VideoPlayerHTML5Shaka4){var a=b("VideoDashPrefetchCache").getPrefetchTaskByID(""+this.$VideoPlayerHTML5Shaka4);a&&b("VideoStreamingTaskQueueProvider").getQueue("video").updatePriority(a,b("VideoPriorityCalculator").getMaxPriority())}this.$VideoPlayerHTML5Shaka52&&this.$VideoPlayerHTML5Shaka52.setState("playing");return this.$VideoPlayerHTML5Shaka1.play()};d.$VideoPlayerHTML5Shaka86=function(){var a=this.$VideoPlayerHTML5Shaka8;if(a){var b=this.$VideoPlayerHTML5Shaka1.currentTime,c=4;c=b>a-c;b=b>a;b?(this.emit("debug/dashPlayerEvent",{type:"streamResumedAt",event:this.$VideoPlayerHTML5Shaka8}),this.$VideoPlayerHTML5Shaka8=null):this.$VideoPlayerHTML5Shaka27&&(this.$VideoPlayerHTML5Shaka10=c)}return this.$VideoPlayerHTML5Shaka10};d.$VideoPlayerHTML5Shaka68=function(){this.$VideoPlayerHTML5Shaka27=!0,this.$VideoPlayerHTML5Shaka86()?this.$VideoPlayerHTML5Shaka87():(this.$VideoPlayerHTML5Shaka19.setResumeAfterBuffering(!0),this.emit("bufferingStart"))};d.$VideoPlayerHTML5Shaka70=function(a){a.progress&&this.emit("bufferingProgress",a.progress)};d.$VideoPlayerHTML5Shaka67=function(){this.emit("seekRangeChanged")};d.$VideoPlayerHTML5Shaka76=function(a){a.replica!=null&&this.emit("replicaSwitch",{replica:a.replica,url:a.url,status:a.status,timestamp:new Date().valueOf()})};d.$VideoPlayerHTML5Shaka77=function(){this.emit("networkInterrupted")};d.$VideoPlayerHTML5Shaka78=function(){this.emit("networkResumed")};d.$VideoPlayerHTML5Shaka87=function(){this.$VideoPlayerHTML5Shaka2.getBool("fix_is_live_interrupted_backtest",!1)||(this.$VideoPlayerHTML5Shaka26&&!this.$VideoPlayerHTML5Shaka29&&(this.$VideoPlayerHTML5Shaka29=this.$VideoPlayerHTML5Shaka26.getOperationLogger("stream_interrupted").start()),this.$VideoPlayerHTML5Shaka25.setIsLiveInterrupted(!0)),this.emit("streamInterrupted")};d.$VideoPlayerHTML5Shaka69=function(){this.$VideoPlayerHTML5Shaka27=!1,this.$VideoPlayerHTML5Shaka29&&(this.$VideoPlayerHTML5Shaka29.log(),this.$VideoPlayerHTML5Shaka29=null),this.$VideoPlayerHTML5Shaka25.setIsLiveInterrupted(!1),this.$VideoPlayerHTML5Shaka10?this.$VideoPlayerHTML5Shaka91():this.emit("bufferingEnd")};d.$VideoPlayerHTML5Shaka71=function(a){__p&&__p();a=a.detail||{};var c=a.status!==void 0?a.status:null,d=a.url||null;if(a.type==="Hive"&&this.$VideoPlayerHTML5Shaka56){this.$VideoPlayerHTML5Shaka88({message:a.message,code:c,severity:1});if(b("qex")._("1070719"))return}this.$VideoPlayerHTML5Shaka92();var e=this.$VideoPlayerHTML5Shaka2.getString("block_play_request_http_status_list","410").split(",");this.$VideoPlayerHTML5Shaka2.getBool("disable_block_play_request_http_status_list",!1)&&(e=[]);if(this.$VideoPlayerHTML5Shaka11&&e.map(function(a){return parseInt(a,10)}).indexOf(c)!==-1){this.$VideoPlayerHTML5Shaka14&&(b("dispatchEvent")(this.$VideoPlayerHTML5Shaka1,"playing"),this.$VideoPlayerHTML5Shaka14=!1);return this.$VideoPlayerHTML5Shaka93()}this.emit("error",{error:("SHAKA_"+a.type).toUpperCase(),message:a.message,httpStatus:c,url:d,stack:a.stack})};d.unload=function(){if(this.$VideoPlayerHTML5Shaka60)return this.$VideoPlayerHTML5Shaka60.then(this.$VideoPlayerHTML5Shaka94.bind(this))["catch"](this.$VideoPlayerHTML5Shaka94.bind(this));else return this.$VideoPlayerHTML5Shaka94()};d.$VideoPlayerHTML5Shaka94=function(){__p&&__p();var a=this;this.$VideoPlayerHTML5Shaka23=this.getSelectedVideoQuality();this.$VideoPlayerHTML5Shaka22=this.getAvailableVideoQualities();!this.$VideoPlayerHTML5Shaka25?this.$VideoPlayerHTML5Shaka11=!1:this.$VideoPlayerHTML5Shaka25.isLive()!==null&&(this.$VideoPlayerHTML5Shaka11=this.$VideoPlayerHTML5Shaka25.isLive());this.$VideoPlayerHTML5Shaka7=!0;b("clearInterval")(this.$VideoPlayerHTML5Shaka34);this.$VideoPlayerHTML5Shaka52&&this.$VideoPlayerHTML5Shaka52.stopFixedLatencySync();this.$VideoPlayerHTML5Shaka27&&this.$VideoPlayerHTML5Shaka2.getBool("fix_end_buffering_on_unload",!1)&&this.$VideoPlayerHTML5Shaka69();var c=this.$VideoPlayerHTML5Shaka37;c&&(c.unsubscribe(),c.removeAllListeners());this.$VideoPlayerHTML5Shaka28&&this.$VideoPlayerHTML5Shaka28.unload();this.$VideoPlayerHTML5Shaka59&&this.$VideoPlayerHTML5Shaka59.logUnload();this.$VideoPlayerHTML5Shaka47.release();return this.$VideoPlayerHTML5Shaka19.unload()["catch"](function(b){if(a.$VideoPlayerHTML5Shaka2.getBool("ignore_errors_after_unload",!0))return;throw b})};d.$VideoPlayerHTML5Shaka79=function(){var a=this,c={shakaConfig:this.$VideoPlayerHTML5Shaka2,performanceLogger:this.$VideoPlayerHTML5Shaka26,enableAdaptation:this.getIsAbrEnabled(),minPlayQuality:this.$VideoPlayerHTML5Shaka5,maxPlayQuality:this.$VideoPlayerHTML5Shaka6,width:this.$VideoPlayerHTML5Shaka17,height:this.$VideoPlayerHTML5Shaka18,resolutionConstraintMaxWidth:this.$VideoPlayerHTML5Shaka45,resolutionConstraintMaxHeight:this.$VideoPlayerHTML5Shaka44,isSpherical:this.$VideoPlayerHTML5Shaka15,initiallyForcedRepresentations:this.$VideoPlayerHTML5Shaka3,bandwidthModel:b("VideoPlayerShakaBandwidthEstimator").getBandwidthModel(this.$VideoPlayerHTML5Shaka11),bandwidthDowngradeTarget:this.$VideoPlayerHTML5Shaka11?this.$VideoPlayerHTML5Shaka2.getNumber("live_bandwidth_downgrade_target",1):this.$VideoPlayerHTML5Shaka2.getNumber("bandwidth_downgrade_target",.9),bandwidthUpgradeTarget:this.$VideoPlayerHTML5Shaka11?this.$VideoPlayerHTML5Shaka2.getNumber("live_bandwidth_upgrade_target",1):this.$VideoPlayerHTML5Shaka2.getNumber("bandwidth_upgrade_target",.9),useNewBandwidthBandLogic:this.$VideoPlayerHTML5Shaka2.getBool("use_new_bandwidth_band_logic",!0),hvqUpgradeAggressiveness:this.$VideoPlayerHTML5Shaka11?this.$VideoPlayerHTML5Shaka2.getNumber("live_hvq_upgrade_aggressiveness",1):this.$VideoPlayerHTML5Shaka2.getNumber("hvq_upgrade_aggressiveness",1),hvqInlineUpgradeAggressiveness:this.$VideoPlayerHTML5Shaka11?this.$VideoPlayerHTML5Shaka2.getNumber("live_hvq_inline_upgrade_aggressiveness",1):this.$VideoPlayerHTML5Shaka2.getNumber("hvq_inline_upgrade_aggressiveness",1),preHvqUpgradeAggressiveness:this.$VideoPlayerHTML5Shaka11?this.$VideoPlayerHTML5Shaka2.getNumber("live_pre_hvq_upgrade_aggressiveness",1):this.$VideoPlayerHTML5Shaka2.getNumber("pre_hvq_upgrade_aggressiveness",1),preHvqInlineUpgradeAggressiveness:this.$VideoPlayerHTML5Shaka11?this.$VideoPlayerHTML5Shaka2.getNumber("live_pre_hvq_inline_upgrade_aggressiveness",1):this.$VideoPlayerHTML5Shaka2.getNumber("pre_hvq_inline_upgrade_aggressiveness",1),video:this.$VideoPlayerHTML5Shaka1,videoID:this.$VideoPlayerHTML5Shaka4,abrLogger:this.$VideoPlayerHTML5Shaka30,getSource:this.$VideoPlayerHTML5Shaka20,enableReinforcementLearning:!this.$VideoPlayerHTML5Shaka12&&(this.$VideoPlayerHTML5Shaka2.getBool("enable_reinforcement_learning",!1)||this.$VideoPlayerHTML5Shaka15&&this.$VideoPlayerHTML5Shaka2.getBool("enable_reinforcement_learning_on_360",!1)),rlModelId:this.$VideoPlayerHTML5Shaka2.getNumber("rl_model_id",0),rlUseShortFeatures:this.$VideoPlayerHTML5Shaka2.getBool("rl_use_short_features",!1),useStrictTrackDimensionsExclusionLogic:this.$VideoPlayerHTML5Shaka46,videoWatchTimeTracker:this.$VideoPlayerHTML5Shaka41,chosenVideoTrackChangedCallback:this.$VideoPlayerHTML5Shaka2.getBool("enable_p2p_support",!1)?function(b){a.$VideoPlayerHTML5Shaka19.dispatchEventExtern({type:"bitrateswitch",data:b})}:null};return new(b("CustomAbrManager"))(c)};d.$VideoPlayerHTML5Shaka95=function(){__p&&__p();var a=this;if(!this.$VideoPlayerHTML5Shaka2.getBool("enable_content_protection",!1))return null;var c=this.$VideoPlayerHTML5Shaka4,d=null,e=!1,f=null,g=!0,h="com.widevine.alpha";this.$VideoPlayerHTML5Shaka26&&(d=this.$VideoPlayerHTML5Shaka26.getOperationLogger("request").setType("license"));this.$VideoPlayerHTML5Shaka49!==void 0&&this.$VideoPlayerHTML5Shaka49!==null&&this.$VideoPlayerHTML5Shaka50!==null&&this.$VideoPlayerHTML5Shaka50!==void 0?(f=encodeURI(this.$VideoPlayerHTML5Shaka49+"&access_token="+this.$VideoPlayerHTML5Shaka50),e=!0,g=!1):"0"in this.$VideoPlayerHTML5Shaka48?f=this.$VideoPlayerHTML5Shaka48["0"]:f="/video/drm/getlicense?video_id="+c;var i=function(a){"body"in a&&delete a.body;if("url"in a&&a.url.search("access_token=")!==-1)try{var c=new(b("URI"))(a.url);c!==null&&c!==void 0?(c.removeQueryData(["access_token"]),a.url=c.toString()):delete a.url}catch(b){delete a.url}return JSON.stringify(a)},j=function(a){d&&d.start();var b=window.btoa(String.fromCharCode.apply(null,new Uint8Array(a.body)));if(e){var c={request:b};a.body=JSON.stringify(c);a.headers["Content-Type"]="application/json"}else a.body=b,a.headers["Content-Type"]="application/text";a.method="POST"},k=function(a){__p&&__p();var b=null;a=String.fromCharCode.apply(null,a);var c=null,e=null,f;try{f=JSON.parse(a)}catch(a){f=void 0}if(f!==void 0&&f.data!==void 0&&f.data.length===1){f=f.data[0];f.error!==null&&f.error!==void 0?e=i(f.error):c=f.license}else c=a;if(c!==null&&c!==""){f=window.atob(c);f!==null&&f!==""&&(b=new Uint8Array(f.split("").map(function(a){return a.charCodeAt(0)})))}if(d){e!==null&&d.setError(e);a=b!==null?"success":"failed";d.setResult(a).log()}return b};return function(b,c){a.$VideoPlayerHTML5Shaka16=!0;c=null;if(a.$VideoPlayerHTML5Shaka51!==null&&a.$VideoPlayerHTML5Shaka51!==void 0&&a.$VideoPlayerHTML5Shaka51!==""){var d=window.atob(a.$VideoPlayerHTML5Shaka51);c=new Uint8Array(d.split("").map(function(a){return a.charCodeAt(0)}))}return b=="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"?[{keySystem:h,licenseServerUrl:f,withCredentials:g,licensePreProcessor:j,licensePostProcessor:k,videoRobustness:"",audioRobustness:"",serverCertificate:c}]:null}};d.$VideoPlayerHTML5Shaka96=function(){var a=this,b={onRequestSend:function(b,c,d){a.$VideoPlayerHTML5Shaka19.dispatchEventExtern({type:"segmentrequestfinished",data:{failed:!b,mimeType:c,bytes:d||0}})}};this.$VideoPlayerHTML5Shaka19.getRequestPromise&&(b.createPromise=function(b,c){return a.$VideoPlayerHTML5Shaka19.getRequestPromise(b,c)});return b};d.$VideoPlayerHTML5Shaka80=function(){__p&&__p();this.$VideoPlayerHTML5Shaka40||g(0,5841);this.$VideoPlayerHTML5Shaka35||g(0,5842);var a=null,c=this.$VideoPlayerHTML5Shaka35,d=this.$VideoPlayerHTML5Shaka2.getBool("enable_p2p_support",!1)&&this.$VideoPlayerHTML5Shaka56;d&&(a=this.$VideoPlayerHTML5Shaka96(),c=b("nullthrows")(this.$VideoPlayerHTML5Shaka56).manifest);c=new h(c,this.$VideoPlayerHTML5Shaka2,this.$VideoPlayerHTML5Shaka95(),l,this.$VideoPlayerHTML5Shaka40,this.$VideoPlayerHTML5Shaka52,a);this.$VideoPlayerHTML5Shaka21=new(b("TaggedTimeRanges"))(function(a,b){return a.id===b.id&&a.reason===b.reason});c.setTaggedTimeRanges(this.$VideoPlayerHTML5Shaka21);d&&this.$VideoPlayerHTML5Shaka59&&this.$VideoPlayerHTML5Shaka59.logCreatedP2PVideoSource();return c};d.$VideoPlayerHTML5Shaka97=function(a){__p&&__p();var b=this;this.$VideoPlayerHTML5Shaka40=this.$VideoPlayerHTML5Shaka79();this.$VideoPlayerHTML5Shaka25=this.$VideoPlayerHTML5Shaka80();this.$VideoPlayerHTML5Shaka86()&&(this.$VideoPlayerHTML5Shaka9=this.$VideoPlayerHTML5Shaka19.getPlaybackRate(),this.$VideoPlayerHTML5Shaka1.playbackRate=0,this.emit("streamInterrupted"));this.$VideoPlayerHTML5Shaka19.setPlaybackStartTime(a);this.$VideoPlayerHTML5Shaka7=!1;this.$VideoPlayerHTML5Shaka60=this.$VideoPlayerHTML5Shaka19.load(this.$VideoPlayerHTML5Shaka25).then(function(){b.$VideoPlayerHTML5Shaka60=null;if(b.$VideoPlayerHTML5Shaka11!=b.$VideoPlayerHTML5Shaka25.isLive())return b.$VideoPlayerHTML5Shaka93();b.$VideoPlayerHTML5Shaka24&&b.setPreferredVideoQuality(b.$VideoPlayerHTML5Shaka24);b.$VideoPlayerHTML5Shaka23=null;b.$VideoPlayerHTML5Shaka22=[];return void 0})["catch"](function(){b.$VideoPlayerHTML5Shaka60=null});return this.$VideoPlayerHTML5Shaka60};d.$VideoPlayerHTML5Shaka98=function(a){if(this.$VideoPlayerHTML5Shaka7&&this.$VideoPlayerHTML5Shaka2.getBool("ignore_errors_after_unload",!0))return;throw a};d.reload=function(a){__p&&__p();var c=this;if(!this.$VideoPlayerHTML5Shaka7)return this.$VideoPlayerHTML5Shaka2.getBool("fix_reload_promise",!1)?b("Promise").resolve():void 0;var d=this.$VideoPlayerHTML5Shaka37;d&&(d.subscribe(),this.addListenersToLiveStreamState(d));this.$VideoPlayerHTML5Shaka2.getBool("refresh_vod_manifest",!1)?d=this.$VideoPlayerHTML5Shaka66().then(function(){return c.$VideoPlayerHTML5Shaka97(a)})["catch"](function(a){return c.$VideoPlayerHTML5Shaka98(a)}):d=this.$VideoPlayerHTML5Shaka97(a)["catch"](function(a){return c.$VideoPlayerHTML5Shaka98(a)});return this.$VideoPlayerHTML5Shaka2.getBool("fix_reload_promise",!1)?d:void 0};d.setPlaybackRate=function(a){this.$VideoPlayerHTML5Shaka9=a,this.$VideoPlayerHTML5Shaka86()||this.$VideoPlayerHTML5Shaka19.setPlaybackRate(a)};d.getPlaybackRate=function(){return this.$VideoPlayerHTML5Shaka19.getPlaybackRate()};d.setSmartBufferAdjustmentEnabled=function(a){this.$VideoPlayerHTML5Shaka19.configure({smartBufferAdjustmentEnabled:a})};d.setVideoStreamOffset=function(a){this.$VideoPlayerHTML5Shaka19.setVideoStreamOffset(a)};d.$VideoPlayerHTML5Shaka93=function(){b("dispatchEvent")(this.$VideoPlayerHTML5Shaka1,"seeked");b("dispatchEvent")(this.$VideoPlayerHTML5Shaka1,"playing");var a=this.$VideoPlayerHTML5Shaka2.getBool("abort_loading_decisioning_logic",!1);a?(b("dispatchCustomEvent")(this.$VideoPlayerHTML5Shaka1,"pause",b("dangerouslyOverrideMediaElementEndedProperty")()),b("dispatchEvent")(this.$VideoPlayerHTML5Shaka1,"ended")):this.$VideoPlayerHTML5Shaka2.getBool("end_live_playback_with_pause",!0)?b("dispatchEvent")(this.$VideoPlayerHTML5Shaka1,"pause"):b("dispatchEvent")(this.$VideoPlayerHTML5Shaka1,"ended");this.emit("streamResumed");this.unload()};d.getLongestInitResponseTime=function(){return this.$VideoPlayerHTML5Shaka25.getLongestInitResponseTime()};d.getLocalEstimator=function(){return this.$VideoPlayerHTML5Shaka25.getLocalEstimator()};d.setDimensions=function(a,b){this.$VideoPlayerHTML5Shaka17=a,this.$VideoPlayerHTML5Shaka18=b,this.$VideoPlayerHTML5Shaka40.setDimensions(a,b)};c.isSupported=function(a){return i.isBrowserSupported()};d.$VideoPlayerHTML5Shaka73=function(){this.emit("tracksChanged")};d.$VideoPlayerHTML5Shaka72=function(a){a.contentType==="video"&&(this.$VideoPlayerHTML5Shaka26&&this.$VideoPlayerHTML5Shaka26.setRepresentationID(a.id),this.$VideoPlayerHTML5Shaka26&&this.$VideoPlayerHTML5Shaka26.setDynamicBitrate(a.bandwidth),this.$VideoPlayerHTML5Shaka30.setRepresentationID(a.id),this.emit("adaptation",{reason:a.reason}))};d.$VideoPlayerHTML5Shaka85=function(a){this.$VideoPlayerHTML5Shaka2.getBool("fix_is_live_interrupted_backtest",!1)&&(this.$VideoPlayerHTML5Shaka26&&!this.$VideoPlayerHTML5Shaka29&&(this.$VideoPlayerHTML5Shaka29=this.$VideoPlayerHTML5Shaka26.getOperationLogger("stream_interrupted").start()),this.$VideoPlayerHTML5Shaka25.setIsLiveInterrupted(!0)),this.$VideoPlayerHTML5Shaka8=a};d.$VideoPlayerHTML5Shaka75=function(){this.$VideoPlayerHTML5Shaka86()&&this.$VideoPlayerHTML5Shaka91()};d.$VideoPlayerHTML5Shaka91=function(){this.$VideoPlayerHTML5Shaka8=null,this.$VideoPlayerHTML5Shaka10=!1,this.$VideoPlayerHTML5Shaka25.forceResyncVideoBuffer(),this.$VideoPlayerHTML5Shaka19.setPlaybackRate(this.$VideoPlayerHTML5Shaka9),this.emit("streamResumed")};d.$VideoPlayerHTML5Shaka74=function(){var a=this,b=this.$VideoPlayerHTML5Shaka26?this.$VideoPlayerHTML5Shaka26.getOperationLogger("manifest_wrapped").setResource(this.$VideoPlayerHTML5Shaka43).start():null,c=!this.$VideoPlayerHTML5Shaka1.paused;this.unload();this.reload().then(function(){a.$VideoPlayerHTML5Shaka10&&a.$VideoPlayerHTML5Shaka91(),c&&a.play(),b&&b.log()})["catch"](function(a){b&&b.setError(a).log()})};d.$VideoPlayerHTML5Shaka62=function(){this.$VideoPlayerHTML5Shaka14=!1,this.$VideoPlayerHTML5Shaka31&&(this.$VideoPlayerHTML5Shaka31=!1),this.$VideoPlayerHTML5Shaka19.setPendingPlayRequest(!1),this.$VideoPlayerHTML5Shaka59&&this.$VideoPlayerHTML5Shaka59.resumeStatsLogging()};d.$VideoPlayerHTML5Shaka65=function(){this.$VideoPlayerHTML5Shaka14=!0,this.$VideoPlayerHTML5Shaka54&&this.$VideoPlayerHTML5Shaka12&&this.$VideoPlayerHTML5Shaka56==null&&this.$VideoPlayerHTML5Shaka55&&this.$VideoPlayerHTML5Shaka55.delay_p2p_until_play&&this.$VideoPlayerHTML5Shaka81()};d.$VideoPlayerHTML5Shaka64=function(){this.$VideoPlayerHTML5Shaka14&&(this.$VideoPlayerHTML5Shaka14=!1,this.$VideoPlayerHTML5Shaka19.setPendingPlayRequest(!1)),this.$VideoPlayerHTML5Shaka59&&this.$VideoPlayerHTML5Shaka59.pauseStatsLogging()};d.$VideoPlayerHTML5Shaka99=function(){var a=this;if(this.$VideoPlayerHTML5Shaka12)return b("Promise").resolve();return this.$VideoPlayerHTML5Shaka32+1e3*60*60<Date.now()?b("VideoPlayerMetaData").genVideoData(this.$VideoPlayerHTML5Shaka4).then(function(b){return a.$VideoPlayerHTML5Shaka100(b.getDashManifest())}):b("Promise").resolve()};d.$VideoPlayerHTML5Shaka100=function(a){if(!this.$VideoPlayerHTML5Shaka25)return;this.$VideoPlayerHTML5Shaka35=k(a);this.$VideoPlayerHTML5Shaka7||(this.$VideoPlayerHTML5Shaka32=Date.now(),this.$VideoPlayerHTML5Shaka25.updateManifest(this.$VideoPlayerHTML5Shaka35))};d.$VideoPlayerHTML5Shaka66=function(){var a=this;this.$VideoPlayerHTML5Shaka92();this.$VideoPlayerHTML5Shaka34=b("setInterval")(function(){a.$VideoPlayerHTML5Shaka99()},1e3*60);return this.$VideoPlayerHTML5Shaka99()["catch"](function(){return b("Promise").resolve()})};d.refreshDashManifest=function(){var a=this;this.unload();var c=b("VideoPlayerMetaData").genVideoData(this.$VideoPlayerHTML5Shaka4);return c.then(function(b){a.$VideoPlayerHTML5Shaka100(b.getDashManifest())})};d.$VideoPlayerHTML5Shaka92=function(){b("clearInterval")(this.$VideoPlayerHTML5Shaka34)};d.$VideoPlayerHTML5Shaka101=function(a){var b=a[0];if(b)if(b.startTime+.5<b.endTime)b.startTime+=.5;else{a.splice(0,1);return this.$VideoPlayerHTML5Shaka101(a)}return a};d.getSeekableRanges=function(){var a=this.$VideoPlayerHTML5Shaka19.getVideoSourceStreamLimits();if(a&&a.seekRangeGaps){a=b("getVideoPlayerShakaSeekableRanges")(a);return new(b("TimeRanges"))(this.$VideoPlayerHTML5Shaka101(a))}return null};d.setEnableLiveheadCatchup=function(a){this.$VideoPlayerHTML5Shaka19.setEnableLiveheadCatchup(a)};d.isLiveheadCatchupEnabled=function(){return this.$VideoPlayerHTML5Shaka19.isLiveheadCatchupEnabled()};d.$VideoPlayerHTML5Shaka102=function(){return this.$VideoPlayerHTML5Shaka25?this.$VideoPlayerHTML5Shaka25.getManifest():null};d.isFBWasLive=function(){var a=this.$VideoPlayerHTML5Shaka102();return!!(a&&a.FBWasLive)};d.isFBIsLiveTemplated=function(){var a=this.$VideoPlayerHTML5Shaka102();return!!(a&&a.FBIsLiveTemplated)};d.isFBMS=function(){var a=this.$VideoPlayerHTML5Shaka102();return!!(a&&a.FBMS)};d.getPlayerVersion=function(){return"pleasantville"};d.switchReplicaSet=function(a){var c=new(b("URI"))(this.$VideoPlayerHTML5Shaka35);c.addQueryData("replica",a);this.$VideoPlayerHTML5Shaka35=c.toString()};d.getManifestUrl=function(){return this.$VideoPlayerHTML5Shaka35};return c}(b("EventEmitter"));e.exports=c}),null);
__d("ContextualConfigConstants",[],(function(a,b,c,d,e,f){"use strict";a=1e3;b=", ";c={SAME:"same",NULL:"null",NNULL:"nnull",CATCH_ALL:"catch_all",EQ:"eq",NEQ:"neq",LT:"lt",LTE:"lte",GT:"gt",GTE:"gte",COR:"cor",CONTAINS:"contains",REGEX:"regex",IN:"in",NIN:"nin"};d={DENSE:"dense",MULTI_OUTPUT_RESOLVED:"multi-output-resolved",TABLE:"table"};f=[];var g=[],h=[],i={BAD_BOOLEAN_FORMAT:"Bad boolean format",BAD_CONFIG:"Bad config",BAD_CONTEXT_IDENTIFIER:"Bad context identifier",BAD_CONTEXT_VALUE:"Bad context value",BAD_MONITORED_CONTEXTS:"Bad monitored contexts",BAD_NUMBER_FORMAT:"Bad number format",BAD_OUTPUT_NAME:"Bad output name",BAD_OUTPUT_TYPE:"Bad output type",BAD_VALUE_ORDER:"Bad values order",DUPLICATE_OUTPUT_NAME:"Duplicate output name",ILLEGAL_BOOLEAN_STRATEGY:"Illegal boolean strategy",ILLEGAL_BUCKET_VALUES:"Illegal bucket values",ILLEGAL_NUMERIC_STRATEGY:"Illegal numeric strategy",ILLEGAL_STRING_STRATEGY:"Illegal string strategy",INVALID_BOOLEAN:"Invalid boolean",INVALID_FLOAT:"Invalid float",INVALID_INTEGER:"Invalid integer",INVALID_STRING:"Invalid string",INVALID_VALUE_TYPE:"Invalid value type",MISMATCH_NUMBER_OF_VALUES:"Mismatching number of values",MISSING_BUCKETS:"Missing buckets",MISSING_BUCKET_MATCH:"Missing bucket match",MISSING_BUCKET_NAME:"Missing bucket name",MISSING_BUCKET_STRATEGY:"Missing bucket strategy",MISSING_CONTEXT_IN_CONFIG:"Missing context in config",MISSING_DEFAULT_VALUE:"Missing default value",MISSING_OUTPUTS_DEFINITION:"Missing outputs field definition",MISSING_RESULTS:"Missing results",MISSING_TABLE:"Missing table",MISSING_TABLE_ITEM_BUCKET:"Missing table item bucket",MISSING_TABLE_ITEM_VALUES:"Missing table item values",MISSING_VECTOR:"Missing vector",REGEX_SYNTAX_ERROR:"Regex syntax error",REQUESTED_PARAM_NOT_FOUND:"Requested param not found",RESULTS_VECTOR_SIZE_MISMATCH:"Results vector size mismatch",UNDECLARED_OUTPUT_PARAM:"Undeclared output param",UNKNOWN_BUCKET_DEFINITION:"Unknown bucket definition",UNKNOWN_CONFIG_TYPE:"Unknown config type",UNSUPPORTED_CONFIG_VERSION:"Unsupported config version"},j=10,k=", ",l={BOOL:"BOOL",FLOAT:"FLOAT",INT:"INT",STRING:"STRING"};e.exports={ANALYTICS_SAMPLE_RATE:a,BUCKET_DELIMITER:b,CONTEXT_BUCKET_STRATEGY:c,CONFIG_TYPE:d,EMPTY_RESOLVED_CONTEXTS:f,EMPTY_RESOLVED_MONITORS:g,EMPTY_RESULT_PARAMS:h,ERROR:i,JSON_SUB_SAMPLE_RATE:j,LIST_DELIMITER:k,TYPE:l}}),null);
__d("ContextualConfigResolvedContextsUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.bucketIndex;if(e==void 0)break;b.push(e)}return b};b=function(a){__p&&__p();var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.bucketName;if(e===void 0)break;b.push(e)}return b};var g=function(a){return a.name};c=function(a){return a.map(g)};d=function(a){__p&&__p();var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.value;if(e===void 0)break;b.push(e)}return b};e.exports={getBucketIndices:a,getBucketNames:b,getContextNames:c,getContextValues:d}}),null);
__d("ContextualConfigCollateExposureData",["ContextualConfigConstants","ContextualConfigResolvedContextsUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ANALYTICS_SAMPLE_RATE,h=b("ContextualConfigConstants").LIST_DELIMITER,i=b("ContextualConfigResolvedContextsUtils").getBucketNames,j=b("ContextualConfigResolvedContextsUtils").getContextNames,k=b("ContextualConfigResolvedContextsUtils").getContextValues,l=["cfg_ver_timestamp","policy_id","version","sample_rate"],m=function(a){return a.join(h)},n=function(a,b){for(var c=0;c<l.length;c++){var d=l[c];b[d]!=null&&(a[d]=b[d])}b.name&&(a.config_name=b.name)},o=function(a,b){__p&&__p();var c=b[0],d=b[1],e=b[2];b=b[3];c!=null&&(a.exception=c.message);a.result=m(d.map(function(a){return a.value}))||"INVALID";a.context=m(j(e));a.context_value=m(k(e));a.bucket_name=m(i(e));a.monitor=m(j(b));a.monitor_value=m(k(b))};a=function(a,b,c){var d={sample_rate:g};n(d,a);o(d,b);c&&(d.config_contents=JSON.stringify(a));return d};e.exports=a}),null);
__d("ContextualConfigExposureEvent",["Random"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,c,d){this.$2=a,this.$4=b("Random").random()<1/a.sample_rate,this.$3=c,this.$1=d}var c=a.prototype;c.getData=function(){return this.$2};c.log=function(a){var b=this.$2,c=this.$3,d=this.$4;a&&c(b);d&&this.$1(b);return this};c.isSampled=function(){return this.$4};return a}();e.exports=a}),null);
__d("ContextualConfigExposureLoggerFactory",["ContextualConfigExposureEvent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(){function a(a,b){this.$2=a,this.$1=b}var c=a.prototype;c.createEvent=function(a){var c=this.$1,d=this.$2;a=new(b("ContextualConfigExposureEvent"))(a,d,c);return a};return a}();a=function(a,b){return new g(a,b)};e.exports=a}),null);
__d("ContextualConfigExposureLogger",["ContextualConfigExposureLoggerFactory","MarauderLogger"],(function(a,b,c,d,e,f){"use strict";a=function(a){};c=function(a){b("MarauderLogger").log("contextual_config_exposure","",a)};e.exports=b("ContextualConfigExposureLoggerFactory")(a,c)}),null);
__d("ContextualConfigAssert",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b){if(a===!1)throw new Error(b)};e.exports=a}),null);
__d("ContextualConfigValidators",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").TYPE;a=function(a){return Array.isArray(a)};c=function(a){return typeof a==="boolean"};d=function(a){return a!=null};f=function(a){return function(b){return Object.prototype.hasOwnProperty.call(a,b)}};b=function(a){return i(a)&&a%1===0};var h=function(a){return j(a)&&a.length>0},i=function(a){return typeof a==="number"&&!isNaN(a)&&a!==Infinity&&a!==-Infinity},j=function(a){return typeof a==="string"},k=function(a){switch(a){case g.BOOL:case g.FLOAT:case g.INT:case g.STRING:return!0;default:return!1}};e.exports={isArray:a,isBoolean:c,isDefined:d,isKey:f,isInteger:b,isNonEmptyString:h,isNumber:i,isString:j,isType:k}}),null);
__d("ContextualConfigParseBoolean",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").ERROR;a=function(a){switch(a.toUpperCase()){case"TRUE":return!0;case"FALSE":return!1;default:throw new Error(g.BAD_BOOLEAN_FORMAT)}};e.exports=a}),null);
__d("ContextualConfigParsePredBoolean",["ContextualConfigConstants","ContextualConfigParseBoolean"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY,h=b("ContextualConfigConstants").ERROR;a=function(a,c){__p&&__p();var d;switch(c){case g.SAME:var e=b("ContextualConfigParseBoolean")(a);d=function(a){return a===e};break;case g.NULL:d=function(a){return a==null};break;case g.NNULL:d=function(a){return a!=null};break;case g.CATCH_ALL:d=function(a){return!0};break;default:throw new Error(h.ILLEGAL_BOOLEAN_STRATEGY)}return function(a){return d(a)}};e.exports=a}),null);
__d("ContextualConfigParseFloat",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigValidators").isNumber,i=/^[-\+]?([1-9]\d*|0)(\.\d+)?$/,j=function(a){return i.test(a)};a=function(a){b("ContextualConfigAssert")(j(a),g.BAD_NUMBER_FORMAT);a=parseFloat(a);b("ContextualConfigAssert")(h(a),g.BAD_NUMBER_FORMAT);return a};e.exports=a}),null);
__d("ContextualConfigParseInteger",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigValidators").isNumber,i=/^[-\+]?([1-9]\d*|0)$/,j=function(a){return i.test(a)};a=function(a){b("ContextualConfigAssert")(j(a),g.BAD_NUMBER_FORMAT);a=parseInt(a,10);b("ContextualConfigAssert")(h(a),g.BAD_NUMBER_FORMAT);return a};e.exports=a}),null);
__d("ContextualConfigPredAssertions",["ContextualConfigAssert","ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").ERROR;a=function(a){return b("ContextualConfigAssert")(a>0,g.MISMATCH_NUMBER_OF_VALUES)};c=function(a,c){return b("ContextualConfigAssert")(a===c,g.MISMATCH_NUMBER_OF_VALUES)};d=function(a,c){return b("ContextualConfigAssert")(a<c,g.BAD_VALUE_ORDER)};e.exports={assertHasValues:a,assertNumberOfValues:c,assertValueOrder:d}}),null);
__d("ContextualConfigParsePredNumeric",["ContextualConfigConstants","ContextualConfigParseFloat","ContextualConfigParseInteger","ContextualConfigPredAssertions","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY,h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigPredAssertions").assertNumberOfValues,j=b("ContextualConfigPredAssertions").assertValueOrder,k=b("ContextualConfigValidators").isInteger;a=function(a,c,d,e){__p&&__p();var f=d.map(e?b("ContextualConfigParseInteger"):b("ContextualConfigParseFloat")),l;switch(c){case g.SAME:var m=e?b("ContextualConfigParseInteger")(a):b("ContextualConfigParseFloat")(a);l=function(a){return e&&!k(a)?!1:a===m};break;case g.NULL:l=function(a){return a==null};break;case g.NNULL:l=function(a){return a!=null};break;case g.CATCH_ALL:l=function(a){return!0};break;case g.COR:i(f.length,2);j(f[0],f[1]);l=function(a){if(typeof a!=="number")return!1;return e&&!k(a)?!1:a>=f[0]&&a<f[1]};break;case g.LT:i(f.length,1);l=function(a){if(typeof a!=="number")return!1;return e&&!k(a)?!1:a<f[0]};break;case g.LTE:i(f.length,1);l=function(a){if(typeof a!=="number")return!1;return e&&!k(a)?!1:a<=f[0]};break;case g.EQ:i(f.length,1);l=function(a){if(typeof a!=="number")return!1;return e&&!k(a)?!1:a===f[0]};break;case g.NEQ:i(f.length,1);l=function(a){if(typeof a!=="number")return!1;return e&&!k(a)?!1:a!==f[0]};break;case g.GT:i(f.length,1);l=function(a){if(typeof a!=="number")return!1;return e&&!k(a)?!1:a>f[0]};break;case g.GTE:i(f.length,1);l=function(a){if(typeof a!=="number")return!1;return e&&!k(a)?!1:a>=f[0]};break;default:throw new Error(h.ILLEGAL_NUMERIC_STRATEGY)}return function(a){return l(a)}};e.exports=a}),null);
__d("ContextualConfigParseRegExp",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=/^\/(.+)\/(.*)$/;a=b("ContextualConfigConstants").ERROR;c=function(b){try{var c=b.match(g);if(c!=null)return new RegExp(c[1],c[2]);else return new RegExp(b)}catch(b){throw new Error(a.REGEX_SYNTAX_ERROR)}};e.exports=c}),null);
__d("ContextualConfigParsePredString",["ContextualConfigConstants","ContextualConfigParseRegExp","ContextualConfigPredAssertions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY,h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigPredAssertions").assertHasValues,j=b("ContextualConfigPredAssertions").assertNumberOfValues,k=function(a){if(typeof a!=="string")throw new Error(h.INVALID_VALUE_TYPE);return a},l=function(a){__p&&__p();var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b.push(k(e))}return b};a=function(a,c,d){__p&&__p();var e=l(d),f;switch(c){case g.SAME:f=function(b){return typeof b!=="string"?!1:b===a};break;case g.NULL:f=function(a){return a==null};break;case g.NNULL:f=function(a){return a!=null};break;case g.CATCH_ALL:f=function(a){return!0};break;case g.IN:i(e.length);f=function(a){return typeof a!=="string"?!1:e.indexOf(a)!==-1};break;case g.NIN:i(e.length);f=function(a){return typeof a!=="string"?!1:e.indexOf(a)===-1};break;case g.CONTAINS:j(e.length,1);f=function(a){return typeof a!=="string"?!1:a.indexOf(e[0])!==-1};break;case g.REGEX:j(e.length,1);var k=b("ContextualConfigParseRegExp")(e[0]);f=function(a){return typeof a!=="string"?!1:k.test(a)};break;default:throw new Error(h.ILLEGAL_STRING_STRATEGY)}return function(a){return f(a)}};e.exports=a}),null);
__d("ContextualConfigParseContextBuckets",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParsePredBoolean","ContextualConfigParsePredNumeric","ContextualConfigParsePredString","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY;var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigConstants").TYPE,i=b("ContextualConfigValidators").isArray,j=b("ContextualConfigValidators").isDefined;c=b("ContextualConfigValidators").isKey;var k=b("ContextualConfigValidators").isNonEmptyString,l=b("ContextualConfigValidators").isString,m=function(a){return b("ContextualConfigAssert")(j(a),g.MISSING_BUCKETS)},n=function(a){return b("ContextualConfigAssert")(i(a),g.MISSING_BUCKETS)},o=c(a),p=function(a){return b("ContextualConfigAssert")(l(a)&&o(a.toUpperCase()),g.MISSING_BUCKET_STRATEGY)},q=function(a){return b("ContextualConfigAssert")(i(a),g.ILLEGAL_BUCKET_VALUES)},r=function(a){return b("ContextualConfigAssert")(k(a),g.MISSING_BUCKET_NAME)},s=function(a,c){__p&&__p();var d=c.name;r(d);var e=c.strategy;p(e);c=c.values||[];q(c);switch(a){case h.BOOL:return b("ContextualConfigParsePredBoolean")(d,e);case h.FLOAT:return b("ContextualConfigParsePredNumeric")(d,e,c,!1);case h.INT:return b("ContextualConfigParsePredNumeric")(d,e,c,!0);case h.STRING:return b("ContextualConfigParsePredString")(d,e,c);default:throw new Error(g.UNKNOWN_BUCKET_DEFINITION)}},t=function(a,b){m(b);var c=b.name;r(c);return{name:c,pred:s(a,b)}};d=function(a,b){n(b);return b.map(function(b){return t(a,b)})};e.exports=d}),null);
__d("ContextualConfigParseContexts",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseContextBuckets","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigValidators").isArray,i=b("ContextualConfigValidators").isDefined,j=b("ContextualConfigValidators").isNonEmptyString,k=b("ContextualConfigValidators").isType,l=function(a){return b("ContextualConfigAssert")(i(a),g.BAD_CONTEXT_IDENTIFIER)},m=function(a){return b("ContextualConfigAssert")(h(a)&&a.length>0,g.MISSING_CONTEXT_IN_CONFIG)},n=function(a){return b("ContextualConfigAssert")(j(a),g.BAD_CONTEXT_IDENTIFIER)},o=function(a){return b("ContextualConfigAssert")(k(a),g.BAD_CONTEXT_IDENTIFIER)},p=function(a){l(a);var c=a.name,d=a.type;a=a.buckets;n(c);o(d);return{name:c,type:d,buckets:b("ContextualConfigParseContextBuckets")(d,a)}};a=function(a){m(a);return a.map(p)};e.exports=a}),null);
__d("ContextualConfigIsEqualParams",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,b){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c+=1){var d=a[c],e=b[c];if(d.name!==e.name||d.type!==e.type)return!1}return!0};e.exports=a}),null);
__d("ContextualConfigParseResultParamValue",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseBoolean","ContextualConfigParseFloat","ContextualConfigParseInteger","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigConstants").TYPE,i=b("ContextualConfigValidators").isString,j=function(a){return b("ContextualConfigAssert")(i(a),g.INVALID_STRING)};a=function(a,c){j(c);switch(a){case h.BOOL:return b("ContextualConfigParseBoolean")(c);case h.FLOAT:return b("ContextualConfigParseFloat")(c);case h.INT:return b("ContextualConfigParseInteger")(c);case h.STRING:return c;default:throw new Error(g.INVALID_VALUE_TYPE)}};e.exports=a}),null);
__d("ContextualConfigParseResultParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParamValue","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigValidators").isArray,i=b("ContextualConfigValidators").isDefined,j=b("ContextualConfigValidators").isNonEmptyString,k=b("ContextualConfigValidators").isType,l=function(a){return b("ContextualConfigAssert")(h(a),g.MISSING_RESULTS)},m=function(a){return b("ContextualConfigAssert")(i(a),g.BAD_CONTEXT_VALUE)},n=function(a){return b("ContextualConfigAssert")(j(a),g.BAD_CONTEXT_VALUE)},o=function(a){return b("ContextualConfigAssert")(k(a),g.BAD_CONTEXT_VALUE)},p=function(a,b){__p&&__p();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(e.name===b)return e.type}throw new Error(g.UNDECLARED_OUTPUT_PARAM)},q=function(a){return function(c){m(c);var d=c.name;n(d);var e=p(a,d);o(e);c=b("ContextualConfigParseResultParamValue")(e,c.value);return{name:d,type:e,value:c}}};a=function(a,b){l(b);return b.map(q(a))};e.exports=a}),null);
__d("ContextualConfigParseDenseResultParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigIsEqualParams","ContextualConfigParseResultParams"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").ERROR,h=function(a,c){return b("ContextualConfigAssert")(b("ContextualConfigIsEqualParams")(a,c),g.RESULTS_VECTOR_SIZE_MISMATCH)};a=function(a,c){c=b("ContextualConfigParseResultParams")(a,c.map(function(b,c){return{name:a[c].name,value:b}}));h(a,c);return c};e.exports=a}),null);
__d("ContextualConfigParseDenseDefaults",["ContextualConfigConstants","ContextualConfigParseDenseResultParams"],(function(a,b,c,d,e,f){"use strict";a=b("ContextualConfigConstants").ERROR;c=function(c,d){try{return b("ContextualConfigParseDenseResultParams")(c,d)}catch(b){throw new Error(a.MISSING_DEFAULT_VALUE)}};e.exports=c}),null);
__d("ContextualConfigParseMonitors",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigValidators").isArray,i=b("ContextualConfigValidators").isDefined,j=b("ContextualConfigValidators").isNonEmptyString,k=b("ContextualConfigValidators").isType,l=function(a){return b("ContextualConfigAssert")(i(a),g.BAD_CONTEXT_IDENTIFIER)},m=function(a){return b("ContextualConfigAssert")(h(a),g.BAD_MONITORED_CONTEXTS)},n=function(a){return b("ContextualConfigAssert")(j(a),g.BAD_CONTEXT_IDENTIFIER)},o=function(a){return b("ContextualConfigAssert")(k(a),g.BAD_CONTEXT_IDENTIFIER)},p=function(a){l(a);var b=a.name;a=a.type;n(b);o(a);return{name:b,type:a}};a=function(a){m(a);return a.map(p)};e.exports=a}),null);
__d("ContextualConfigParseOutputParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){__p&&__p();var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigValidators").isArray,i=b("ContextualConfigValidators").isNonEmptyString,j=b("ContextualConfigValidators").isType,k=function(a){return b("ContextualConfigAssert")(h(a),g.MISSING_OUTPUTS_DEFINITION)},l=function(a){return b("ContextualConfigAssert")(j(a),g.BAD_OUTPUT_TYPE)},m=function(a){return b("ContextualConfigAssert")(i(a),g.BAD_OUTPUT_NAME)},n=function(a){return b("ContextualConfigAssert")(o(a),g.DUPLICATE_OUTPUT_NAME)},o=function(a){__p&&__p();var b={};for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(b[e.name])return!1;b[e.name]=!0}return!0},p=function(a){m(a.name);l(a.type);return a};a=function(a){k(a);a=a.map(p);n(a);return a};e.exports=a}),null);
__d("ContextualConfigParseVector",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParamValue","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigValidators").isArray,i=function(a){return b("ContextualConfigAssert")(h(a),g.MISSING_VECTOR)},j=function(a,c){return b("ContextualConfigAssert")(a===c,g.RESULTS_VECTOR_SIZE_MISMATCH)},k=function(a,c){j(a.length,c.length);for(var d=0;d<a.length;d+=1){var e=a[d].type,f=c[d];b("ContextualConfigParseResultParamValue")(e,f)}},l=function(a){return a.reduce(function(a,b){b=b.buckets;return a*b.length},1)};a=function(a,b,c){i(c);b=l(b);var d=a.length;j(b*d,c.length);for(var e=0;e<b;e+=1){var f=e*d;k(a,c.slice(f,f+d))}return c};e.exports=a}),null);
__d("ContextualConfigResolveContexts",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ERROR,h=function(a,b){for(var c=0;c<a.length;c+=1){var d=a[c];try{if(d.pred(b))return[d.name,c]}catch(a){return null}}return null};a=function(a,b,c){__p&&__p();var d=null;a=a.map(function(a){__p&&__p();var e=a.name,f={name:e};if(d!=null)return f;var i;c[e]!=null?i=c[e]:b[e]!=null?i=b[e]():i=null;f.value=i;if(a.buckets!=null){e=h(a.buckets,i);if(e==null){d=new Error(g.MISSING_BUCKET_MATCH);return f}a=e[0];i=e[1];f.bucketName=a;f.bucketIndex=i}return f});return[d,a]};e.exports=a}),null);
__d("DenseContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseContexts","ContextualConfigParseDenseDefaults","ContextualConfigParseDenseResultParams","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseVector","ContextualConfigResolveContexts","ContextualConfigResolvedContextsUtils","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS;var g=b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS,h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigResolvedContextsUtils").getBucketIndices,j=b("ContextualConfigValidators").isDefined,k=function(a){return b("ContextualConfigAssert")(j(a),h.BAD_CONFIG)},l=function(a){var b=[],c=1;for(var d=a.length-1;d>=0;d-=1)b.push(c),c*=a[d].buckets.length;return b.reverse()},m=function(a,c,d,e){try{c=c.slice(d,d+a.length);return[null,b("ContextualConfigParseDenseResultParams")(a,c)]}catch(a){return[a,e]}},n=function(a,c,d){try{d=d.reduce(function(c,d,e){b("ContextualConfigAssert")(e<a.length,"Auxillery index out of range.");return c+a[e]*d},0);return[null,d*c]}catch(a){return[a,-1]}};c=function(){__p&&__p();function c(a,c){__p&&__p();k(a);this.globalContextProviders=babelHelpers["extends"]({},c);c=b("ContextualConfigParseOutputParams")(a.outputs);var d=b("ContextualConfigParseContexts")(a.contexts);this.aux=l(d);this.contexts=d;this.defaults=b("ContextualConfigParseDenseDefaults")(c,a.vectorDefaults);this.monitors=a.monitors!=null?b("ContextualConfigParseMonitors")(a.monitors):[];this.outputs=c;this.vector=b("ContextualConfigParseVector")(c,d,a.vector)}var d=c.prototype;d.resolve=function(b){try{return this.unsafeResolve(b)}catch(b){return[b,this.defaults,a,g]}};d.unsafeResolve=function(a){__p&&__p();var c=this.aux,d=this.globalContextProviders,e=this.contexts,f=this.defaults,h=this.monitors,j=this.outputs,k=this.vector;e=b("ContextualConfigResolveContexts")(e,d,a);var l=e[0];e=e[1];if(l!=null)return[l,f,e,g];l=n(c,j.length,i(e));c=l[0];l=l[1];if(c!=null)return[c,f,e,g];c=m(j,k,l,f);j=c[0];k=c[1];if(j!=null)return[j,k,e,g];l=b("ContextualConfigResolveContexts")(h,d,a);f=l[0];c=l[1];return f!=null?[f,k,e,g]:[null,k,e,c]};return c}();e.exports=c}),null);
__d("MultiOutputResolvedContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseResultParams","ContextualConfigResolveContexts","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,h=b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS,i=b("ContextualConfigConstants").ERROR,j=b("ContextualConfigValidators").isDefined,k=function(a){return b("ContextualConfigAssert")(j(a),i.BAD_CONFIG)};a=function(){__p&&__p();function a(a,c){k(a);this.globalContextProviders=babelHelpers["extends"]({},c);c=b("ContextualConfigParseOutputParams")(a.outputs);this.monitors=a.monitors!=null?b("ContextualConfigParseMonitors")(a.monitors):[];this.values=b("ContextualConfigParseResultParams")(c,a.values)}var c=a.prototype;c.resolve=function(a){try{return this.unsafeResolve(a)}catch(a){return[a,this.values,g,h]}};c.unsafeResolve=function(a){var c=this.globalContextProviders,d=this.monitors,e=this.values;d=b("ContextualConfigResolveContexts")(d,c,a);c=d[0];a=d[1];return c!=null?[c,e,g,h]:[null,e,g,a]};return a}();e.exports=a}),null);
__d("ContextualConfigMergePartialResultParams",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,b){__p&&__p();var c={};for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;c[f.name]=f}f=[];for(var e=a,d=Array.isArray(e),b=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(b>=e.length)break;a=e[b++]}else{b=e.next();if(b.done)break;a=b.value}a=a;var g=c[a.name];f.push(g!=null&&g.name===a.name&&g.type===a.type?g:a)}return f};e.exports=a}),null);
__d("ContextualConfigParseDefaults",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigIsEqualParams","ContextualConfigParseResultParams"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").ERROR,h=function(a,c){return b("ContextualConfigAssert")(b("ContextualConfigIsEqualParams")(a,c),g.MISSING_DEFAULT_VALUE)};a=function(a,c){c=b("ContextualConfigParseResultParams")(a,c);h(a,c);return c};e.exports=a}),null);
__d("ContextualConfigParseTable",["ContextualConfigAssert","ContextualConfigParseResultParams","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigValidators").isArray,i=b("ContextualConfigValidators").isDefined,j=b("ContextualConfigValidators").isNonEmptyString,k=function(a){return b("ContextualConfigAssert")(h(a),g.MISSING_TABLE)},l=function(a){return b("ContextualConfigAssert")(i(a),g.MISSING_TABLE)},m=function(a){return b("ContextualConfigAssert")(j(a),g.MISSING_TABLE_ITEM_BUCKET)},n=function(a){return b("ContextualConfigAssert")(h(a),g.MISSING_TABLE_ITEM_VALUES)},o=function(a,c){l(c);var d=c.bucket;c=c.values;m(d);n(c);return{bucket:d,values:b("ContextualConfigParseResultParams")(a,c)}};a=function(a,b){k(b);return b.reduce(function(b,c){c=o(a,c);b[c.bucket]=c.values;return b},{})};e.exports=a}),null);
__d("TableContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigMergePartialResultParams","ContextualConfigParseContexts","ContextualConfigParseDefaults","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseTable","ContextualConfigResolveContexts","ContextualConfigResolvedContextsUtils","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").BUCKET_DELIMITER;a=b("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS;c=b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS;var h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigResolvedContextsUtils").getBucketNames,j=b("ContextualConfigValidators").isDefined,k=[],l=function(a){return b("ContextualConfigAssert")(j(a),h.BAD_CONFIG)};d=function(){__p&&__p();function d(a,c){l(a);this.globalContextProviders=babelHelpers["extends"]({},c);c=b("ContextualConfigParseOutputParams")(a.outputs);this.contexts=b("ContextualConfigParseContexts")(a.contexts);this.defaults=b("ContextualConfigParseDefaults")(c,a.defaults);this.monitors=a.monitors!=null?b("ContextualConfigParseMonitors")(a.monitors):[];this.table=b("ContextualConfigParseTable")(c,a.table)}var e=d.prototype;e.resolve=function(b){try{return this.unsafeResolve(b)}catch(b){return[b,this.defaults,a,c]}};e.unsafeResolve=function(a){__p&&__p();var c=this.globalContextProviders,d=this.contexts,e=this.defaults,f=this.monitors,h=this.table;d=b("ContextualConfigResolveContexts")(d,c,a);var j=d[0];d=d[1];if(j!=null)return[j,e,d,[]];j=i(d).join(g);h=h[j]||k;j=b("ContextualConfigMergePartialResultParams")(e,h);e=b("ContextualConfigResolveContexts")(f,c,a);h=e[0];f=e[1];return h!=null?[h,j,d,[]]:[null,j,d,f]};return d}();e.exports=d}),null);
__d("ContextualConfigParseConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators","DenseContextualConfig","MultiOutputResolvedContextualConfig","TableContextualConfig"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").CONFIG_TYPE,h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigValidators").isDefined,j=[1],k=function(a){return b("ContextualConfigAssert")(i(a)&&i(a.version),h.BAD_CONFIG)},l=function(a){return b("ContextualConfigAssert")(j.indexOf(a)!==-1,h.UNSUPPORTED_CONFIG_VERSION)};a=function(a,c){k(a);l(a.version);switch(a.cctype){case g.DENSE:return new(b("DenseContextualConfig"))(a,c);case g.MULTI_OUTPUT_RESOLVED:return new(b("MultiOutputResolvedContextualConfig"))(a,c);case g.TABLE:return new(b("TableContextualConfig"))(a,c);default:throw new Error(h.UNKNOWN_CONFIG_TYPE)}};e.exports=a}),null);
__d("ContextualConfigWarn",[],(function(a,b,c,d,e,f){"use strict";a=function(a){};e.exports=a}),null);
__d("ContextualConfigResult",["ContextualConfigConstants","ContextualConfigWarn"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ERROR;a=function(){__p&&__p();function a(a){this.$1=a.reduce(function(a,b){var c=b.name;b=b.value;a[c]=b;return a},{}),this.$2=a}var c=a.prototype;c.get=function(a,c){try{a=this.$1[a];if(typeof a!==typeof c){b("ContextualConfigWarn")(g.REQUESTED_PARAM_NOT_FOUND);return c}return a}catch(a){b("ContextualConfigWarn")(a.message);return c}};c.getParams=function(){return this.$2};return a}();e.exports=a}),null);
__d("ErrorContextualConfig",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,h=b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS,i=b("ContextualConfigConstants").EMPTY_RESULT_PARAMS;a=function(){function a(a){this.error=a}var b=a.prototype;b.resolve=function(a){return[this.error,i,g,h]};return a}();e.exports=a}),null);
__d("ContextualConfig",["ContextualConfigCollateExposureData","ContextualConfigConstants","ContextualConfigExposureLogger","ContextualConfigParseConfig","ContextualConfigResult","ErrorContextualConfig","Random"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ContextualConfigConstants").JSON_SUB_SAMPLE_RATE;var g=1/a,h=1;c=function(){__p&&__p();function a(a,b){b===void 0&&(b={}),this.isDebugLoggingEnabled=!1,this.$3=!1,this.$4=a,this.$2=b}var c=a.prototype;c.$5=function(){if(this.$1)return this.$1;var a=this.$2,c=this.$4;try{c=b("ContextualConfigParseConfig")(c,a)}catch(a){c=new(b("ErrorContextualConfig"))(a)}this.$1=c;return c};c.$6=function(a){var c=this.isDebugLoggingEnabled,d=this.$4,e=this.$3;e=!e&&b("Random").random()<g;e&&(this.$3=!0);d=b("ContextualConfigCollateExposureData")(d,a,e);a=b("ContextualConfigExposureLogger").createEvent(d);a.log(c)};c.resolve=function(a){a===void 0&&(a={});var c=this.$1||this.$5();c=c.resolve(a);this.$6(c);return new(b("ContextualConfigResult"))(c[h])};return a}();e.exports=c}),null);
__d("VideoPlayerShakaConfigContextProvider",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var b=a.prototype;b.setContext=function(a,b){if(this.$1[a]!==b){var c;this.$1=Object.assign({},this.$1,(c={},c[a]=b,c))}};b.setAllContexts=function(a){this.$1=a};b.getAllContexts=function(){return this.$1};return a}();e.exports=a}),null);
__d("VideoPlayerShakaConfig",["ContextualConfig","VideoPlayerShakaConfigContextProvider","VideoPlayerShakaExperimentsConfig","VideoPlayerShakaExposureLogger","VideoPlayerShakaParsedContextualConfig","VideoPlayerShakaSessionConfigOverride"],(function(a,b,c,d,e,f){__p&&__p();var g=b("VideoPlayerShakaParsedContextualConfig").getStaticConfig()||null,h;a=function(){var a=b("VideoPlayerShakaParsedContextualConfig").getRawContextualConfig();h=a?new(b("ContextualConfig"))(a):null};b("VideoPlayerShakaParsedContextualConfig").addListener("configChange",a);a();c=function(){"use strict";__p&&__p();function a(a,c){this.$1=new(b("VideoPlayerShakaConfigContextProvider"))(),this.$2=c||null,this.$3=null,a&&this.$1.setAllContexts(a),h!==null&&(this.$3=h.resolve(a||{}))}var c=a.prototype;c.setContext=function(a,b){if(h===null)return null;var c=this.$1.getAllContexts();this.$1.setContext(a,b);a=this.$1.getAllContexts();c!==a&&(this.$3=h.resolve(a))};c.setOverrideConfig=function(a){this.$2=a};c.getBool=function(a,c){b("VideoPlayerShakaExposureLogger").logExposureForParamMaybe(a);var d=this.$4(a,c);return typeof d==="boolean"?d:typeof b("VideoPlayerShakaExperimentsConfig")[a]==="boolean"?b("VideoPlayerShakaExperimentsConfig")[a]:c};c.getNumber=function(a,c){b("VideoPlayerShakaExposureLogger").logExposureForParamMaybe(a);var d=this.$4(a,c);return typeof d==="number"?d:typeof b("VideoPlayerShakaExperimentsConfig")[a]==="number"?b("VideoPlayerShakaExperimentsConfig")[a]:c};c.getString=function(a,c){b("VideoPlayerShakaExposureLogger").logExposureForParamMaybe(a);var d=this.$4(a,c);return typeof d==="string"?d:typeof b("VideoPlayerShakaExperimentsConfig")[a]==="string"?b("VideoPlayerShakaExperimentsConfig")[a]:c};c.$4=function(a,c){if(!!this.$2&&typeof this.$2[a]===typeof c)return this.$2[a];if(b("VideoPlayerShakaSessionConfigOverride")&&typeof b("VideoPlayerShakaSessionConfigOverride")[a]===typeof c)return b("VideoPlayerShakaSessionConfigOverride")[a];if(g!==null&&typeof g[a]===typeof c)return g[a];return this.$3?this.$3.get(a,c):null};return a}();e.exports=c}),null);
__d("intlSummarizeNumber",["FbtNumberType","IntlCompactDecimalNumberFormatConfig","IntlVariations","intlNumUtils"],(function(a,b,c,d,e,f){__p&&__p();var g=3,h=14,i={ROUND:"ROUND",TRUNCATE:"TRUNCATE"},j={SHORT:"SHORT",LONG:"LONG"};function a(a,c,d,e){__p&&__p();d===void 0&&(d=j.SHORT);e===void 0&&(e=i.ROUND);d=b("IntlCompactDecimalNumberFormatConfig")[d==j.SHORT?"short_patterns":"long_patterns"];var f=a===0?0:Math.floor(Math.log10(Math.abs(a)));f>h&&(f=h);var l=k(a,f,c,e,d),m=l[0],n=l[1];l=l[2];if(l){f+=1;l=k(a,f,c,e,d);m=l[0];n=l[1];l[2]}e=b("FbtNumberType").getVariation(m)||b("IntlVariations").NUMBER_OTHER;l=f.toString();l=(d=d)!=null?(d=d[l])!=null?d[e.toString()]:d:d;if(!l||f<g||l.positive_prefix_pattern===""&&l.positive_suffix_pattern===""){e=c===void 0?0:c;return b("intlNumUtils").formatNumberWithThousandDelimiters(a,e)}return l&&l.min_integer_digits===0&&m===1?l.positive_prefix_pattern+l.positive_suffix_pattern:(l&&l.positive_prefix_pattern||"")+b("intlNumUtils").formatNumberWithThousandDelimiters(m,n)+(l&&l.positive_suffix_pattern||"")}function k(a,c,d,e,f){__p&&__p();var g=c.toString();g=(f=f)!=null?(f=f[g])!=null?f[b("IntlVariations").NUMBER_OTHER.toString()]:f:f;f=g&&g.min_integer_digits||c+1;var j=c-f+1;j=Math.abs(a)/Math.pow(10,j);var k=d!=null;d=k?d:g&&g.min_fraction_digits;d==null&&(d=c>2?1:0);g=e==i.TRUNCATE?b("intlNumUtils").truncateLongNumber(j.toString(),d):j.toFixed(d);e=parseFloat(g)*(a<0?-1:1);return[e,e%1===0&&!k?0:d,g.length>f+(d>0?d+1:0)+(j>=0?0:1)&&c<h]}e.exports=a}),null);
__d("VideoConcurrentViewerCount.react",["ix","cx","fbt","Image.react","React","Tooltip","asset","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){if(this.props.isAudio)return g("466773");else return g("406916")};d.render=function(){var a=this.props.viewerCount;if(!a)return b("React").createElement("div",{className:"_1jb_ _2z59"});var c=null;this.props.compact||(c=b("React").createElement(b("Image.react"),{className:"_5pf2",src:this.$1()}));var d=this.props.pageCount!=null&&this.props.pageCount>1?b("Tooltip").propsFor(i._({"*":"T\u1ed5ng s\u1ed1 ng\u01b0\u1eddi xem hi\u1ec7n t\u1ea1i c\u1ee7a trang n\u00e0y v\u00e0 {number} trang kh\u00e1c","_1":"T\u1ed5ng s\u1ed1 ng\u01b0\u1eddi xem hi\u1ec7n t\u1ea1i c\u1ee7a trang n\u00e0y v\u00e0 1 trang kh\u00e1c"},[i._plural(this.props.pageCount-1,"number")]),"right"):{};return b("React").createElement("div",babelHelpers["extends"]({className:"_1jb_"+(this.props.compact?" _3eca":""),"data-testid":"live-cvc"},d),c,b("intlSummarizeNumber")(a))};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoIndicator.react",["cx","fbt","DateConsts","Duration.react","React","VideoConcurrentViewerCount.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(this.props.isPreview)return this.$1();var a=this.$2();a=this.$3(a);return b("React").createElement("div",{className:(this.props.inline?"":"_3htz")+(this.props.inline?" _3qry":"")+(this.props.inline?"":" _2659")+(this.props.inline?"":" _530p")+" _4ubd _2lwf"+(this.props.isLive?" _3rno":"")+(this.props.compact?" _3eca":"")+(this.props.inline?"":" _6xrw")+(this.props.inline?" _6xrt":"")},a,b("React").createElement(b("VideoConcurrentViewerCount.react"),{pageCount:this.props.pageCount,viewerCount:this.props.viewerCount}))};d.$3=function(a){var c=!this.props.isRewound&&this.props.showElapsedTime&&this.props.startTime?b("React").createElement("span",{className:"_2nwf"},b("React").createElement(b("Duration.react"),{startTime:this.props.startTime*b("DateConsts").MS_PER_SEC,useLocalTime:!0})):null,d,e;this.props.inBeeper?(d="_60yg",e="_60yf"):this.props.isRewound?(d="_1dvf",e="_1dvg"):(d="_5pe-"+(this.props.isRehearsal?" _1dvf":""),e="_2wrk"+(this.props.isRehearsal?" _7bca":""));return a?b("React").createElement("div",{className:d,"data-testid":"live-indicator"},b("React").createElement("span",{className:e},a,c)):null};d.$2=function(){if(this.props.isBreakingNews)return h._("TIN N\u00d3NG TR\u1ef0C TI\u1ebeP");if(this.props.textOverride)return this.props.textOverride;return this.props.isPremiere?h._("C\u00d4NG CHI\u1ebeU"):this.props.isLive?h._("TR\u1ef0C TI\u1ebeP"):null};d.$1=function(){return b("React").createElement("div",{className:"_5vj"},b("React").createElement("div",{className:"_5vm"},b("React").createElement("span",{className:"_5vo"},h._("XEM TR\u01af\u1edaC"))))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LiveVideoPlayerDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;babelHelpers.assertThisInitialized(b).dispatch=b.dispatch.bind(babelHelpers.assertThisInitialized(b));return b}return b}(b("ExplicitRegistrationReactDispatcher"));e.exports=new a({strict:!0})}),null);
__d("LiveVideoPlayerConstants",[],(function(a,b,c,d,e,f){"use strict";a={ACTIONS:{SET_IS_REWOUND:"SET_IS_REWOUND",DISMISS_REWIND_COMMENT_OVERLAY:"DISMISS_REWIND_COMMENT_OVERLAY"}};e.exports=a}),null);
__d("LiveVideoPlayerStore",["FluxReduceStore","LiveVideoPlayerConstants","LiveVideoPlayerDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LiveVideoPlayerConstants").ACTIONS;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return b("immutable").Map({})};d.getIsRewound=function(a){return this.getState().getIn([a,"isRewound"],!1)};d.getIsRewindCommentOverlayDismissed=function(a){return this.getState().getIn([a,"isRewindCommentOverlayDismissed"],!1)};d.$LiveVideoPlayerStore1=function(a,b){var c=this;a.hasOption("LivePlayer","isRewound")||a.registerOption("LivePlayer","isRewound",function(){return c.getIsRewound(a.getVideoPlayerID())});a.emit("LivePlayer/isRewoundChanged")};d.reduce=function(a,b){__p&&__p();var c=this;switch(b.type){case g.DISMISS_REWIND_COMMENT_OVERLAY:a=a.setIn([b.playerID,"isRewindCommentOverlayDismissed"],!0);break;case g.SET_IS_REWOUND:var d=b.vpc,e=b.isRewound;a=a.setIn([d.getVideoPlayerID(),"isRewound"],e);setTimeout(function(){return c.$LiveVideoPlayerStore1(d,e)},0);d.setEnableLiveheadCatchup(!e);break;default:break}return a};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("LiveVideoPlayerDispatcher"))}),null);
__d("LiveVideoIndicatorContainer.react",["FluxContainer","LiveVideoIndicator.react","LiveVideoPlayerDispatcher","LiveVideoPlayerStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("LiveVideoPlayerStore")]};c.calculateState=function(a,c){a=b("LiveVideoPlayerStore").getIsRewound(c.playerID);return{isRewound:a}};function c(c){c=a.call(this,c)||this;b("LiveVideoPlayerDispatcher").explicitlyRegisterStores([b("LiveVideoPlayerStore")]);return c}var d=c.prototype;d.render=function(){return b("React").createElement(b("LiveVideoIndicator.react"),{compact:this.props.compact,inline:this.props.inline,inBeeper:this.props.inBeeper,isAudio:this.props.isAudio,isBreakingNews:this.props.isBreakingNews,isLive:this.props.isLive,isPremiere:this.props.isPremiere,isPreview:this.props.isPreview,isRehearsal:this.props.isRehearsal,isRewound:this.state.isRewound,pageCount:this.props.pageCount,showElapsedTime:this.props.showElapsedTime,startTime:this.props.startTime,textOverride:this.props.textOverride,viewerCount:this.props.viewerCount})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("LiveVideoIndicatorContainerServerCallable.react",["DateConsts","FBJSON","LiveVideoIndicatorContainer.react","React","SubscriptionsHandler","clearInterval","setInterval"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=3*b("DateConsts").MS_PER_SEC;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={showElapsedTime:!1,viewerCount:c.props.viewerCount},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this;this.subscriptions=new(b("SubscriptionsHandler"))();this.subscriptions.addSubscriptions(this.props.videoPlayerController.addListener("VideoWithLiveBroadcast/viewCountChange",function(c){c=c.getAttribute("data-store");c=c?b("FBJSON").parse(c).viewerCount:null;a.setState({viewerCount:c})}));this.props.showTimePop&&this.props.broadcastCreationTime&&this.subscriptions.addSubscriptions(this.props.videoPlayerController.addListener("beginPlayback",function(){a.setState({showElapsedTime:!0});var c=b("setInterval")(function(){a.setState({showElapsedTime:!1}),b("clearInterval")(c)},g)}))};d.componentWillUnmount=function(){this.subscriptions.release()};d.render=function(){return b("React").createElement(b("LiveVideoIndicatorContainer.react"),{compact:this.props.compact,inline:this.props.inline,inBeeper:this.props.inBeeper,isAudio:this.props.isAudio,isBreakingNews:this.props.isBreakingNews,isLive:this.props.isLive,isPremiere:this.props.isPremiere,isPreview:this.props.isPreview,isRehearsal:this.props.isRehearsal,pageCount:this.props.pageCount,playerID:this.props.videoPlayerController.getVideoPlayerID(),showElapsedTime:this.state.showElapsedTime,startTime:this.props.broadcastCreationTime,textOverride:this.props.textOverride,viewerCount:this.state.viewerCount})};return c}(b("React").Component);e.exports=a}),null);
__d("SphericalVideoPlayerEvents",[],(function(a,b,c,d,e,f){e.exports={SET_RELATIVE_SPHERICAL_ORIENTATION:"setRelativeSphericalOrientation",SET_ABSOLUTE_SPHERICAL_ORIENTATION:"setAbsoluteSphericalOrientation",SET_FIELD_OF_VIEW:"setFieldOfView",SET_VIDEO_PROJECTION:"setVideoProjection",SET_STEREO_MODE:"setStereoMode",SET_PARTIAL_LIMITS:"setPartialLimits",SET_VIEWPORT_CONTROL_CONFIG:"setViewportControlConfig"}}),null);
__d("MediaController",["EventEmitter","Style"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getRootNode=function(){return this.$MediaController1};d.setDimensions=function(a,c){var d=this.getRootNode();b("Style").apply(d,{width:a+"px",height:c+"px"})};d.getMediaID=function(){return this.$MediaController2};d.isLiveVideo=function(){return!1};d.isVideo=function(){return!1};return c}(b("EventEmitter"));e.exports=a}),null);
__d("getVideoComponentName",[],(function(a,b,c,d,e,f){__p&&__p();function a(a){if(a!=null){var b=null;a.prototype&&a.prototype.constructor?b=a.prototype.constructor:a.constructor&&(b=a.constructor);if(b&&b.name)return b.name;if(typeof a.toString==="function")return a.toString()}return null}e.exports=a}),null);
__d("ViewabilityVideoElement",["UITinyViewportAction","getElementPosition","getViewportDimensions"],(function(a,b,c,d,e,f){__p&&__p();var g=42;a=function(){"use strict";__p&&__p();function a(a,b,c,d){d===void 0&&(d=!1),this.$1=a,this.$2=b,this.$3=c,this.$4=d}var c=a.prototype;c.feedViewabilityPercentage=function(){var a=b("UITinyViewportAction").isTinyHeight();return this.$5(!a)};c.viewabilityPercentage=function(){return this.$5(!1)};c.isTopElement=function(a,b,c){b=document.elementFromPoint(b,c);return b===a||!!a&&a.contains(b)||!!b&&b.contains(a)};c.$5=function(a){__p&&__p();var c=b("getViewportDimensions")(),d=c.width;c=c.height;var e=this.$4&&this.$3?this.$3:this.$1;e=b("getElementPosition")(e);if(e.width===0||e.height===0)return 0;var f=e.x,h=e.x+e.width,i=e.y,j=e.y+e.height;a=a?g:0;if(h<=0||f>=d||j<=a||i>=c)return 0;h=Math.min(h,d)-Math.max(f,0);d=Math.min(j,c)-Math.max(i,a);f=h*d*100/(e.width*e.height);return f};return a}();e.exports=a}),null);
__d("VideoViewabilityLogging",["VideoPlayerExperiments","ViewabilityVideoElement","performanceNow"],(function(a,b,c,d,e,f){__p&&__p();var g=b("VideoPlayerExperiments").viewabilityPollingRate,h=new Map([[0,0],[25,25],[50,50],[75,75],[100,100]]);a=function(){"use strict";__p&&__p();function a(a,c,d,e){__p&&__p();var f=this;this.$12=function(a){if(!f.$14())return;a=b("performanceNow")();a-f.$1>g&&(f.$10(),f.$1=a);f.$2=window.requestAnimationFrame(f.$12)};this.$9=function(){f.$13()};this.$8=function(){f.setLastLoggedViewability(f.getViewability()),f.$11()};this.$1=0;this.$4=a;this.$5=new(b("ViewabilityVideoElement"))(c,d,e,this.$4.isSpherical());this.$6()}var c=a.prototype;c.getViewability=function(){var a;this.$4.isInline()?a=this.$5.feedViewabilityPercentage():a=this.$5.viewabilityPercentage();return this.$7(a)};c.setLastLoggedViewability=function(a){this.$3=a};c.$6=function(){this.$4.addListener("beginPlayback",this.$8),this.$4.addListener("pausePlayback",this.$9)};c.$10=function(){var a=this.getViewability();a!=this.$3&&(this.$4.logEvent("viewability_changed",{current_viewability_percentage:a,last_viewability_percentage:this.$3}),this.$3=a)};c.$11=function(){this.$2=window.requestAnimationFrame(this.$12)};c.$13=function(){window.cancelAnimationFrame(this.$2)};c.$14=function(){return this.$4.getVideoAPI().isPaused()!==void 0?!this.$4.getVideoAPI().isPaused():this.$4.getState()==="playing"};c.$7=function(a){__p&&__p();var b=-2;if(a<=0)return b;for(var c=h,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];a>=g&&(b=f)}return b};return a}();e.exports=a}),null);
__d("classWithMixins",[],(function(a,b,c,d,e,f){function a(a,b){var c=function(){a.apply(this,arguments)};c.prototype=Object.assign(Object.create(a.prototype),b.prototype);return c}e.exports=a}),null);
__d("forwardEvent",[],(function(a,b,c,d,e,f){function a(a,b,c){return a.addListener(c,function(){for(var a=arguments.length,d=new Array(a),e=0;e<a;e++)d[e]=arguments[e];return b.emit.apply(b,[c].concat(d))})}e.exports=a}),null);
__d("firstx",["invariant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;return d}g(0,1145)}e.exports=a}),null);
__d("LiveTraceWwwVideoPlayerFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("live_trace_www_video_player");e.exports=a}),null);
__d("VideoPlayerLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUTOPLAY_PREFERENCE_CHANGED:"autoplay_preference_changed",END_STALL_TIME:"end_stall_time",AUTOPLAY_PREFERENCE_STATUS:"autoplay_preference_status",ERROR_ALERT_SHOWN:"video_error_alert_shown",COMMERCIAL_BREAK_OFFSCREEN:"commercial_break_offscreen",COMMERCIAL_BREAK_ONSCREEN:"commercial_break_onscreen",NOT_AUTOPLAYING:"not_autoplaying",VIDEO_CHANNEL_NO_RELATED_VIDEO:"video_channel_no_related_video",VIDEO_ORIENTATION_CHANGED:"video_orientation_changed",AD_BREAK_STARTING_INDICATOR:"ad_break_starting_indicator",AD_BREAK_NON_INTERRUPTIVE_AD_START:"ad_break_non_interruptive_ad_start",AD_BREAK_NON_INTERRUPTIVE_AD_CLICK:"ad_break_non_interruptive_ad_click",AD_BREAK_PRE_ROLL_AD_START:"ad_break_pre_roll_ad_start",AD_BREAK_TAP_ON_TRAILER:"ad_break_tap_on_trailer",AD_BREAK_TAP_START_FROM_TRAILER:"ad_break_tap_start_from_trailer",ASSETS_LOADED:"assets_loaded",BUFFERED:"buffered",CANCELLED_REQUESTED_PLAYING:"cancelled_requested_playing",CAPTION_CHANGE:"caption_change",CAROUSEL_CHANGE:"carousel_change",CHROMECAST_AVAILABILITY_CHECKED:"chromecast_availability_checked",CHROMECAST_CAST_CLICKED:"chromecast_button_clicked",CHROMECAST_CAST_CONNECTED:"chromecast_connected",CHROMECAST_CAST_DISABLED:"chromecast_button_disabled",CHROMECAST_CAST_DISCONNECTED:"chromecast_disconnected",CHROMECAST_CAST_RECONNECTED:"chromecast_reconnected",CHROMECAST_CAST_VISIBLE:"chromecast_button_visible",CHROMECAST_NOT_SUPPORTED:"chromecast_not_supported",CLICK:"click",DISPLAYED:"displayed",REDISPLAYED:"redisplayed",ENTERED_FALLBACK:"entered_fallback",ENTERED_FS:"entered_fs",ENTERED_HD:"entered_hd",ERROR:"error",EXITED_FS:"exited_fs",EXITED_HD:"exited_hd",FINISHED_LOADING:"finished_loading",FINISHED_PLAYING:"finished_playing",HEADSET_CONNECTED:"headset_connected",HEADSET_DISCONNECTED:"headset_disconnected",HEART_BEAT:"heart_beat",HOST_ERROR:"host_error",HTTP_STATUS_UPDATE:"http_status_update",IMPRESSION:"impression",INVALID_URL:"invalid_url",MUTED:"muted",NO_SURFACE_UPDATE:"no_surface_update",PAUSED:"paused",PLAY_REQUESTED:"play_requested",PLAY_REQUESTED_OOB:"play_requested_oob",PLAYER_ALLOCATED:"player_allocated",PLAYER_FORMAT_CHANGED:"player_format_changed",PLAYER_LOADED:"player_loaded",PLAYING_LIVE_STARTED:"playing_live_started",PLAYING_LIVE_STOPPED:"playing_live_stopped",POP_FAILOVER:"pop_failover",PROGRESS:"progress",QUALITY_CHANGE:"quality_change",R2D2_SUMMARY:"r2d2_summary",R2D2_EVENT_VALIDATION:"r2d2_event_validation",READY_TO_PLAY:"ready_to_play",REPLAYED:"replayed",REPRESENTATION_ENDED:"representation_ended",REPRESENTATION_FIRST_ENDED:"representation_first_ended",REQUESTED:"requested",REQUESTED_PLAYING:"requested_playing",SCRUBBED:"scrubbed",SEEKED:"seeked",SPLASH_DISPLAYED:"splash_displayed",STALE:"stale",STARTED_PLAYING:"started_playing",STARTED_RECEIVING_BYTES:"started_receiving_bytes",STOPPED_PLAYING:"stopped_playing",STREAM_RESET:"stream_reset",SURFACE_UPDATED:"surface_updated",SWITCHED_IMPLEMENTATION:"switched_implementation",UNMUTED:"unmuted",UNPAUSED:"unpaused",USER_SELECTED_QUALITY:"user_selected_quality",VIDEO_CHAINING_IMPRESSION:"video_chaining_impression",VIDEO_CHAINING_TAP:"video_chaining_tap",VIDEO_CLICKED_WITHIN_PLAYER:"video_clicked_within_player",VIDEO_PLAYER_SERVICE_DISCONNECTED:"video_player_service_disconnected",VIDEO_PLAYER_SERVICE_RECONNECTED:"video_player_service_reconnected",VIDEO_PLAYER_SERVICE_UNAVAILABLE:"video_player_service_unavailable",VIDEO_PLAYING:"video_playing",VIDEO_SKIP_AD:"video_skip_ad",VOLUME_CHANGED:"volume_changed",VOLUME_DECREASE:"volume_decrease",VOLUME_INCREASE:"volume_increase",WATCH_AND_SCROLL_CHANNEL_ENTERED:"watch_and_scroll_channel_entered",WATCH_AND_SCROLL_EXITED:"watch_and_scroll_exited",WATCH_AND_SCROLL_ICON_HIGHLIGHTED:"watch_and_scroll_icon_highlighted",WATCH_AND_SCROLL_ICON_UNHIGHLIGHTED:"watch_and_scroll_icon_unhighlighted",WATCH_AND_SCROLL_PAUSED:"watch_and_scroll_paused",LIVE_SEGMENT_LOAD_ERROR:"live_segment_load_error",MANIFEST_DATA_TYPE_ERROR:"manifest_data_type_error",MANIFEST_LOAD_ERROR:"manifest_load_error",PLAYER_WARNING:"player_warning",PLAYHEAD_FELL_BEHIND_ERROR:"playhead_fell_behind_error",STREAM_SEGMENT_LOAD_ERROR:"stream_segment_load_error",UNEXPECTED_SEGMENT_ERROR:"unexpected_segment_error",NETWORK_TIMEOUT:"network_timeout",VIDEO_LOGGING_SESSION_TIMEOUT:"video_logging_session_timeout",RETRY_ON_ERROR:"retry_on_error",REPLICA_SWITCH:"replica_switch",REPLICA_SWITCH_SUCCESS:"replica_switch_success",REPLICA_SWITCH_FAILED:"replica_switch_failed",COMPLETION:"completion",VIEW:"view",PLAYED_FOR_THREE_SECONDS:"played_for_three_seconds",GUIDE_ENTERED:"guide_entered",GUIDE_EXITED:"guide_exited",HEADING_RESET:"heading_reset",SPHERICAL_FALLBACK_ENTERED:"spherical_fallback_entered",SPHERICAL_VIDEO_FALLBACK_CTA_CLICKED:"spherical_video_fallback_cta_clicked",VIEWPORT_ROTATED:"viewport_rotated",VIEWPORT_ZOOMED:"viewport_zoomed",BANZAI_OAUTH_GK_ERROR:"banzai_oauth_gk_error",BANZAI_OAUTH_PARSE_ERROR:"banzai_oauth_parse_error",BANZAI_OAUTH_SESSION_ERROR:"banzai_oauth_session_error",VIEWABILITY_CHANGED:"viewability_changed",PLAYER_SEEK:"player_seek",VIDEO_CDN_URL_EXPIRED:"video_cdn_url_expired",VIDEO_CDN_URL_REFRESHED:"video_cdn_url_refreshed",VIDEO_CDN_URL_REFRESH_ERROR:"video_cdn_url_refresh_error",LIVE_P2P_PLAYBACK_PLUGIN_LOADED:"live_p2p_playback_plugin_loaded",LIVE_P2P_PLAYBACK_PLUGIN_FAILED:"live_p2p_playback_plugin_failed"})}),null);
__d("VideoPlayerLoggerSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADS:"ads",ANIMATED_IMAGE_SHARE:"animated_image_share",ASSET:"asset",AYMT:"aymt",BALLOT:"ballot",BROADCAST_REQUEST_ATTACHMENT:"broadcast_request_attachment",CAMERA_POST:"camera_post",CANDIDATE_VIDEOS:"candidate_videos",CHAINED:"chained",CHAINED_SUGGESTION:"chained_suggestion",CHANNEL:"channel",CONTINUE_WATCHING_RECOMMENDATION:"continue_watching_recommendation",CORPORATE_CARD_APPLICATION:"corporate_card_application",EMBEDDED:"embedded",EMBEDDED_PAGE_PLUGIN:"embedded_page_plugin",EMBEDDED_VIDEO:"embedded_video",EMBEDDED_VIDEO_FROM_UFI:"embedded_video_from_ufi",EMBEDDED_VIDEO_PREVIEW:"embedded_video_preview",ENTRY_POINT:"entry_point",GAMEROOM_LIVE_VIDEO_HERO_BANNER:"gameroom_live_video_hero_banner",GAMEROOM_LIVE_VIDEO_TAB:"gameroom_live_video_tab",GAMEROOM_LIVE_VIDEO_THUMBNAIL:"gameroom_live_video_thumbnail",GAMES_VERSE_DESTINATION:"games_verse_destination",GAMES_VIDEO_LIVE_RECOMMENDATION:"games_video_live_recommendation",GAMES_VIDEO_CLIPS_HOME:"games_video_clips_home",GAMES_VIDEO_CLIPS_HOME_IMMERSIVE_PLAYER:"games_video_clips_home_immersive_player",GAMES_VIDEO_CLIPS_HOME_TOP_CLIPS:"games_video_clips_home_top_clips",GAMES_VIDEO_CLIPS_HOME_MY_CLIPS:"games_video_clips_home_my_clips",GAMES_VIDEO_COMMUNITY_FEED:"games_video_community_feed",GAMES_VIDEO_HOME:"games_video_home",GAMES_VIDEO_HOME_HERO:"games_video_home_hero",GAMES_VIDEO_HOME_STREAMER_HUB:"games_video_home_streamer_hub",GAMES_VIDEO_SINGLE_GAME:"games_video_single_game",GAMES_VIDEO_TOP_WEEKLY_CLIPS_STREAMER_PAGE:"games_video_top_weekly_clips_streamer_page",GAMES_VIDEO_HIGHLIGHTED_CLIPS_STREAMER_PAGE:"games_video_highlighted_clips_streamer_page",GAMES_VIDEO_SEARCH_UNIT:"games_video_search_unit",GAMES_VIDEO_SOCIAL_PLUGIN:"games_video_social_plugin",GAMES_VIDEO_HUB:"games_video_hub",GAMES_VIDEO_HUB_REDIRECT_NOTIFICATION:"games_video_hub_redirect_notification",GAMES_VIDEO_HUB_REDIRECT_UNKNOWN:"games_video_hub_redirect_unknown",GROUP_LIVE_VIDEO_MODULE:"group_live_video_module",HTML5:"html5",INLINE:"inline",INSIGHTS:"insights",INTERN_CRM_CALL_RECORDING:"intern_crm_call_recording",INTERN_CURATION:"intern_curation",INTERN_EXAMPLE:"intern_example",ISSUES_MODULE:"issues_module",LIVE_BEEPER:"live_beeper",LIVE_CONTROL_PANEL:"live_control_panel",LIVE_LINEAR:"live_linear",LIVE_MAP:"live_map",LIVE_MAP_LISTVIEW:"live_map_listview",LIVE_MAP_SIDEBAR:"live_map_sidebar",LIVE_MAP_TOOLTIP:"live_map_tooltip",LIVE_MAP_TOOLTIP_FROM_LISTVIEW:"live_map_tooltip_from_listview",LIVE_MAP_TOOLTIP_FROM_MAP:"live_map_tooltip_from_map",LIVE_MAP_TOOLTIP_FROM_WEBGL:"live_map_tooltip_from_webgl",LIVE_VIDEO_BROADCAST:"live_video_broadcast",LIVE_VIDEO_PREVIEW:"live_video_preview",LIVING_ROOM:"living_room",LIVING_ROOM_COMMENTATING:"living_room_commentating",LIVING_ROOM_RECAP_FULLSCREEN:"living_room_recap_fullscreen",LIVING_ROOM_RECAP_INLINE:"living_room_recap_inline",LOOKBACK:"lookback",MEDIA_COLLAGE:"media_collage",MEMORY_LEAK_TEST:"memory_leak_test",MESSAGING:"messaging",MISC:"misc",MOBILE:"mobile",MOVIES_RECOMMENDED_MOVIES_QP:"movies_recommended_movies_qp",NOT_SPECIFIED_PLEASE_FIX:"not_specified_please_fix",OFFERS_DETAIL:"offers_detail",PAGE_LIVE_VIDEO_MODULE:"page_live_video_module",PAGES_FINCH_MAIN_VIDEO:"pages_finch_main_video",PAGES_FINCH_THUMBNAIL_VIDEO:"pages_finch_thumbnail_video",PAGES_FINCH_TRAILER:"pages_finch_trailer",PAGES_VIDEO_SET:"pages_video_set",PAGES_MESSAGING_VIDEO:"pages_messaging_video",PAGES_COVER:"pages_cover",PAGES_TIMELINE_PAGES_COVER:"pages_timeline_pages_cover",PAGES_COVER_HOVER:"pages_cover_hover",PAGES_HOME_HERO:"pages_home_hero",VIDEO_PAGE_SPOTLIGHT_UNIT:"video_page_spotlight_unit",VIDEO_PAGE_VIDEO_LIST:"video_page_video_list",PEOPLE_PORTAL:"people_portal",PERMALINK:"permalink",PROFILE_OVERVIEW:"profile_overview",PROFILE_COVER:"profile_cover",PROFILE_VIDEO:"profile_video",PROFILE_VIDEO_HOVERCARD:"profile_video_hovercard",PROFILE_VIDEO_THUMB:"profile_video_thumb",REPORT_FLOW:"report_flow",REVIEW:"review",SEARCH_LIVE_VIDEO_MODULE:"search_live_video_module",SERP_VIDEOS_TAB:"serp_videos_tab",SLIDESHOW:"slideshow",SNOWLIFT:"snowlift",SRT_REVIEW:"srt_review",TAHOE:"tahoe",TOPIC_CHANNEL_LIVING_ROOM:"topic_channel_living_room",TOPIC_GAMING:"topic_gaming",TRAILER_OG_ATTACHMENT:"trailer_og_attachment",TRAILER_TIMELINE_COLLECTIONS:"trailer_timeline_collections",TRAILER_TIMELINE_UNIT:"trailer_timeline_unit",TRIVIA_GAME_ADMIN_DASHBOARD:"trivia_game_admin_dashboard",TV:"tv",USER_VIDEO_TAB:"user_video_tab",VIDEO_COPYRIGHT_PREVIEW:"video_copyright_preview",VIDEO_HOME_INLINE:"video_home_inline",VIDEO_HOME_CATALOG:"video_home_catalog",TOPIC_SPORTS:"topic_sports",VIDEO_HOME_EXPLORE:"discover",VIDEO_HOME_EXPLORE_TAB:"explore",VIDEO_HOME_CHANNEL:"video_home_channel",VIDEO_HOME_WATCHLIST:"watchlist",VIDEO_INLINE_CHAINING:"video_inline_chaining",VIDEOHUB_FEATURED:"videohub_featured",VIDEOHUB_LIVE:"videohub_live",VIDEOHUB_PLAYLIST:"videohub_playlist",WATCH_SCROLL:"watch_scroll",UFI_COMMENT_ATTACHMENT:"ufi_comment_attachment",LIVE_AUTOPLAY_WATCH_AND_SCROLL:"live_autoplay_watch_and_scroll",GAMES_VIDEO_STREAMER_SEARCH_UNIT:"games_video_streamer_unit",GAMES_STREAMER_DASHBOARD:"games_streamer_dashboard",ADS_PREVIEW:"ads_preview",VIDEO_PAGE_UNSPECIFIED:"video_page_unspecified",SPOTLIGHT_LIVE:"spotlight_live",SPOTLIGHT_FEATURED:"spotlight_featured",SPOTLIGHT_POPULAR:"spotlight_popular",SPOTLIGHT_UNKNOWN:"spotlight_unknown",VIDEOS_CARD:"videos_card",VIDEOS_TAB:"videos_tab",PLAYLISTS_TAB:"playlists_tab",PLAYLISTS_CARD:"playlists_card",PLAYLIST_PAGE:"playlist_page",BUSINESS_FEED:"business_feed",REDIRECTED_WATCH_SERP:"redirected_watch_serp",SHOWS_CATALOG:"shows_catalog",SOTTO_CATALOG:"sotto_catalog",SOTTO_CONSIDERATION_PAGE:"sotto_consideration_page",RESULTS:"results",SERIES_CARD:"series_card",WATCH_HISTORY:"watch_history",WATCH:"watch",VIDEO_LIST:"video_list",WORK_CAPTIONS_REVIEW:"work_captions_review",MUSIC_VIDEOS_PLAYLISTS_CARD:"music_videos_playlists_card",LIVE_RHC:"live_rhc"})}),null);
__d("HTMLMediaElementReadyStates",[],(function(a,b,c,d,e,f){a={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};e.exports=a}),null);
__d("getHTMLMediaElementMutedState",["HTMLMediaElementReadyStates"],(function(a,b,c,d,e,f){function a(a){if(a.readyState>=b("HTMLMediaElementReadyStates").HAVE_METADATA)return a.muted;else return a.hasAttribute("muted")||a.muted}e.exports=a}),null);
__d("getVideoBrowserTabId",["guid"],(function(a,b,c,d,e,f){var g=b("guid")().slice(-8);function a(){return g}e.exports=a}),null);
__d("HVideoPlayerMixin",["EventListener","UserAgent","VideoPlayerHTML5Experiments","VideoPlayerLoggerEvent","dangerouslyOverrideMediaElementEndedProperty","getHTMLMediaElementMutedState","getVideoBrowserTabId"],(function(a,b,c,d,e,f){__p&&__p();var g=-1,h=!!(window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart);function i(a,b){__p&&__p();a.time_ms=Date.now();b=b.timeStamp;if(b&&h){var c=Math.floor(b).toString().length,d=Date.now().toString().length,e=window.performance.now();if(c===d+3)b=Math.floor(b/1e3),a.time_ms=b;else if(c===d)a.time_ms=b;else if(b<=e){c=window.performance.timing.navigationStart;a.time_ms=c+Math.floor(b)}}return a}a={initLogger:function(a,c,d,e,f,h){__p&&__p();var i=this;this._loggedEvents={};this._logFunction=a;this._fixOverwrittenGetVideoCurrentTime=e;this._fireSeekEvents=f;this._useEventTime=c;this._recentPausedTime=null;var j=this.getVideoElement();if(h){var k=j.pause;j.pause=function(){i._recentPausedTime=j.currentTime;return k.apply(j)}}d&&(this._overwriteVideoCurrentTimeProperty(j),this._didOverwriteVideoCurrentTimeProperty||(this.preventSeekLoggingInMixin=!0));this._lastStartTimePosition=g;this._muted=b("getHTMLMediaElementMutedState")(j);this._pausedPosition=g;this._seeking=!1;this._seekSourceTimePosition=g;this._currentTimeAtSeekStart=g;this._volume=j.volume;this._hasBlockedPausedRepresentationEnded=!1;this._logNextPlayingEvent=!0;this._lastPlayedTime=g;a=!1;j.readyState>=j.HAVE_FUTURE_DATA?this._logReadyToPlay():a=!0;if(this.skipSubscriptions())return;e=this.getSubscriptions();a&&e.addSubscriptions(b("EventListener").listen(j,"canplay",this._logReadyToPlay.bind(this)));e.addSubscriptions(b("EventListener").listen(j,"ended",this.onEnded.bind(this)),b("EventListener").listen(j,"pause",this.onPause.bind(this)),b("EventListener").listen(j,"playing",this.onPlaying.bind(this)),b("EventListener").listen(j,"seeked",this.onSeeked.bind(this)),b("EventListener").listen(j,"seeking",this.onSeeking.bind(this)),b("EventListener").listen(j,"play",this.onPlay.bind(this)),b("EventListener").listen(j,"loadedmetadata",this.onLoadedMetadata.bind(this)),b("EventListener").listen(j,"timeupdate",this.onTimeUpdate.bind(this)),b("EventListener").listen(j,"volumechange",this.onVolumeChange.bind(this)))},skipSubscriptions:function(){return!1},onCanPlay:function(a){this._logReadyToPlay(a)},onPlay:function(a){this._logNextPlayingEvent=!0,this._ignoreNextPlaying=!1,this._pendingPlayRequest=!0},logHeartbeat:function(){if(b("VideoPlayerHTML5Experiments").heartbeatUpdateWatchTime){this._logEvent(b("VideoPlayerLoggerEvent").HEART_BEAT,this._getWatchTimeClosingLogData({}));var a=this._getVideoCurrentTime();this._lastStartTimePosition=a;this._lastPlayedTime=a}else this._logEvent(b("VideoPlayerLoggerEvent").HEART_BEAT)},_getWatchTimeClosingLogData:function(a){this._lastPlayedTime=this._getVideoCurrentTime();return this._amendEventTime(babelHelpers["extends"]({video_last_start_time_position:this._lastStartTimePosition===g?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:this._lastPlayedTime},a))},_logOnce:function(a,b){if(this._loggedEvents[a])return;this._logEvent(a,b)},_logEvent:function(a,c){__p&&__p();this._loggedEvents[a]=!0;c=c?c:{};c.video_id=this.getVideoID();c.browser_tab_id=b("getVideoBrowserTabId")();c.has_blocked_paused_representation_ended=this._hasBlockedPausedRepresentationEnded;Object.prototype.hasOwnProperty.call(c,"video_time_position")||(c.video_time_position=this._getVideoCurrentTime());c.time_ms||(c.time_ms=Date.now());c.time=Math.round(c.time_ms/1e3);if(this.getAdClientToken){var d=this.getAdClientToken();d&&(c.ad_client_token=d)}this.getPlayerFormat&&(c.player_format=this.getPlayerFormat());this.getPlayerOrigin&&(c.player_origin=this.getPlayerOrigin());this.getPlayerSuborigin&&(c.player_suborigin=this.getPlayerSuborigin());this._logFunction(a,c)},_logReadyToPlay:function(){this._logOnce(b("VideoPlayerLoggerEvent").READY_TO_PLAY)},__setPendingPlayRequest:function(a){this._pendingPlayRequest=a},onPause:function(a){__p&&__p();this._logNextPlayingEvent=!0;var c=this.getVideoElement();if(this._pendingPlayRequest){var d={debug_reason:this.getLastPlayReason()};this._pendingPlayRequest=!1;this._logEvent(b("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING,d);return}d=!!this._getVideoPlayerShakaConfig()&&this._getVideoPlayerShakaConfig().getBool("abort_loading_decisioning_logic",!1);d=c.ended||d&&b("dangerouslyOverrideMediaElementEndedProperty").isEnded(a)?b("VideoPlayerLoggerEvent").FINISHED_PLAYING:b("VideoPlayerLoggerEvent").PAUSED;var e=this._recentPausedTime==null?this._getVideoCurrentTime():this._recentPausedTime;this._recentPausedTime=null;e&&(this._lastPlayedTime=e);e=this._lastPlayedTime;var f=this._lastStartTimePosition===g?this._lastPlayedTime:this._lastStartTimePosition;b("VideoPlayerHTML5Experiments").preventNegativeTimePositions&&(this._lastPlayedTime<0&&(e=0,this._lastStartTimePosition<0&&(f=0)));var h=a.lastPauseReason;if(d===b("VideoPlayerLoggerEvent").FINISHED_PLAYING)e=Math.max(e,c.duration);else if(this.preventPauseLoggingInMixin===!0)return;else this.preventPauseLoggingInMixin===!1&&(h=h||"unloaded");this._logEvent(d,this._amendEventTime({video_last_start_time_position:f,video_time_position:e,debug_reason:h},a));this._lastStartTimePosition=g},onEnded:function(){this._logNextPlayingEvent=!0,this._lastStartTimePosition!==g&&b("UserAgent").isBrowser("IE")&&this.onPause({})},onBlockedPausedRepresentationEnded:function(){this._hasBlockedPausedRepresentationEnded=!0},logRepresentationEnded:function(a){__p&&__p();if(a){a={representation_id:a.representationID,next_representation_id:a.nextRepresentationID,stream_switch_reason:a.streamSwitchReason};b("VideoPlayerHTML5Experiments").newStateChangeCalculation&&(a=this._getWatchTimeClosingLogData(a));this._logEvent(b("VideoPlayerLoggerEvent").REPRESENTATION_ENDED,a);if(b("VideoPlayerHTML5Experiments").newStateChangeCalculation){a=this._getVideoCurrentTime();this._lastStartTimePosition=a;this._lastPlayedTime=a}}},addWatchTimeData:function(a){this._lastStartTimePosition!=g&&this._lastPlayedTime!=g&&(a.video_last_start_time_position=this._lastStartTimePosition,a.video_time_position=this._lastPlayedTime,this._lastStartTimePosition=g);return a},getLastPlayReason:function(){return null},getVideoPlayReason:function(){return null},onPlaying:function(a){__p&&__p();if(!this._logNextPlayingEvent)return;b("VideoPlayerHTML5Experiments").superficialUnpauseEventsFix&&(this._logNextPlayingEvent=!1);if(this._ignoreNextPlaying){this._ignoreNextPlaying=!1;return}var c=this.getLastPlayReason();this._pendingPlayRequest=!1;var d=this._loggedEvents[b("VideoPlayerLoggerEvent").STARTED_PLAYING]?b("VideoPlayerLoggerEvent").UNPAUSED:b("VideoPlayerLoggerEvent").STARTED_PLAYING;c=this._amendEventTime({debug_reason:c,video_play_reason:this.getVideoPlayReason()},a);a=this._getVideoCurrentTime();if(b("VideoPlayerHTML5Experiments").useCurrentTimeAdjustment){var e=this.getVideoElement().currentTime;e=e-a;c.time_ms-=Math.round(e*1e3)}this._logEvent(d,c);this._lastStartTimePosition=a;this._lastPlayedTime=a;this._currentTimeAtLoadedMetadataCache=null},allowNextSeekInMixin:function(){this._allowNextSeek=!0},onSeeked:function(a){__p&&__p();this._seeking=!1;var c=this._seekSourceTimePosition;this._seekSourceTimePosition=g;var d=this._currentTimeAtSeekStart;this._currentTimeAtSeekStart=g;if(this.preventSeekLoggingInMixin&&!this._allowNextSeek){this._pendingPlayRequest||(this._ignoreNextPlaying=!0);return}this._allowNextSeek=!1;this._ignoreNextPlaying=!1;var e={video_seek_source_time_position:c,video_last_start_time_position:c};this._fixOvewrittenGetVideoCurrentTime&&(e.video_seek_source_time_position=d);this.preventSeekLoggingInMixin&&(this._lastStartTimePosition!==g?e.video_last_start_time_position=this._lastStartTimePosition:e.video_last_start_time_position=c);c=b("VideoPlayerLoggerEvent").SCRUBBED;this._fireSeekEvents&&(c=b("VideoPlayerLoggerEvent").SEEKED,e={seek_from_video_time_position:d});this._logEvent(c,this._amendEventTime(e,a));d=this.getVideoElement();d.paused?this._lastStartTimePosition=g:this._lastStartTimePosition=this._getVideoCurrentTime()},onSeeking:function(a){this._currentTimeAtLoadedMetadataCache=null;this._seeking||(this._seekSourceTimePosition=this._getVideoCurrentTime(),this._seeking=!0);if(this._fixOverwrittenGetVideoCurrentTime)return;this._currentTimeAtSeekStart=g},onTimeUpdate:function(a){this._currentTimeAtLoadedMetadataCache=null;a=this.getVideoElement();a.paused||(this._lastPlayedTime=this._getVideoCurrentTime())},onVolumeChange:function(a){__p&&__p();var c=this.getVideoElement(),d={},e=null;if(b("VideoPlayerHTML5Experiments").useFixedVolumeLogging){var f=c.muted,g=this._muted,h=c.volume,i=this._volume;d.current_volume=Math.round(h*100);this._volume=h;this._muted=f;f=f||h==0;g=g||i==0;if(g&&f)return;if(g!=f)f?e=b("VideoPlayerLoggerEvent").MUTED:e=b("VideoPlayerLoggerEvent").UNMUTED;else{if(i==h)return;h<i?e=b("VideoPlayerLoggerEvent").VOLUME_DECREASE:e=b("VideoPlayerLoggerEvent").VOLUME_INCREASE}}else c.muted!==this._muted&&c.volume===this._volume&&c.volume>0?e=c.muted?b("VideoPlayerLoggerEvent").MUTED:b("VideoPlayerLoggerEvent").UNMUTED:(e=c.volume>this._volume?b("VideoPlayerLoggerEvent").VOLUME_INCREASE:b("VideoPlayerLoggerEvent").VOLUME_DECREASE,d.current_volume=Math.round(c.volume*100)),this._muted=c.muted,this._volume=c.volume;this._logEvent(e,this._amendEventTime(d,a))},_amendEventTime:function(a,c){var d=this._useEventTime;b("VideoPlayerHTML5Experiments").fixEventTimeLogging&&(d=d&&c);if(d)return i(a,c);else a.time_ms=Date.now();return a},_getVideoCurrentTime:function(){var a;this._fixOverwrittenGetVideoCurrentTime?a=this.getVideoElement().currentTime:a=this._currentTimeAtSeekStart===g?this.getVideoElement().currentTime:this._currentTimeAtSeekStart;a=a.toFixed(2);b("VideoPlayerHTML5Experiments").useCurrentTimeAdjustment&&(this._currentTimeAtLoadedMetadataCache!=null&&(a=this._currentTimeAtLoadedMetadataCache.toFixed(2)));return b("VideoPlayerHTML5Experiments").fixCurrentTimeType?+a:a},_getVideoPlayerShakaConfig:function(){return this.getVideoPlayerShakaConfig&&typeof this.getVideoPlayerShakaConfig==="function"?this.getVideoPlayerShakaConfig():null},onLoadedMetadata:function(a){this._currentTimeAtLoadedMetadataCache=this.getVideoElement().currentTime},_overwriteVideoCurrentTimeProperty:function(a){__p&&__p();var b=this;this._didOverwriteVideoCurrentTimeProperty=!1;try{var c=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"currentTime");if(!c)return;if(typeof c.get!=="function"||typeof c.set!=="function")return;Object.defineProperty&&Object.defineProperty(a,"currentTime",{get:function(){return c.get.call(this)},set:function(d){b._currentTimeAtSeekStart===g&&(b._currentTimeAtSeekStart=c.get.call(a)),c.set.call(a,d)},configurable:!0,enumerable:!0});this._didOverwriteVideoCurrentTimeProperty=!0}catch(a){}}};e.exports=a}),null);
__d("VideoChannelViewChainLengthManager",["guid"],(function(a,b,c,d,e,f){__p&&__p();var g=function(){"use strict";__p&&__p();function a(a){this.$1=b("guid")(),this.$2=0,this.$3=a,this.$4={},this.$4[a]=0,this.$5=a}var c=a.prototype;c.registerVideoID=function(a){this.$4[a]===void 0&&(this.$2++,this.$4[a]=this.$2),this.$5=a};c.getSessionID=function(){return this.$1};c.getCurrentChainLength=function(){return this.$4[this.$5]!==void 0?this.$4[this.$5]:null};return a}(),h={};a={_ensureSessionID:function(a){a=a.toString(),h[a]||(h[a]=new g(a))},getLoggingData:function(a){a&&(a=a.toString());a=h&&h[a];return!a?{video_chaining_depth_level:null,video_chaining_session_id:null}:{video_chaining_depth_level:a.getCurrentChainLength(),video_chaining_session_id:a.getSessionID()}},registerChainingInfos:function(a,b){var c=a;if(b){b=b.decode();b.root_id&&(c=b.root_id)}c&&(c=c.toString());this.registerVideoID(c,a)},registerVideoID:function(a,b){a=a.toString(),this._ensureSessionID(a),h[a].registerVideoID(b)}};e.exports=a}),null);
__d("R2D2VideoMetadata",["getVideoBrowserTabId","uuid"],(function(a,b,c,d,e,f){__p&&__p();var g=1e3,h=10;a=function(){"use strict";__p&&__p();function a(a){this.$1=a.video_id,this.$2=a.ad_client_token,this.$3=a.player_origin,this.$4=a.player_instance_key,this.$6=parseInt(a.playback_duration*g,h),this.$5=b("uuid")()}var c=a.prototype;c.toJSON=function(){return{video_id:this.$1,ad_client_token:this.$2,player_origin:this.$3,player_instance_key:this.$4,r2d2_session_id:this.$5,duration_ms:this.getDurationMs(),browser_tab_id:b("getVideoBrowserTabId")()}};c.getVideoId=function(){return this.$1};c.getDurationMs=function(){return parseInt(this.$6,h)};c.setDurationMs=function(a){this.$6=a};return a}();e.exports=a}),null);
__d("R2D2VideoEventValidationSummary",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$2=0,this.$1=new Map()}var b=a.prototype;b.addEvent=function(a){this.$1.has(a)||this.$1.set(a,0);var b=this.$1.get(a);this.$1.set(a,b+1);this.$2++};b.getEvents=function(){return this.$1};b.getEventsCount=function(){return this.$2};b.toJSON=function(){var a={},b=[];this.$1.forEach(function(c,d){a[d]=c,b.push(d)});return{events_count:JSON.stringify(a),events_name:"['"+b.join("','")+"']"}};return a}();e.exports=a}),null);
__d("R2D2VideoWatchTimeSegment",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getStartTimeMs=function(){return this.$1};b.getEndTimeMs=function(){return this.$2};return a}();e.exports=a}),null);
__d("R2D2VideoState",["R2D2VideoWatchTimeSegment"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,b){this.$1=a,this.$2=b,this.reset()}var c=a.prototype;c.startPlaying=function(a){this.$3||(this.$3=!0,this.$6=a,this.$4||(this.$7=a))};c.stopPlaying=function(a){this.$3&&(this.$3=!1,this.addPlaySegment(this.$6,a),this.$4||this.addPlaySegmentWithSound(this.$7,a))};c.addPlaySegmentHelper=function(a,c,d){__p&&__p();if(c>=d)return;d=new(b("R2D2VideoWatchTimeSegment"))(c,d);var e=!1;for(var f=0;f<a.length;f++)if(a[f].getStartTimeMs()>c){a.splice(f,0,d);e=!0;break}e||a.push(d)};c.addPlaySegment=function(a,b){this.addPlaySegmentHelper(this.$8,a,b)};c.addPlaySegmentWithSound=function(a,b){this.addPlaySegmentHelper(this.$9,a,b)};c.setFinishedPlaying=function(){this.$5=!0};c.getFinishedPlaying=function(){return this.$5};c.setMuted=function(a){this.$4||(this.$4=!0,this.$3&&this.addPlaySegmentWithSound(this.$7,a))};c.setUnmuted=function(a){this.$4&&(this.$4=!1,this.$7=a)};c.getVideoId=function(){return this.$1};c.getDurationMs=function(){return this.$2};c.setDurationMs=function(a){this.$2=a};c.getWatchedSegments=function(){return this.$8};c.getWatchedSegmentsWithSound=function(){return this.$9};c.reset=function(){this.$3=!1,this.$4=!0,this.$5=!1,this.$6=0,this.$7=0,this.$8=[],this.$9=[]};return a}();e.exports=a}),null);
__d("R2D2VideoSession",["R2D2VideoState","R2D2VideoEventValidationSummary"],(function(a,b,c,d,e,f){__p&&__p();var g=1e3,h=90*60*1e3;a=function(){"use strict";__p&&__p();function a(a,c,d){this.$4=new(b("R2D2VideoState"))(a.getVideoId(),a.getDurationMs()),this.$5=c,this.$6=d,this.$7=a,this.$8=[],this.$3=!1,this.$9=new(b("R2D2VideoEventValidationSummary"))()}var c=a.prototype;c.addEvent=function(a,b){if(this.$10(a,b))return;this.$11(b);this.$5.processEvent(a,b,this.$4);this.$2=new Date();this.$3=!0;this.$9.addEvent(a);this.$12(a,b)};c.$11=function(a){a=a.playback_duration*g;this.$7.setDurationMs(a);this.$4.setDurationMs(a)};c.$12=function(a,b){var c={};c.Name=a;c.ClientTime=new Date();c.seq_num=b.seq_num;c.video_time_position=b.video_time_position;b.video_last_start_time_position!==void 0&&(c.video_last_start_time_position=b.video_last_start_time_position);this.$8.push(c)};c.$10=function(a,b){if(this.$8.length<1)return!1;var c=this.$8[this.$8.length-1];return c.Name===a&&c.video_time_position==b.video_time_position};c.hasUpdates=function(){return this.$3};c.hasExpired=function(){return this.$2.getTime()<=Date.now()-h};c.recalculateDelta=function(){var a=this.$6.getVideoStateSummary(this.$4),b=this.$6.calculateDelta(a,this.$1);this.$8.forEach(function(a){b.addDebugInfo(a)});this.$8=[];this.$1=a;this.$3=!1;return b};c.getMetadata=function(){return this.$7};c.getDebugInfo=function(){return this.$8};c.getEventValidationSummary=function(){return this.$9};c.getStateVideoDurationMsForTesting=function(){return this.$4.getDurationMs()};return a}();e.exports=a}),null);
__d("R2D2VideoStateMachine",[],(function(a,b,c,d,e,f){__p&&__p();var g=1e3;a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.processEvent=function(a,b,c){__p&&__p();switch(a){case"started_playing":case"unpaused":c.startPlaying(b.video_time_position*g);break;case"finished_playing":c.stopPlaying(b.video_time_position*g);c.setFinishedPlaying();break;case"paused":c.stopPlaying(b.video_time_position*g);break;case"muted":c.setMuted(b.video_time_position*g);break;case"unmuted":c.setUnmuted(b.video_time_position*g);break}};return a}();e.exports=a}),null);
__d("R2D2FinishCountMetric",[],(function(a,b,c,d,e,f){__p&&__p();var g="finish_count";a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.compute=function(a){return a.getFinishedPlaying()?1:0};b.computeDelta=function(a,b){return a-b};b.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2UniqueTimeSpentMetric",[],(function(a,b,c,d,e,f){__p&&__p();var g="unique_time_spent_ms";a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.compute=function(a){return this.$1(a)};b.computeDelta=function(a,b){return a-b};b.getMetricName=function(){return g};b.$1=function(a){__p&&__p();var b=0,c=0;a=a.getWatchedSegments();for(var d=0;d<a.length;d++){var e=a[d],f=e.getEndTimeMs();if(f>b){f=Math.max(b,e.getStartTimeMs());c+=e.getEndTimeMs()-f;b=e.getEndTimeMs()}}f=10;return parseInt(c,f)};return a}();e.exports=a}),null);
__d("R2D2PlayCountMetric",["R2D2UniqueTimeSpentMetric"],(function(a,b,c,d,e,f){__p&&__p();var g="play_count";a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.compute=function(a){var c=new(b("R2D2UniqueTimeSpentMetric"))();return a.getWatchedSegments().length>0&&c.compute(a)>0?1:0};c.computeDelta=function(a,b){return a-b};c.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2VideoPlayRetention0to15s",[],(function(a,b,c,d,e,f){__p&&__p();var g="video_play_retention_0_to_15s",h=15,i=0,j=1e3;a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.compute=function(a){__p&&__p();var b=new Array(h-i+1);b.fill(0);a=a.getWatchedSegments();var c=10;for(var d=0;d<a.length;d++){var e=parseInt(a[d].getStartTimeMs()/j,c),f=parseInt(a[d].getEndTimeMs()/j,c);for(var e=e;e<=f;e++)if(e>=i&&e<=h)b[e-i]=1;else if(e>h)break}return b};b.computeDelta=function(a,b){var c=[];if(a.length!==b.length)return c;for(var d=0;d<a.length;d++)c.push(a[d]-b[d]);return c};b.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2VideoStateSummary",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$2=[],this.$1=new Map()}var b=a.prototype;b.getMetricValue=function(a){a=this.$1.get(a);return a===null||a===void 0?null:a};b.setMetricValue=function(a,b){b!==null&&this.$1.set(a,b)};b.toJSON=function(){var a=this,b={};this.$1.forEach(function(c,d){b[d]=a.$3(c)});if(this.$2.length>0){var c="debug_details";b[c]=JSON.stringify(this.$2)}return b};b.addDebugInfo=function(a){this.$2.push(a)};b.$3=function(a){return Array.isArray(a)?"["+a.toString()+"]":a};return a}();e.exports=a}),null);
__d("R2D2MetricsHelper",[],(function(a,b,c,d,e,f){__p&&__p();a={isPercentageCovered:function(a,b,c){if(b===0)return!1;for(var d=0;d<c.length;d++){var e=c[d];if(e.getStartTimeMs()<=b*a&&e.getEndTimeMs()>=b*a)return!0}return!1}};e.exports=a}),null);
__d("R2D2ViewCountPercentage",["R2D2MetricsHelper"],(function(a,b,c,d,e,f){__p&&__p();var g="view_count_";a=function(){"use strict";__p&&__p();function a(a){this.percentFactor=a}var c=a.prototype;c.compute=function(a){return b("R2D2MetricsHelper").isPercentageCovered(this.percentFactor/100,a.getDurationMs(),a.getWatchedSegments())?1:0};c.computeDelta=function(a,b){return a-b};c.getMetricName=function(){return g+this.percentFactor};return a}();e.exports=a}),null);
__d("R2D2ViewCount100Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g=100;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,g)||this}return b}(b("R2D2ViewCountPercentage"));e.exports=a}),null);
__d("R2D2ViewCount10Metric",["R2D2UniqueTimeSpentMetric"],(function(a,b,c,d,e,f){__p&&__p();var g="true_view_count",h=10*1e3,i=.97;a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.compute=function(a){var c=new(b("R2D2UniqueTimeSpentMetric"))();return c.compute(a)>=h||a.getDurationMs()>0&&c.compute(a)>=a.getDurationMs()*i?1:0};c.computeDelta=function(a,b){return a-b};c.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2ViewCount25Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g=25;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,g)||this}return b}(b("R2D2ViewCountPercentage"));e.exports=a}),null);
__d("R2D2ViewCount50Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g=50;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,g)||this}return b}(b("R2D2ViewCountPercentage"));e.exports=a}),null);
__d("R2D2ViewCount75Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g=75;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,g)||this}return b}(b("R2D2ViewCountPercentage"));e.exports=a}),null);
__d("R2D2ViewCount95Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g=95;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,g)||this}return b}(b("R2D2ViewCountPercentage"));e.exports=a}),null);
__d("R2D2ViewCountMetric",["R2D2UniqueTimeSpentMetric"],(function(a,b,c,d,e,f){__p&&__p();var g="view_count",h=3e3,i=.97;a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.compute=function(a){var c=new(b("R2D2UniqueTimeSpentMetric"))();return c.compute(a)>=h||a.getDurationMs()>0&&c.compute(a)>=a.getDurationMs()*i?1:0};c.computeDelta=function(a,b){return a-b};c.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2ViewCountRetentionGraphMetric",["R2D2ViewCountMetric"],(function(a,b,c,d,e,f){__p&&__p();var g="retention_graph",h=4,i=40,j=1e3,k=10;a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.computeDelta=function(a,b){if(a.length!==b.length)return[];var c=[];for(var d=0;d<a.length;d++)c.push(a[d]-b[d]);return c};c.getMetricName=function(){return g};c.compute=function(a){__p&&__p();var c=a.getDurationMs();if(!isFinite(c)||c<=0)return[];c=new(b("R2D2ViewCountMetric"))().compute(a);var d=a.getDurationMs(),e=parseInt(((d-1)/(j*h)+1)*h,k);e=Math.min(e,i);var f=new Array(e+1);f.fill(0);if(c==0)return f;c=a.getWatchedSegments();for(var a=0;a<c.length;a++){var g=c[a],l=parseInt(e*g.getStartTimeMs()/d,k);g=parseInt(e*g.getEndTimeMs()/d,k);if(l<=g&&l>=0&&g<=e)for(var l=l;l<=g;l++)f[l]=1}return f};return a}();e.exports=a}),null);
__d("R2D2UniqueTimeSpentWithSoundMetric",[],(function(a,b,c,d,e,f){__p&&__p();var g="unique_time_spent_with_sound_ms";a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.compute=function(a){return this.$1(a)};b.computeDelta=function(a,b){return a-b};b.getMetricName=function(){return g};b.$1=function(a){__p&&__p();var b=0,c=0;a=a.getWatchedSegmentsWithSound();for(var d=0;d<a.length;d++){var e=a[d],f=e.getEndTimeMs();if(f>b){f=Math.max(b,e.getStartTimeMs());c+=e.getEndTimeMs()-f;b=e.getEndTimeMs()}}f=10;return parseInt(c,f)};return a}();e.exports=a}),null);
__d("R2D2ViewCountWithSoundMetric",["R2D2UniqueTimeSpentWithSoundMetric"],(function(a,b,c,d,e,f){__p&&__p();var g="view_count_with_sound_on",h=3e3,i=.97;a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.compute=function(a){var c=new(b("R2D2UniqueTimeSpentWithSoundMetric"))();return c.compute(a)>=h||a.getDurationMs()>0&&c.compute(a)>=a.getDurationMs()*i?1:0};c.computeDelta=function(a,b){return a-b};c.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2VideoStateSummaryCalculator",["R2D2FinishCountMetric","R2D2PlayCountMetric","R2D2UniqueTimeSpentMetric","R2D2VideoPlayRetention0to15s","R2D2VideoStateSummary","R2D2ViewCount100Metric","R2D2ViewCount10Metric","R2D2ViewCount25Metric","R2D2ViewCount50Metric","R2D2ViewCount75Metric","R2D2ViewCount95Metric","R2D2ViewCountMetric","R2D2ViewCountRetentionGraphMetric","R2D2ViewCountWithSoundMetric"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$1=[new(b("R2D2UniqueTimeSpentMetric"))(),new(b("R2D2PlayCountMetric"))(),new(b("R2D2ViewCountMetric"))(),new(b("R2D2VideoPlayRetention0to15s"))(),new(b("R2D2FinishCountMetric"))(),new(b("R2D2ViewCountRetentionGraphMetric"))(),new(b("R2D2ViewCount25Metric"))(),new(b("R2D2ViewCount50Metric"))(),new(b("R2D2ViewCount75Metric"))(),new(b("R2D2ViewCount95Metric"))(),new(b("R2D2ViewCount100Metric"))(),new(b("R2D2ViewCountWithSoundMetric"))(),new(b("R2D2ViewCount10Metric"))()]}var c=a.prototype;c.getVideoStateSummary=function(a){var c=new(b("R2D2VideoStateSummary"))();this.$1.forEach(function(b){return c.setMetricValue(b.getMetricName(),b.compute(a))});return c};c.calculateDelta=function(a,c){var d=new(b("R2D2VideoStateSummary"))();this.$1.forEach(function(b){var e=a.getMetricValue(b.getMetricName());if(c!==void 0){var f=c.getMetricValue(b.getMetricName());e=b.computeDelta(e,f)}d.setMetricValue(b.getMetricName(),e)});return d};return a}();e.exports=a}),null);
__d("R2D2Logger",["Banzai","R2D2VideoMetadata","R2D2VideoSession","R2D2VideoStateMachine","R2D2VideoStateSummaryCalculator","VideoPlayerStateBasedLoggingEvents","gkx"],(function(a,b,c,d,e,f){__p&&__p();var g=10*1e3,h="video_player",i="r2d2_summary",j="r2d2_event_validation";a=function(){"use strict";__p&&__p();function a(a){this.$4=a,this.$2=new(b("R2D2VideoStateSummaryCalculator"))(),this.$1=new Map()}var c=a.prototype;c.setScriptPath=function(a){this.$3=a};c.$5=function(a,b){return a+":"+b};c.addEvent=function(a,c){var d=this;if(this.shouldNotLogEvent(a))return;var e=this.$5(c.player_instance_key,c.video_id),f=this.$1.get(e);f==null&&(f=new(b("R2D2VideoSession"))(new(b("R2D2VideoMetadata"))(c),new(b("R2D2VideoStateMachine"))(),this.$2),this.$1.set(e,f));f.addEvent(a,c);setTimeout(function(){return d.$6()},g)};c.$6=function(){var a=this,c=[];this.$1.forEach(function(d,e){var f=null;d.hasUpdates()?f=a.createR2D2SummaryLoggingData(d.getMetadata(),d.recalculateDelta(),i):d.hasExpired()&&(c.push(e),f=a.createR2D2SummaryLoggingData(d.getMetadata(),d.getEventValidationSummary(),j));f!==null&&b("Banzai").post(h,f)});c.forEach(function(b){a.$1["delete"](b)})};c.createR2D2SummaryLoggingData=function(a,b,c){a=Object.assign(a.toJSON(),b.toJSON());return{event:c,logData:a,scriptPath:this.$3,source:this.$4}};c.shouldLogForR2D2=function(){return b("gkx")("676938")};c.shouldNotLogEvent=function(a){var c=new Set(b("VideoPlayerStateBasedLoggingEvents").StateBasedLoggingEventNames);return!c.has(a)};return a}();e.exports=a}),null);
__d("VideoPlayerLoggerErrorStates",[],(function(a,b,c,d,e,f){e.exports={PLAYBACK_FAILURE:"playback_failure",PLAYER_FAILURE:"player_failure"}}),null);
__d("VideoPlayerLoggerErrors",[],(function(a,b,c,d,e,f){e.exports={ENTERED_FALLBACK:"entered_fallback",ERROR_CALLING_FLASH:"error_calling_flash"}}),null);
__d("VideoPlayerLoggerFallbackReasons",[],(function(a,b,c,d,e,f){e.exports={TIMEOUT:"timeout",FLASH_ERROR:"flash_error",FLASH_UNAVAILABLE:"flash_unavailable"}}),null);
__d("VideoPlayerLoggerPlayerStates",[],(function(a,b,c,d,e,f){e.exports={STARTED:"started",UNPAUSED:"unpaused"}}),null);
__d("VideoPlayerLogger",["invariant","Banzai","FBLogger","R2D2Logger","VideoPlayerExperiments","VideoPlayerHTML5Experiments","VideoPlayerLoggerErrors","VideoPlayerLoggerErrorStates","VideoPlayerLoggerEvent","VideoPlayerLoggerFallbackReasons","VideoPlayerLoggerPlayerStates","VideoPlayerLoggerSource","getVideoBrowserTabId","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("VideoPlayerHTML5Experiments").useBanzaiVitalForLive,i=b("VideoPlayerHTML5Experiments").discerningAbandonStallLogging,j="video_player",k=5e3,l=function(){return b("VideoPlayerHTML5Experiments").useMonotonicallyIncreasingTimers?b("performanceAbsoluteNow")():Date.now()};a=function(){__p&&__p();function a(a,c){this.$2=a,this.$3=null,this.$5={},this.$4=c,this.$7=0,this.$8=0,this.$9=0,this.$10=0,this.$6=[],this.$19=0,this.$20=0,this.$11=0,this.$27=!1,this.$16=!1,this.$29(),this.$30(),this.$28=new(b("R2D2Logger"))(this.$2)}var c=a.prototype;c.updateSource=function(a){this.$2=a};c.getSource=function(){return this.$2};c.logEvent=function(a,c){__p&&__p();c=babelHelpers["extends"]({},c,this.$4);c.initial_event=!Object.prototype.hasOwnProperty.call(this.$5,a);Object.prototype.hasOwnProperty.call(c,"time_ms")||(c.time_ms=l());Object.prototype.hasOwnProperty.call(c,"browser_tab_id")||(c.browser_tab_id=b("getVideoBrowserTabId")());Object.prototype.hasOwnProperty.call(c,"time")||(c.time=Math.round(c.time_ms/1e3));c.is_stalling=this.$31();c.error_user_info=this.$32(c.error_user_info);this.$3&&Object.assign(c,this.$3);switch(a){case"paused":case"finished_playing":if(this.$24){var d=this.$24,e=d.getABREvaluation();c.ideal_samples=e.idealSamples;c.conservative_samples=e.conservativeSamples;c.aggressive_samples=e.aggressiveSamples;c.conservative_resolution_constrained_samples=e.conservativeResolutionConstrainedSamples;c.last_quality_switch_reason=e.lastQualitySwitchReason;c.reason&&d.setLastQualitySwitchReason(c.reason)}e=typeof this.$25==="function"&&this.$25();d=typeof this.$26==="function"&&this.$26();typeof d==="number"&&typeof e==="number"&&(c.dropped_frame_count=e,c.total_frame_count=d);break}switch(a){case"started_playing":case"unpaused":this.$27=!0;break;case"finished_playing":case"error":case"paused":this.$27=!1;break}switch(a){case"requested_playing":this.$29();this.$33();this.$5.started_playing?c.state=b("VideoPlayerLoggerPlayerStates").UNPAUSED:c.state=b("VideoPlayerLoggerPlayerStates").STARTED;break;case"started_playing":case"unpaused":case"finished_playing":case"cancelled_requested_playing":case"error":case"paused":case"representation_ended":case"heart_beat":if(a==="error"&&b("VideoPlayerExperiments").disableStallLoggingForError)break;if(a=="representation_ended"&&!this.$5.started_playing)break;if(a==="heart_beat"&&(!this.$5.started_playing||!b("VideoPlayerHTML5Experiments").heartbeatUpdateWatchTimeV2||this.$31()))break;a==="heart_beat"&&(c.v2_heart_beat=!0);(a==="started_playing"||a==="unpaused")&&(this.$11=c.time_ms,this.$34());if(a==="error"&&c.state!==b("VideoPlayerLoggerErrorStates").PLAYBACK_FAILURE)break;a==="cancelled_requested_playing"&&(this.$5.started_playing?c.state=b("VideoPlayerLoggerPlayerStates").UNPAUSED:c.state=b("VideoPlayerLoggerPlayerStates").STARTED);this.$35();this.$36();(a==="paused"||a==="finished_playing")&&(i&&a==="finished_playing"&&this.$34(),c.recent_stalls_count=this.$37());this.$38();this.$39(c);this.$40(c);this.$30();i&&this.$34();this.$29();break}e={logData:c,event:a,scriptPath:this.$1,source:this.$2};a||b("FBLogger")("video").warn("Missing event name");this.$5[a]=!0;if(this.$2==="animated_image_share")return null;c.ad_client_token||b("VideoPlayerHTML5Experiments").useVitalForEverything||h&&c.playback_is_live_streaming||b("VideoPlayerHTML5Experiments").useVitalForClosing&&(a==="paused"||a==="finished_playing"||a==="heart_beat")||b("VideoPlayerHTML5Experiments").useVitalForOpening&&(a==="unpaused"||a==="started_playing")?b("Banzai").post(j,e,b("Banzai").VITAL):b("Banzai").post(j,e);this.$28.shouldLogForR2D2()&&this.$28.addEvent(a,c);return e};c.setScriptPath=function(a){this.$1=a,this.$28.setScriptPath(a)};c.setFTData=function(a){this.$3=a};c.setABRQualityTracker=function(a){this.$24=a};c.setFrameCountGetters=function(a,b){this.$25=a,this.$26=b};c.startBuffering=function(a){if(b("VideoPlayerHTML5Experiments").disableBufferingBeforeStartedPlaying&&!this.$5.started_playing)return;this.$33(a)};c.endBuffering=function(){if(b("VideoPlayerHTML5Experiments").disableBufferingBeforeStartedPlaying&&!this.$5.started_playing)return;this.$36();this.$41();this.$35();this.$38()};c.startInterrupt=function(){this.$42()};c.endInterrupt=function(){this.$36(),this.$41()};c.$31=function(){return this.$15>0};c.$33=function(a){if(this.$31())return;this.$16=this.$27;this.$15=Date.now();a!==void 0&&this.$5.started_playing&&(this.$17=a)};c.$42=function(){if(this.$43())return;this.$21=Date.now()};c.$43=function(){return this.$21>0};c.$44=function(){return!this.$43()?0:Date.now()-this.$21};c.$45=function(){return this.$31()?Date.now()-this.$15:0};c.$36=function(){if(this.$43()){var a=this.$44();this.$22+=a;this.$20+=a;this.$23+=1;this.$19+=1}};c.$41=function(){this.$43()&&(this.$21=0)};c.$30=function(){this.$22=0,this.$23=0,this.$41()};c.$35=function(){__p&&__p();if(this.$31()){var a=this.$45();this.$17!==null&&(this.$18=a);this.$14+=a;this.$8+=a;this.$12++;a>200&&this.$13++;this.$7++;this.$16&&(this.$10+=a,this.$9++,this.$16=!1);i&&this.$6.push(l())}};c.$38=function(){this.$31()&&(this.$15=0)};c.$32=function(a){return a&&typeof a==="object"?JSON.stringify(a):a};c.getCumulativeStallCount=function(){return this.$7};c.getCumulativeInPlayStallCount=function(){return this.$9};c.getStallCount=function(){return this.$12};c.getCumulativeStallTime=function(){return this.$8+this.$45()};c.getCumulativeInPlayStallTime=function(){return this.$10+(this.$16?this.$45():0)};c.getCumulativeInterruptCount=function(){return this.$19};c.getCumulativeInterruptTime=function(){return this.$20+this.$44()};c.$39=function(a){a.stall_time=Math.max(0,this.$14),a.stall_count=this.$12,a.stall_count_200_ms=this.$13,this.$18&&(a.first_stall_time=this.$18,a.first_stall_start_position=this.$17)};c.$40=function(a){a.interrupt_time=Math.max(0,this.$22),a.interrupt_count=this.$23};c.$37=function(){var a=l(),b=a-k;this.$6=this.$6.filter(function(a){return a>=b});i||this.$12>0&&this.$6.push(a);return this.$6.length};c.$29=function(){this.$14=0,this.$15=0,this.$12=0,this.$13=0,this.$17=null,this.$18=0};c.$34=function(){this.$6=[]};c.getFTdata=function(){return this.$3};return a}();a.Sources=b("VideoPlayerLoggerSource");a.Errors=b("VideoPlayerLoggerErrors");a.FallbackReasons=b("VideoPlayerLoggerFallbackReasons");a.ErrorStates=b("VideoPlayerLoggerErrorStates");a.PlayerStates=b("VideoPlayerLoggerPlayerStates");e.exports=a}),null);
__d("LiveVideoCopyrightActionQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2145232792194057"};b.getQueryID=function(){return"2180375868916621"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("LiveVideoCopyrightActionSubscriptionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f){"use strict";e.exports=b("WebGraphQLSubscriptionHelper").getExports({docID:"2024168130980964",queryID:"292170761620173"})}),null);
__d("XFeedSeeFirstNuxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/feed/control/see_first/nux/",{})}),null);
__d("XFollowPrivacyNuxLogViewAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/follow/follow_privacy/nux/log/view/",{})}),null);
__d("XPagesQualityOfConnectionsExperimentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/quality_of_connections_experiment/",{page_id:{type:"FBID",required:!0},__asyncDialog:{type:"Int"}})}),null);
__d("XPubcontentChainedSuggestionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pubcontent/chained_suggestions/",{pageid:{type:"String"},profileid:{type:"Int"},eh:{type:"Bool",defaultValue:!1},friendid:{type:"Int"}})}),null);
__d("XVideoDataController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/video_data/",{video_id:{type:"String",required:!0},width:{type:"Int"},height:{type:"Int"},scrubbing_preference:{type:"Int"},source:{type:"String"},preferred_projection:{type:"Enum",enumType:1},supports_html5_video:{type:"Bool",defaultValue:!0},is_ad:{type:"Bool",defaultValue:!1},force_flash:{type:"Bool",defaultValue:!1},is_omnistab_preview_select_revert:{type:"Bool",defaultValue:!1}})}),null);